{
  "components": {
    "schemas": {
      "AIChatRequest": {
        "properties": {
          "chatHistory": {
            "anyOf": [
              {
                "items": {
                  "additionalProperties": true,
                  "type": "object"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Chathistory"
          },
          "chat_history": {
            "anyOf": [
              {
                "items": {
                  "additionalProperties": true,
                  "type": "object"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Chat History"
          },
          "chat_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Chat Id"
          },
          "context": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Context"
          },
          "message": {
            "title": "Message",
            "type": "string"
          }
        },
        "required": [
          "message"
        ],
        "title": "AIChatRequest",
        "type": "object"
      },
      "AIChatResponse": {
        "properties": {
          "reply": {
            "title": "Reply",
            "type": "string"
          }
        },
        "required": [
          "reply"
        ],
        "title": "AIChatResponse",
        "type": "object"
      },
      "ActiveConcept": {
        "description": "Active concept with weight.",
        "properties": {
          "concept_id": {
            "title": "Concept Id",
            "type": "string"
          },
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "weight": {
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Weight",
            "type": "number"
          }
        },
        "required": [
          "concept_id",
          "weight"
        ],
        "title": "ActiveConcept",
        "type": "object"
      },
      "ActiveObject": {
        "description": "Active object (claim or document).",
        "properties": {
          "object_id": {
            "title": "Object Id",
            "type": "string"
          },
          "object_type": {
            "title": "Object Type",
            "type": "string"
          },
          "relevance_score": {
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Relevance Score",
            "type": "number"
          }
        },
        "required": [
          "object_type",
          "object_id",
          "relevance_score"
        ],
        "title": "ActiveObject",
        "type": "object"
      },
      "ActivityEvent": {
        "properties": {
          "answer_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Answer Id"
          },
          "concept_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Concept Id"
          },
          "created_at": {
            "title": "Created At",
            "type": "string"
          },
          "graph_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Graph Id"
          },
          "id": {
            "title": "Id",
            "type": "string"
          },
          "payload": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Payload"
          },
          "resource_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Resource Id"
          },
          "type": {
            "title": "Type",
            "type": "string"
          },
          "user_id": {
            "title": "User Id",
            "type": "string"
          }
        },
        "required": [
          "id",
          "user_id",
          "type",
          "created_at"
        ],
        "title": "ActivityEvent",
        "type": "object"
      },
      "ActivityEventCreate": {
        "properties": {
          "answer_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Answer Id"
          },
          "concept_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Concept Id"
          },
          "graph_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Graph Id"
          },
          "payload": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Payload"
          },
          "resource_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Resource Id"
          },
          "type": {
            "enum": [
              "CONCEPT_VIEWED",
              "RESOURCE_OPENED",
              "EVIDENCE_FETCHED",
              "ANSWER_CREATED",
              "GRAPH_SWITCHED",
              "PINNED",
              "PATH_STARTED",
              "PATH_STEP_VIEWED",
              "PATH_EXITED",
              "DIGEST_OPENED",
              "REVIEW_OPENED",
              "VOICE_SESSION",
              "INGESTION_STARTED",
              "INGESTION_COMPLETED",
              "CANVAS_CAPTURED",
              "QUIZ_STARTED",
              "QUIZ_COMPLETED",
              "MASTERY_UPDATED",
              "CONCEPT_CURATED",
              "BRANCH_CREATED",
              "PROFILE_UPDATED",
              "LENS_CHANGED"
            ],
            "title": "Type",
            "type": "string"
          }
        },
        "required": [
          "type"
        ],
        "title": "ActivityEventCreate",
        "type": "object"
      },
      "Analogy": {
        "properties": {
          "analogy_id": {
            "title": "Analogy Id",
            "type": "string"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "label": {
            "title": "Label",
            "type": "string"
          },
          "tags": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tags"
          }
        },
        "required": [
          "analogy_id",
          "label"
        ],
        "title": "Analogy",
        "type": "object"
      },
      "AnchorBranchCreateRequest": {
        "description": "Create a branch from a non-text anchor (currently bbox lasso).\n\nThis is additive; the existing POST /contextual-branches span endpoint remains unchanged.",
        "properties": {
          "artifact": {
            "$ref": "#/components/schemas/ArtifactRef"
          },
          "bbox": {
            "$ref": "#/components/schemas/BBoxSelector"
          },
          "chat_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Optional chat session id for downstream linkage",
            "title": "Chat Id"
          },
          "context": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Optional parent context text (e.g., concept title)",
            "title": "Context"
          },
          "preview": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Short preview label for the selection",
            "title": "Preview"
          },
          "snippet_image_data_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Optional data URL preview for vision grounding",
            "title": "Snippet Image Data Url"
          }
        },
        "required": [
          "artifact",
          "bbox"
        ],
        "title": "AnchorBranchCreateRequest",
        "type": "object"
      },
      "AnchorSpan": {
        "description": "Represents a text span selection within a parent message.",
        "properties": {
          "end_offset": {
            "description": "Character offset where selection ends",
            "title": "End Offset",
            "type": "integer"
          },
          "parent_message_id": {
            "description": "ID of the parent message containing this span",
            "title": "Parent Message Id",
            "type": "string"
          },
          "selected_text": {
            "description": "The actual selected text",
            "title": "Selected Text",
            "type": "string"
          },
          "selected_text_hash": {
            "description": "SHA256 hash of selected text for idempotency",
            "title": "Selected Text Hash",
            "type": "string"
          },
          "start_offset": {
            "description": "Character offset where selection starts",
            "title": "Start Offset",
            "type": "integer"
          }
        },
        "required": [
          "start_offset",
          "end_offset",
          "selected_text",
          "selected_text_hash",
          "parent_message_id"
        ],
        "title": "AnchorSpan",
        "type": "object"
      },
      "AnswerHighlight": {
        "properties": {
          "answer_id": {
            "title": "Answer Id",
            "type": "string"
          }
        },
        "required": [
          "answer_id"
        ],
        "title": "AnswerHighlight",
        "type": "object"
      },
      "AnswerRecord": {
        "description": "Stores a Brain Web answer for tracking and feedback.",
        "properties": {
          "answer_id": {
            "title": "Answer Id",
            "type": "string"
          },
          "created_at": {
            "format": "date-time",
            "title": "Created At",
            "type": "string"
          },
          "question": {
            "title": "Question",
            "type": "string"
          },
          "raw_answer": {
            "title": "Raw Answer",
            "type": "string"
          },
          "used_node_ids": {
            "default": [],
            "items": {
              "type": "string"
            },
            "title": "Used Node Ids",
            "type": "array"
          }
        },
        "required": [
          "answer_id",
          "question",
          "raw_answer"
        ],
        "title": "AnswerRecord",
        "type": "object"
      },
      "AnswerRevisionRequest": {
        "description": "Request to store a user-rewritten answer",
        "properties": {
          "answer_id": {
            "title": "Answer Id",
            "type": "string"
          },
          "user_rewritten_answer": {
            "title": "User Rewritten Answer",
            "type": "string"
          }
        },
        "required": [
          "answer_id",
          "user_rewritten_answer"
        ],
        "title": "AnswerRevisionRequest",
        "type": "object"
      },
      "AppendStepRequest": {
        "description": "Request to append a step to a trail.",
        "properties": {
          "branch_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Branch Id"
          },
          "graph_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Graph Id"
          },
          "kind": {
            "description": "'page'|'quote'|'concept'|'claim'|'search'",
            "title": "Kind",
            "type": "string"
          },
          "meta": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Meta"
          },
          "note": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Note"
          },
          "ref_id": {
            "description": "URL, quote_id, concept_id, claim_id, or query string",
            "title": "Ref Id",
            "type": "string"
          },
          "title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Title"
          }
        },
        "required": [
          "kind",
          "ref_id"
        ],
        "title": "AppendStepRequest",
        "type": "object"
      },
      "AppendStepResponse": {
        "description": "Response from step append.",
        "properties": {
          "index": {
            "title": "Index",
            "type": "integer"
          },
          "step_id": {
            "title": "Step Id",
            "type": "string"
          }
        },
        "required": [
          "step_id",
          "index"
        ],
        "title": "AppendStepResponse",
        "type": "object"
      },
      "ArtifactRef": {
        "description": "Global reference to \"something\" the user can cite across modalities.\n\n- namespace/type/id identify the storage system + entity type.\n- graph_id/branch_id allow optional scoping when the entity is graph-bound.\n- version is for immutable views (e.g., chat message v3, PDF snapshot v2).",
        "properties": {
          "branch_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Branch Id"
          },
          "graph_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Graph Id"
          },
          "id": {
            "title": "Id",
            "type": "string"
          },
          "namespace": {
            "enum": [
              "neo4j",
              "postgres",
              "events",
              "frontend"
            ],
            "title": "Namespace",
            "type": "string"
          },
          "type": {
            "enum": [
              "artifact",
              "source_document",
              "source_chunk",
              "quote",
              "claim",
              "concept",
              "lecture",
              "lecture_segment",
              "resource",
              "contextual_branch",
              "voice_session",
              "study_session",
              "chat_message",
              "voice_transcript_chunk"
            ],
            "title": "Type",
            "type": "string"
          },
          "version": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Version"
          }
        },
        "required": [
          "namespace",
          "type",
          "id"
        ],
        "title": "ArtifactRef",
        "type": "object"
      },
      "AssessmentRequest": {
        "properties": {
          "action": {
            "title": "Action",
            "type": "string"
          },
          "concept_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Concept Id"
          },
          "concept_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Concept Name"
          },
          "context": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Context"
          },
          "current_mastery": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": 0,
            "title": "Current Mastery"
          },
          "graph_id": {
            "title": "Graph Id",
            "type": "string"
          },
          "history": {
            "anyOf": [
              {
                "items": {
                  "additionalProperties": true,
                  "type": "object"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "default": [],
            "title": "History"
          },
          "question": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Question"
          },
          "text_selection": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Text Selection"
          },
          "user_answer": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Answer"
          }
        },
        "required": [
          "action",
          "graph_id"
        ],
        "title": "AssessmentRequest",
        "type": "object"
      },
      "AssessmentResponse": {
        "properties": {
          "concepts_discussed": {
            "default": [],
            "items": {
              "type": "string"
            },
            "title": "Concepts Discussed",
            "type": "array"
          },
          "feedback": {
            "title": "Feedback",
            "type": "string"
          },
          "mastery_score": {
            "title": "Mastery Score",
            "type": "integer"
          },
          "next_question": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Next Question"
          }
        },
        "required": [
          "mastery_score",
          "feedback"
        ],
        "title": "AssessmentResponse",
        "type": "object"
      },
      "AttemptRequest": {
        "description": "Request to submit a task attempt.",
        "properties": {
          "response_text": {
            "description": "User's response",
            "title": "Response Text",
            "type": "string"
          },
          "self_confidence": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "User's self-assessment (0-1)",
            "title": "Self Confidence"
          }
        },
        "required": [
          "response_text"
        ],
        "title": "AttemptRequest",
        "type": "object"
      },
      "AttemptResponse": {
        "description": "Response from submitting an attempt.",
        "properties": {
          "evaluation": {
            "$ref": "#/components/schemas/EvaluationResult",
            "description": "Evaluation result"
          },
          "mode_state": {
            "additionalProperties": true,
            "description": "Updated mode state",
            "title": "Mode State",
            "type": "object"
          },
          "suggested_next": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "string"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "description": "Optional next task suggestion",
            "title": "Suggested Next"
          }
        },
        "required": [
          "evaluation",
          "mode_state"
        ],
        "title": "AttemptResponse",
        "type": "object"
      },
      "BBoxSelector": {
        "properties": {
          "h": {
            "title": "H",
            "type": "number"
          },
          "image_height": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Image Height"
          },
          "image_width": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Image Width"
          },
          "kind": {
            "const": "bbox",
            "default": "bbox",
            "title": "Kind",
            "type": "string"
          },
          "page": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Page"
          },
          "unit": {
            "default": "px",
            "enum": [
              "px",
              "pct"
            ],
            "title": "Unit",
            "type": "string"
          },
          "w": {
            "title": "W",
            "type": "number"
          },
          "x": {
            "title": "X",
            "type": "number"
          },
          "y": {
            "title": "Y",
            "type": "number"
          }
        },
        "required": [
          "x",
          "y",
          "w",
          "h"
        ],
        "title": "BBoxSelector",
        "type": "object"
      },
      "Body_create_message_version_endpoint_contextual_branches_messages__message_id__new_version_post": {
        "properties": {
          "content": {
            "description": "New version of message content",
            "title": "Content",
            "type": "string"
          }
        },
        "required": [
          "content"
        ],
        "title": "Body_create_message_version_endpoint_contextual_branches_messages__message_id__new_version_post",
        "type": "object"
      },
      "Body_extract_pdf_enhanced_endpoint_resources_pdf_extract_post": {
        "properties": {
          "file": {
            "format": "binary",
            "title": "File",
            "type": "string"
          }
        },
        "required": [
          "file"
        ],
        "title": "Body_extract_pdf_enhanced_endpoint_resources_pdf_extract_post",
        "type": "object"
      },
      "Body_ingest_pdf_pdf_ingest_post": {
        "properties": {
          "domain": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Domain/category for the PDF (e.g., 'Research', 'Legal', 'Academic')",
            "title": "Domain"
          },
          "extract_claims": {
            "default": true,
            "description": "Extract claims and evidence",
            "title": "Extract Claims",
            "type": "boolean"
          },
          "extract_concepts": {
            "default": true,
            "description": "Extract concepts and relationships using LLM",
            "title": "Extract Concepts",
            "type": "boolean"
          },
          "extract_tables": {
            "default": true,
            "description": "Extract tables as structured text",
            "title": "Extract Tables",
            "type": "boolean"
          },
          "file": {
            "format": "binary",
            "title": "File",
            "type": "string"
          },
          "use_ocr": {
            "default": false,
            "description": "Enable OCR for scanned PDFs",
            "title": "Use Ocr",
            "type": "boolean"
          }
        },
        "required": [
          "file"
        ],
        "title": "Body_ingest_pdf_pdf_ingest_post",
        "type": "object"
      },
      "Body_ingest_pdf_stream_pdf_ingest_stream_post": {
        "properties": {
          "domain": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Domain"
          },
          "extract_claims": {
            "default": true,
            "title": "Extract Claims",
            "type": "boolean"
          },
          "extract_concepts": {
            "default": true,
            "title": "Extract Concepts",
            "type": "boolean"
          },
          "extract_tables": {
            "default": true,
            "title": "Extract Tables",
            "type": "boolean"
          },
          "file": {
            "format": "binary",
            "title": "File",
            "type": "string"
          },
          "use_ocr": {
            "default": false,
            "title": "Use Ocr",
            "type": "boolean"
          }
        },
        "required": [
          "file"
        ],
        "title": "Body_ingest_pdf_stream_pdf_ingest_stream_post",
        "type": "object"
      },
      "Body_upload_resource_resources_upload_post": {
        "properties": {
          "concept_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Concept Id"
          },
          "enhanced_pdf": {
            "default": false,
            "description": "Use enhanced PDF extraction with metadata and page tracking",
            "title": "Enhanced Pdf",
            "type": "boolean"
          },
          "file": {
            "format": "binary",
            "title": "File",
            "type": "string"
          },
          "source": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": "upload",
            "title": "Source"
          },
          "title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Title"
          },
          "use_ocr": {
            "default": false,
            "description": "Enable OCR for scanned PDFs (only if enhanced_pdf=True)",
            "title": "Use Ocr",
            "type": "boolean"
          }
        },
        "required": [
          "file"
        ],
        "title": "Body_upload_resource_resources_upload_post",
        "type": "object"
      },
      "BranchCompareResponse": {
        "properties": {
          "branch_id": {
            "title": "Branch Id",
            "type": "string"
          },
          "graph_id": {
            "title": "Graph Id",
            "type": "string"
          },
          "links_only_in_branch": {
            "default": [],
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "title": "Links Only In Branch",
            "type": "array"
          },
          "links_only_in_other": {
            "default": [],
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "title": "Links Only In Other",
            "type": "array"
          },
          "node_ids_only_in_branch": {
            "default": [],
            "items": {
              "type": "string"
            },
            "title": "Node Ids Only In Branch",
            "type": "array"
          },
          "node_ids_only_in_other": {
            "default": [],
            "items": {
              "type": "string"
            },
            "title": "Node Ids Only In Other",
            "type": "array"
          },
          "other_branch_id": {
            "title": "Other Branch Id",
            "type": "string"
          }
        },
        "required": [
          "graph_id",
          "branch_id",
          "other_branch_id"
        ],
        "title": "BranchCompareResponse",
        "type": "object"
      },
      "BranchForkRequest": {
        "properties": {
          "depth": {
            "default": 2,
            "title": "Depth",
            "type": "integer"
          }
        },
        "title": "BranchForkRequest",
        "type": "object"
      },
      "BranchLLMCompareRequest": {
        "properties": {
          "branch_id": {
            "title": "Branch Id",
            "type": "string"
          },
          "other_branch_id": {
            "title": "Other Branch Id",
            "type": "string"
          },
          "question": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Question"
          }
        },
        "required": [
          "branch_id",
          "other_branch_id"
        ],
        "title": "BranchLLMCompareRequest",
        "type": "object"
      },
      "BranchLLMCompareResponse": {
        "properties": {
          "contradictions": {
            "default": [],
            "items": {
              "type": "string"
            },
            "title": "Contradictions",
            "type": "array"
          },
          "differences": {
            "default": [],
            "items": {
              "type": "string"
            },
            "title": "Differences",
            "type": "array"
          },
          "missing_steps": {
            "default": [],
            "items": {
              "type": "string"
            },
            "title": "Missing Steps",
            "type": "array"
          },
          "recommendations": {
            "default": [],
            "items": {
              "type": "string"
            },
            "title": "Recommendations",
            "type": "array"
          },
          "similarities": {
            "default": [],
            "items": {
              "type": "string"
            },
            "title": "Similarities",
            "type": "array"
          }
        },
        "title": "BranchLLMCompareResponse",
        "type": "object"
      },
      "BranchMessage": {
        "description": "A message within a branch thread.",
        "properties": {
          "branch_id": {
            "title": "Branch Id",
            "type": "string"
          },
          "content": {
            "title": "Content",
            "type": "string"
          },
          "created_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created At"
          },
          "id": {
            "title": "Id",
            "type": "string"
          },
          "role": {
            "description": "'user' or 'assistant'",
            "title": "Role",
            "type": "string"
          },
          "timestamp": {
            "format": "date-time",
            "title": "Timestamp",
            "type": "string"
          }
        },
        "required": [
          "id",
          "branch_id",
          "role",
          "content",
          "timestamp"
        ],
        "title": "BranchMessage",
        "type": "object"
      },
      "BranchMessageRequest": {
        "description": "Request to send a message in a branch.",
        "properties": {
          "content": {
            "title": "Content",
            "type": "string"
          }
        },
        "required": [
          "content"
        ],
        "title": "BranchMessageRequest",
        "type": "object"
      },
      "BranchResponse": {
        "description": "Response containing branch metadata and messages.",
        "properties": {
          "branch": {
            "$ref": "#/components/schemas/BranchThread"
          },
          "messages": {
            "items": {
              "$ref": "#/components/schemas/BranchMessage"
            },
            "title": "Messages",
            "type": "array"
          }
        },
        "required": [
          "branch",
          "messages"
        ],
        "title": "BranchResponse",
        "type": "object"
      },
      "BranchThread": {
        "description": "A contextual branch thread anchored to a span in a parent message.",
        "properties": {
          "anchor": {
            "$ref": "#/components/schemas/AnchorSpan"
          },
          "anchor_kind": {
            "default": "text_span",
            "description": "'text_span' (default) or 'anchor_ref'",
            "title": "Anchor Kind",
            "type": "string"
          },
          "anchor_ref": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "description": "Unified AnchorRef JSON (if anchor_kind='anchor_ref')",
            "title": "Anchor Ref"
          },
          "anchor_snippet_data_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Optional data URL preview for bbox anchors",
            "title": "Anchor Snippet Data Url"
          },
          "archived_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "When this branch was archived",
            "title": "Archived At"
          },
          "bridging_hints": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/BridgingHintSet"
              },
              {
                "type": "null"
              }
            ]
          },
          "chat_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Chat session id for digest linkage",
            "title": "Chat Id"
          },
          "created_at": {
            "format": "date-time",
            "title": "Created At",
            "type": "string"
          },
          "id": {
            "title": "Id",
            "type": "string"
          },
          "is_archived": {
            "default": false,
            "description": "Whether this branch is archived",
            "title": "Is Archived",
            "type": "boolean"
          },
          "messages": {
            "items": {
              "$ref": "#/components/schemas/BranchMessage"
            },
            "title": "Messages",
            "type": "array"
          },
          "parent_message_id": {
            "description": "ID of parent message (same as anchor.parent_message_id)",
            "title": "Parent Message Id",
            "type": "string"
          },
          "parent_message_version": {
            "default": 1,
            "description": "Version of parent message when branch was created",
            "title": "Parent Message Version",
            "type": "integer"
          },
          "updated_at": {
            "format": "date-time",
            "title": "Updated At",
            "type": "string"
          }
        },
        "required": [
          "id",
          "anchor",
          "messages",
          "created_at",
          "updated_at",
          "parent_message_id"
        ],
        "title": "BranchThread",
        "type": "object"
      },
      "BridgingHint": {
        "description": "A hint that bridges the clarified concept back to the original response.",
        "properties": {
          "branch_id": {
            "title": "Branch Id",
            "type": "string"
          },
          "created_at": {
            "format": "date-time",
            "title": "Created At",
            "type": "string"
          },
          "hint_text": {
            "title": "Hint Text",
            "type": "string"
          },
          "id": {
            "title": "Id",
            "type": "string"
          },
          "target_offset": {
            "description": "Character offset in parent message where this hint applies",
            "title": "Target Offset",
            "type": "integer"
          }
        },
        "required": [
          "id",
          "branch_id",
          "hint_text",
          "target_offset",
          "created_at"
        ],
        "title": "BridgingHint",
        "type": "object"
      },
      "BridgingHintSet": {
        "description": "Collection of bridging hints for a branch.",
        "properties": {
          "branch_id": {
            "title": "Branch Id",
            "type": "string"
          },
          "created_at": {
            "format": "date-time",
            "title": "Created At",
            "type": "string"
          },
          "hints": {
            "items": {
              "$ref": "#/components/schemas/BridgingHint"
            },
            "title": "Hints",
            "type": "array"
          }
        },
        "required": [
          "branch_id",
          "hints",
          "created_at"
        ],
        "title": "BridgingHintSet",
        "type": "object"
      },
      "BridgingHintsResponse": {
        "description": "Response containing bridging hints.",
        "properties": {
          "branch_id": {
            "title": "Branch Id",
            "type": "string"
          },
          "hints": {
            "items": {
              "$ref": "#/components/schemas/BridgingHint"
            },
            "title": "Hints",
            "type": "array"
          }
        },
        "required": [
          "branch_id",
          "hints"
        ],
        "title": "BridgingHintsResponse",
        "type": "object"
      },
      "CalendarEvent": {
        "description": "A calendar event stored natively in the system.",
        "properties": {
          "all_day": {
            "default": true,
            "title": "All Day",
            "type": "boolean"
          },
          "color": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Color"
          },
          "created_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created At"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "end_date": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "End Date"
          },
          "end_time": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "End Time"
          },
          "event_id": {
            "title": "Event Id",
            "type": "string"
          },
          "location": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Location"
          },
          "start_date": {
            "title": "Start Date",
            "type": "string"
          },
          "start_time": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Start Time"
          },
          "title": {
            "title": "Title",
            "type": "string"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At"
          }
        },
        "required": [
          "event_id",
          "title",
          "start_date"
        ],
        "title": "CalendarEvent",
        "type": "object"
      },
      "CalendarEventCreate": {
        "description": "Request to create a calendar event.",
        "properties": {
          "all_day": {
            "default": true,
            "title": "All Day",
            "type": "boolean"
          },
          "color": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Color"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "end_date": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "End Date"
          },
          "end_time": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "End Time"
          },
          "location": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Location"
          },
          "start_date": {
            "title": "Start Date",
            "type": "string"
          },
          "start_time": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Start Time"
          },
          "title": {
            "title": "Title",
            "type": "string"
          }
        },
        "required": [
          "title",
          "start_date"
        ],
        "title": "CalendarEventCreate",
        "type": "object"
      },
      "CalendarEventListResponse": {
        "description": "Response for listing calendar events.",
        "properties": {
          "events": {
            "items": {
              "$ref": "#/components/schemas/CalendarEvent"
            },
            "title": "Events",
            "type": "array"
          },
          "total": {
            "title": "Total",
            "type": "integer"
          }
        },
        "required": [
          "events",
          "total"
        ],
        "title": "CalendarEventListResponse",
        "type": "object"
      },
      "CalendarEventUpdate": {
        "description": "Request to update a calendar event.",
        "properties": {
          "all_day": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "All Day"
          },
          "color": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Color"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "end_date": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "End Date"
          },
          "end_time": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "End Time"
          },
          "location": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Location"
          },
          "start_date": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Start Date"
          },
          "start_time": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Start Time"
          },
          "title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Title"
          }
        },
        "title": "CalendarEventUpdate",
        "type": "object"
      },
      "CaptureRequest": {
        "description": "Request to capture content.",
        "properties": {
          "attach_concept_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Attach Concept Id"
          },
          "branch_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Branch Id"
          },
          "content_type": {
            "description": "Type: 'selection', 'url', 'file'",
            "title": "Content Type",
            "type": "string"
          },
          "file_data": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "File Data"
          },
          "graph_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Graph Id"
          },
          "page_title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Page Title"
          },
          "page_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Page Url"
          },
          "selected_text": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Selected Text"
          },
          "url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Url"
          }
        },
        "required": [
          "content_type"
        ],
        "title": "CaptureRequest",
        "type": "object"
      },
      "CaptureResponse": {
        "description": "Response from capture operation.",
        "properties": {
          "next_actions": {
            "description": "Suggested next actions",
            "items": {
              "type": "string"
            },
            "title": "Next Actions",
            "type": "array"
          },
          "result": {
            "additionalProperties": true,
            "title": "Result",
            "type": "object"
          },
          "success": {
            "title": "Success",
            "type": "boolean"
          },
          "workflow": {
            "default": "capture",
            "title": "Workflow",
            "type": "string"
          }
        },
        "required": [
          "success",
          "result"
        ],
        "title": "CaptureResponse",
        "type": "object"
      },
      "CaptureSelectionRequest": {
        "properties": {
          "anchor": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Anchor"
          },
          "attach_concept_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Attach Concept Id"
          },
          "branch_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Branch Id"
          },
          "context_after": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Context After"
          },
          "context_before": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Context Before"
          },
          "frame_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Frame Url"
          },
          "graph_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Graph Id"
          },
          "page_title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Page Title"
          },
          "page_url": {
            "title": "Page Url",
            "type": "string"
          },
          "selected_text": {
            "title": "Selected Text",
            "type": "string"
          }
        },
        "required": [
          "selected_text",
          "page_url"
        ],
        "title": "CaptureSelectionRequest",
        "type": "object"
      },
      "CaptureSelectionResponse": {
        "example": {
          "artifact_id": "A1234567890",
          "branch_id": "main",
          "graph_id": "default",
          "quote_id": "Q0987654321",
          "status": "ok"
        },
        "properties": {
          "artifact_id": {
            "title": "Artifact Id",
            "type": "string"
          },
          "branch_id": {
            "title": "Branch Id",
            "type": "string"
          },
          "graph_id": {
            "title": "Graph Id",
            "type": "string"
          },
          "quote_id": {
            "title": "Quote Id",
            "type": "string"
          },
          "status": {
            "default": "ok",
            "title": "Status",
            "type": "string"
          }
        },
        "required": [
          "graph_id",
          "branch_id",
          "artifact_id",
          "quote_id"
        ],
        "title": "CaptureSelectionResponse",
        "type": "object"
      },
      "ClaimResult": {
        "description": "Result for a single created claim.",
        "properties": {
          "claim_id": {
            "title": "Claim Id",
            "type": "string"
          },
          "concept_ids": {
            "items": {
              "type": "string"
            },
            "title": "Concept Ids",
            "type": "array"
          },
          "confidence": {
            "title": "Confidence",
            "type": "number"
          },
          "quote_id": {
            "title": "Quote Id",
            "type": "string"
          },
          "text": {
            "title": "Text",
            "type": "string"
          }
        },
        "required": [
          "claim_id",
          "text",
          "confidence",
          "quote_id",
          "concept_ids"
        ],
        "title": "ClaimResult",
        "type": "object"
      },
      "ClaimsFromQuotesRequest": {
        "description": "Request to create claims from quotes.",
        "properties": {
          "branch_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Branch Id"
          },
          "concept_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Concept Id"
          },
          "graph_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Graph Id"
          },
          "quote_ids": {
            "items": {
              "type": "string"
            },
            "title": "Quote Ids",
            "type": "array"
          }
        },
        "required": [
          "quote_ids"
        ],
        "title": "ClaimsFromQuotesRequest",
        "type": "object"
      },
      "ClaimsFromQuotesResponse": {
        "description": "Response from claims from quotes endpoint.",
        "properties": {
          "claims": {
            "items": {
              "$ref": "#/components/schemas/ClaimResult"
            },
            "title": "Claims",
            "type": "array"
          },
          "claims_created": {
            "title": "Claims Created",
            "type": "integer"
          },
          "errors": {
            "items": {
              "type": "string"
            },
            "title": "Errors",
            "type": "array"
          },
          "success": {
            "title": "Success",
            "type": "boolean"
          }
        },
        "required": [
          "success",
          "claims_created",
          "claims",
          "errors"
        ],
        "title": "ClaimsFromQuotesResponse",
        "type": "object"
      },
      "ClarifyRequest": {
        "description": "Request to clarify a selection.",
        "properties": {
          "include_related": {
            "default": true,
            "description": "Include related content",
            "title": "Include Related",
            "type": "boolean"
          },
          "radius": {
            "default": 2,
            "description": "Context radius",
            "title": "Radius",
            "type": "integer"
          },
          "selection_id": {
            "description": "ID of the selection to clarify",
            "title": "Selection Id",
            "type": "string"
          }
        },
        "required": [
          "selection_id"
        ],
        "title": "ClarifyRequest",
        "type": "object"
      },
      "ClarifyResponse": {
        "description": "Response from clarification endpoint.",
        "properties": {
          "citations": {
            "description": "Citation IDs used in explanation",
            "items": {
              "type": "string"
            },
            "title": "Citations",
            "type": "array"
          },
          "context_pack": {
            "$ref": "#/components/schemas/ContextPack",
            "description": "Context used for clarification"
          },
          "explanation": {
            "description": "Grounded explanation of the selection",
            "title": "Explanation",
            "type": "string"
          }
        },
        "required": [
          "explanation",
          "context_pack"
        ],
        "title": "ClarifyResponse",
        "type": "object"
      },
      "ClientSyncEvent": {
        "properties": {
          "branch_id": {
            "title": "Branch Id",
            "type": "string"
          },
          "created_at_ms": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created At Ms"
          },
          "event_id": {
            "title": "Event Id",
            "type": "string"
          },
          "graph_id": {
            "title": "Graph Id",
            "type": "string"
          },
          "payload": {
            "additionalProperties": true,
            "title": "Payload",
            "type": "object"
          },
          "type": {
            "enum": [
              "artifact.ingest",
              "resource.create",
              "resource.link",
              "trail.step.append"
            ],
            "title": "Type",
            "type": "string"
          }
        },
        "required": [
          "event_id",
          "graph_id",
          "branch_id",
          "type"
        ],
        "title": "ClientSyncEvent",
        "type": "object"
      },
      "CloneTemplatePayload": {
        "properties": {
          "label": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Label"
          },
          "mode": {
            "default": "clone",
            "pattern": "^(clone|version)$",
            "title": "Mode",
            "type": "string"
          }
        },
        "title": "CloneTemplatePayload",
        "type": "object"
      },
      "CommunitySearchResult": {
        "properties": {
          "community_id": {
            "title": "Community Id",
            "type": "string"
          },
          "name": {
            "title": "Name",
            "type": "string"
          },
          "score": {
            "title": "Score",
            "type": "number"
          },
          "summary": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Summary"
          }
        },
        "required": [
          "community_id",
          "name",
          "score"
        ],
        "title": "CommunitySearchResult",
        "type": "object"
      },
      "Concept": {
        "properties": {
          "aliases": {
            "default": [],
            "items": {
              "type": "string"
            },
            "title": "Aliases",
            "type": "array"
          },
          "created_by": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created By"
          },
          "created_by_run_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created By Run Id"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "domain": {
            "title": "Domain",
            "type": "string"
          },
          "graph_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Graph Id"
          },
          "last_assessed": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Assessed"
          },
          "last_updated_by": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Updated By"
          },
          "last_updated_by_run_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Updated By Run Id"
          },
          "lecture_sources": {
            "default": [],
            "items": {
              "type": "string"
            },
            "title": "Lecture Sources",
            "type": "array"
          },
          "mastery_level": {
            "default": 0,
            "title": "Mastery Level",
            "type": "integer"
          },
          "name": {
            "title": "Name",
            "type": "string"
          },
          "node_id": {
            "title": "Node Id",
            "type": "string"
          },
          "node_key": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Node Key"
          },
          "notes_key": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes Key"
          },
          "tags": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tags"
          },
          "tenant_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tenant Id"
          },
          "type": {
            "title": "Type",
            "type": "string"
          },
          "url_slug": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Url Slug"
          }
        },
        "required": [
          "node_id",
          "name",
          "domain",
          "type"
        ],
        "title": "Concept",
        "type": "object"
      },
      "ConceptCreate": {
        "properties": {
          "aliases": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Aliases"
          },
          "created_by": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created By"
          },
          "created_by_run_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created By Run Id"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "domain": {
            "title": "Domain",
            "type": "string"
          },
          "last_updated_by": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Updated By"
          },
          "last_updated_by_run_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Updated By Run Id"
          },
          "lecture_key": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Lecture Key"
          },
          "lecture_sources": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Lecture Sources"
          },
          "name": {
            "title": "Name",
            "type": "string"
          },
          "notes_key": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes Key"
          },
          "tags": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tags"
          },
          "type": {
            "default": "concept",
            "title": "Type",
            "type": "string"
          },
          "url_slug": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Url Slug"
          }
        },
        "required": [
          "name",
          "domain"
        ],
        "title": "ConceptCreate",
        "type": "object"
      },
      "ConceptMastery": {
        "properties": {
          "concept_name": {
            "title": "Concept Name",
            "type": "string"
          },
          "exposure_count": {
            "title": "Exposure Count",
            "type": "integer"
          },
          "last_seen": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Seen"
          },
          "mastery_score": {
            "title": "Mastery Score",
            "type": "number"
          },
          "success_count": {
            "title": "Success Count",
            "type": "integer"
          },
          "success_rate": {
            "title": "Success Rate",
            "type": "number"
          }
        },
        "required": [
          "concept_name",
          "mastery_score",
          "exposure_count",
          "success_count",
          "success_rate",
          "last_seen"
        ],
        "title": "ConceptMastery",
        "type": "object"
      },
      "ConceptNoteEntry": {
        "description": "Response model for notes entries linked to a concept.",
        "properties": {
          "chat_id": {
            "title": "Chat Id",
            "type": "string"
          },
          "confidence_level": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "default": 0.5,
            "title": "Confidence Level"
          },
          "created_at": {
            "format": "date-time",
            "title": "Created At",
            "type": "string"
          },
          "id": {
            "title": "Id",
            "type": "string"
          },
          "related_node_ids": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "default": [],
            "title": "Related Node Ids"
          },
          "section_id": {
            "title": "Section Id",
            "type": "string"
          },
          "section_title": {
            "title": "Section Title",
            "type": "string"
          },
          "source_type": {
            "title": "Source Type",
            "type": "string"
          },
          "summary_text": {
            "title": "Summary Text",
            "type": "string"
          }
        },
        "required": [
          "id",
          "chat_id",
          "section_id",
          "section_title",
          "summary_text",
          "source_type",
          "created_at"
        ],
        "title": "ConceptNoteEntry",
        "type": "object"
      },
      "ConceptUpdate": {
        "properties": {
          "aliases": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Aliases"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "domain": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Domain"
          },
          "tags": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tags"
          },
          "type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Type"
          }
        },
        "title": "ConceptUpdate",
        "type": "object"
      },
      "ConfusionSkillRequest": {
        "properties": {
          "concept_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Concept Id"
          },
          "limit": {
            "default": 8,
            "title": "Limit",
            "type": "integer"
          },
          "query": {
            "title": "Query",
            "type": "string"
          },
          "sources": {
            "default": [
              "stackoverflow",
              "github",
              "docs",
              "blogs"
            ],
            "items": {
              "type": "string"
            },
            "title": "Sources",
            "type": "array"
          }
        },
        "required": [
          "query"
        ],
        "title": "ConfusionSkillRequest",
        "type": "object"
      },
      "ConnectionSuggestion": {
        "description": "A suggested relationship connection.",
        "properties": {
          "confidence": {
            "title": "Confidence",
            "type": "number"
          },
          "evidence_quote_ids": {
            "default": [],
            "items": {
              "type": "string"
            },
            "title": "Evidence Quote Ids",
            "type": "array"
          },
          "justification": {
            "title": "Justification",
            "type": "string"
          },
          "relationship_type": {
            "title": "Relationship Type",
            "type": "string"
          },
          "source_concept_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Source Concept Id"
          },
          "source_quote_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Source Quote Id"
          },
          "target_concept_id": {
            "title": "Target Concept Id",
            "type": "string"
          },
          "target_concept_name": {
            "title": "Target Concept Name",
            "type": "string"
          }
        },
        "required": [
          "target_concept_id",
          "target_concept_name",
          "relationship_type",
          "justification",
          "confidence"
        ],
        "title": "ConnectionSuggestion",
        "type": "object"
      },
      "ContextPack": {
        "description": "Complete context package for a selection.",
        "properties": {
          "concepts": {
            "description": "Related concept IDs",
            "items": {
              "type": "string"
            },
            "title": "Concepts",
            "type": "array"
          },
          "excerpts": {
            "description": "Grounded excerpts sorted by relevance",
            "items": {
              "$ref": "#/components/schemas/Excerpt"
            },
            "title": "Excerpts",
            "type": "array"
          },
          "metadata": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "description": "Additional context metadata",
            "title": "Metadata"
          }
        },
        "title": "ContextPack",
        "type": "object"
      },
      "ContextRequest": {
        "description": "Request to build context from a selection.",
        "properties": {
          "include_related": {
            "default": true,
            "description": "Include linked lecture sections and concepts",
            "title": "Include Related",
            "type": "boolean"
          },
          "radius": {
            "default": 2,
            "description": "Number of surrounding blocks to include",
            "title": "Radius",
            "type": "integer"
          },
          "selection_id": {
            "description": "ID of the selection (quote_id or artifact_id)",
            "title": "Selection Id",
            "type": "string"
          }
        },
        "required": [
          "selection_id"
        ],
        "title": "ContextRequest",
        "type": "object"
      },
      "ConversationSummary": {
        "description": "Summary of a conversation exchange for long-term memory.",
        "properties": {
          "answer": {
            "title": "Answer",
            "type": "string"
          },
          "id": {
            "title": "Id",
            "type": "string"
          },
          "question": {
            "title": "Question",
            "type": "string"
          },
          "summary": {
            "default": "",
            "title": "Summary",
            "type": "string"
          },
          "timestamp": {
            "title": "Timestamp",
            "type": "integer"
          },
          "topics": {
            "default": [],
            "items": {
              "type": "string"
            },
            "title": "Topics",
            "type": "array"
          }
        },
        "required": [
          "id",
          "timestamp",
          "question",
          "answer"
        ],
        "title": "ConversationSummary",
        "type": "object"
      },
      "CreateTrailRequest": {
        "description": "Request to create a trail.",
        "properties": {
          "branch_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Branch Id"
          },
          "graph_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Graph Id"
          },
          "pinned": {
            "default": false,
            "title": "Pinned",
            "type": "boolean"
          },
          "title": {
            "title": "Title",
            "type": "string"
          }
        },
        "required": [
          "title"
        ],
        "title": "CreateTrailRequest",
        "type": "object"
      },
      "CreateTrailResponse": {
        "description": "Response from trail creation.",
        "properties": {
          "status": {
            "title": "Status",
            "type": "string"
          },
          "title": {
            "title": "Title",
            "type": "string"
          },
          "trail_id": {
            "title": "Trail Id",
            "type": "string"
          }
        },
        "required": [
          "trail_id",
          "title",
          "status"
        ],
        "title": "CreateTrailResponse",
        "type": "object"
      },
      "CreatedClaim": {
        "description": "A created claim.",
        "properties": {
          "claim_id": {
            "title": "Claim Id",
            "type": "string"
          },
          "concept_ids": {
            "items": {
              "type": "string"
            },
            "title": "Concept Ids",
            "type": "array"
          },
          "confidence": {
            "title": "Confidence",
            "type": "number"
          },
          "quote_id": {
            "title": "Quote Id",
            "type": "string"
          },
          "text": {
            "title": "Text",
            "type": "string"
          }
        },
        "required": [
          "claim_id",
          "text",
          "confidence",
          "quote_id",
          "concept_ids"
        ],
        "title": "CreatedClaim",
        "type": "object"
      },
      "CreatedConcept": {
        "description": "A created concept.",
        "properties": {
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "name": {
            "title": "Name",
            "type": "string"
          },
          "node_id": {
            "title": "Node Id",
            "type": "string"
          }
        },
        "required": [
          "node_id",
          "name"
        ],
        "title": "CreatedConcept",
        "type": "object"
      },
      "CreatedRelationship": {
        "description": "A created relationship.",
        "properties": {
          "confidence": {
            "title": "Confidence",
            "type": "number"
          },
          "justification": {
            "title": "Justification",
            "type": "string"
          },
          "relationship_type": {
            "title": "Relationship Type",
            "type": "string"
          },
          "source_id": {
            "title": "Source Id",
            "type": "string"
          },
          "target_id": {
            "title": "Target Id",
            "type": "string"
          }
        },
        "required": [
          "source_id",
          "target_id",
          "relationship_type",
          "justification",
          "confidence"
        ],
        "title": "CreatedRelationship",
        "type": "object"
      },
      "DashboardResponse": {
        "properties": {
          "days_looked_back": {
            "title": "Days Looked Back",
            "type": "integer"
          },
          "resume_points": {
            "items": {
              "$ref": "#/components/schemas/ResumePointResponse"
            },
            "title": "Resume Points",
            "type": "array"
          },
          "study_recommendations": {
            "items": {
              "$ref": "#/components/schemas/StudyRecommendationResponse"
            },
            "title": "Study Recommendations",
            "type": "array"
          },
          "study_time_by_domain": {
            "items": {
              "$ref": "#/components/schemas/StudyTimeResponse"
            },
            "title": "Study Time By Domain",
            "type": "array"
          },
          "total_study_hours": {
            "title": "Total Study Hours",
            "type": "number"
          },
          "upcoming_exams": {
            "items": {
              "$ref": "#/components/schemas/api_dashboard__ExamResponse"
            },
            "title": "Upcoming Exams",
            "type": "array"
          }
        },
        "required": [
          "study_time_by_domain",
          "upcoming_exams",
          "study_recommendations",
          "resume_points",
          "total_study_hours",
          "days_looked_back"
        ],
        "title": "DashboardResponse",
        "type": "object"
      },
      "DeepResearchRequest": {
        "properties": {
          "branch_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Branch Id"
          },
          "breadth": {
            "default": 3,
            "title": "Breadth",
            "type": "integer"
          },
          "depth": {
            "default": 1,
            "title": "Depth",
            "type": "integer"
          },
          "exa_research_model": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Exa Research Model"
          },
          "exa_research_timeout_seconds": {
            "default": 300,
            "title": "Exa Research Timeout Seconds",
            "type": "integer"
          },
          "exa_research_wait": {
            "default": true,
            "title": "Exa Research Wait",
            "type": "boolean"
          },
          "graph_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Graph Id"
          },
          "intent": {
            "default": "auto",
            "title": "Intent",
            "type": "string"
          },
          "topic": {
            "title": "Topic",
            "type": "string"
          },
          "use_exa_research": {
            "default": false,
            "title": "Use Exa Research",
            "type": "boolean"
          }
        },
        "required": [
          "topic"
        ],
        "title": "DeepResearchRequest",
        "type": "object"
      },
      "DeepResearchResponse": {
        "properties": {
          "data": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Data"
          },
          "message": {
            "title": "Message",
            "type": "string"
          },
          "status": {
            "title": "Status",
            "type": "string"
          }
        },
        "required": [
          "status",
          "message"
        ],
        "title": "DeepResearchResponse",
        "type": "object"
      },
      "DocumentSuggestion": {
        "properties": {
          "document_id": {
            "title": "Document Id",
            "type": "string"
          },
          "section": {
            "title": "Section",
            "type": "string"
          },
          "title": {
            "title": "Title",
            "type": "string"
          },
          "url": {
            "title": "Url",
            "type": "string"
          }
        },
        "required": [
          "document_id",
          "title",
          "section",
          "url"
        ],
        "title": "DocumentSuggestion",
        "type": "object"
      },
      "EvaluationResult": {
        "description": "Result of evaluating a task attempt.",
        "properties": {
          "composite_score": {
            "description": "Weighted composite score (0-1)",
            "title": "Composite Score",
            "type": "number"
          },
          "feedback_text": {
            "description": "Constructive feedback",
            "title": "Feedback Text",
            "type": "string"
          },
          "gap_concepts": {
            "description": "Missing/weak concept IDs",
            "items": {
              "type": "string"
            },
            "title": "Gap Concepts",
            "type": "array"
          },
          "score_json": {
            "additionalProperties": {
              "type": "number"
            },
            "description": "Scores by dimension (each 0-1)",
            "title": "Score Json",
            "type": "object"
          }
        },
        "required": [
          "score_json",
          "composite_score",
          "feedback_text"
        ],
        "title": "EvaluationResult",
        "type": "object"
      },
      "EventEnvelope": {
        "description": "Event envelope with metadata and payload.",
        "properties": {
          "actor_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "User/actor identifier",
            "title": "Actor Id"
          },
          "correlation_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Correlation ID for tracing related events",
            "title": "Correlation Id"
          },
          "event_id": {
            "description": "Unique event identifier",
            "title": "Event Id",
            "type": "string"
          },
          "event_type": {
            "$ref": "#/components/schemas/EventType",
            "description": "Type of event"
          },
          "idempotency_key": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Key for idempotency checks",
            "title": "Idempotency Key"
          },
          "object_ref": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ObjectRef"
              },
              {
                "type": "null"
              }
            ],
            "description": "Reference to the primary object"
          },
          "occurred_at": {
            "description": "When the event occurred (UTC)",
            "format": "date-time",
            "title": "Occurred At",
            "type": "string"
          },
          "payload": {
            "additionalProperties": true,
            "description": "Event-specific payload",
            "title": "Payload",
            "type": "object"
          },
          "session_id": {
            "description": "Session identifier",
            "title": "Session Id",
            "type": "string"
          },
          "trace_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Distributed trace ID",
            "title": "Trace Id"
          },
          "version": {
            "default": 1,
            "description": "Event schema version",
            "title": "Version",
            "type": "integer"
          }
        },
        "required": [
          "event_id",
          "event_type",
          "session_id",
          "occurred_at"
        ],
        "title": "EventEnvelope",
        "type": "object"
      },
      "EventType": {
        "description": "Event type enumeration.",
        "enum": [
          "UserViewed",
          "UserHighlighted",
          "ChatMessageCreated",
          "SourceCaptured",
          "ClaimUpserted",
          "RecommendationGenerated",
          "SessionContextUpdated"
        ],
        "title": "EventType",
        "type": "string"
      },
      "EventsReplayRequest": {
        "properties": {
          "events": {
            "items": {
              "$ref": "#/components/schemas/ReplayEvent"
            },
            "title": "Events",
            "type": "array"
          }
        },
        "required": [
          "events"
        ],
        "title": "EventsReplayRequest",
        "type": "object"
      },
      "EventsReplayResponse": {
        "properties": {
          "results": {
            "items": {
              "$ref": "#/components/schemas/ReplayResult"
            },
            "title": "Results",
            "type": "array"
          }
        },
        "required": [
          "results"
        ],
        "title": "EventsReplayResponse",
        "type": "object"
      },
      "EvidenceHighlight": {
        "properties": {
          "concept_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Concept Id"
          },
          "resource_id": {
            "title": "Resource Id",
            "type": "string"
          },
          "resource_title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Resource Title"
          }
        },
        "required": [
          "resource_id"
        ],
        "title": "EvidenceHighlight",
        "type": "object"
      },
      "EvidenceSubgraphRequest": {
        "properties": {
          "claim_ids": {
            "items": {
              "type": "string"
            },
            "title": "Claim Ids",
            "type": "array"
          },
          "graph_id": {
            "title": "Graph Id",
            "type": "string"
          },
          "limit_edges": {
            "default": 15,
            "title": "Limit Edges",
            "type": "integer"
          },
          "limit_nodes": {
            "default": 10,
            "title": "Limit Nodes",
            "type": "integer"
          }
        },
        "required": [
          "graph_id",
          "claim_ids"
        ],
        "title": "EvidenceSubgraphRequest",
        "type": "object"
      },
      "ExaAnswerRequest": {
        "properties": {
          "category": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Optional Exa category override, e.g. news",
            "title": "Category"
          },
          "content_max_length": {
            "default": 12000,
            "maximum": 100000.0,
            "minimum": 1000.0,
            "title": "Content Max Length",
            "type": "integer"
          },
          "content_mode": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Optional content mode override: text/highlights",
            "title": "Content Mode"
          },
          "exclude_domains": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Exclude Domains"
          },
          "include_domains": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Include Domains"
          },
          "max_age_hours": {
            "anyOf": [
              {
                "maximum": 8760.0,
                "minimum": -1.0,
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Max Age Hours"
          },
          "output_schema": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Output Schema"
          },
          "policy_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Optional Exa policy profile override",
            "title": "Policy Name"
          },
          "prefer_realtime_only": {
            "default": false,
            "title": "Prefer Realtime Only",
            "type": "boolean"
          },
          "query": {
            "description": "Question/query to answer with Exa",
            "title": "Query",
            "type": "string"
          },
          "use_text": {
            "default": true,
            "title": "Use Text",
            "type": "boolean"
          }
        },
        "required": [
          "query"
        ],
        "title": "ExaAnswerRequest",
        "type": "object"
      },
      "ExaResearchTaskCreateRequest": {
        "properties": {
          "include_events": {
            "default": false,
            "description": "Include task events when polling/getting task",
            "title": "Include Events",
            "type": "boolean"
          },
          "instructions": {
            "description": "Research instructions for Exa research task",
            "title": "Instructions",
            "type": "string"
          },
          "model": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Optional Exa research model override",
            "title": "Model"
          },
          "output_schema": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Output Schema"
          },
          "poll_interval_seconds": {
            "default": 2.0,
            "maximum": 30.0,
            "minimum": 0.5,
            "title": "Poll Interval Seconds",
            "type": "number"
          },
          "timeout_seconds": {
            "default": 180,
            "maximum": 1800.0,
            "minimum": 1.0,
            "title": "Timeout Seconds",
            "type": "integer"
          },
          "wait": {
            "default": false,
            "description": "Poll until completion before returning",
            "title": "Wait",
            "type": "boolean"
          }
        },
        "required": [
          "instructions"
        ],
        "title": "ExaResearchTaskCreateRequest",
        "type": "object"
      },
      "ExamCreate": {
        "description": "Request to create an exam.",
        "properties": {
          "assessment_type": {
            "default": "exam",
            "title": "Assessment Type",
            "type": "string"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "domain": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Domain"
          },
          "exam_date": {
            "title": "Exam Date",
            "type": "string"
          },
          "required_concepts": {
            "items": {
              "type": "string"
            },
            "title": "Required Concepts",
            "type": "array"
          },
          "title": {
            "title": "Title",
            "type": "string"
          }
        },
        "required": [
          "title",
          "exam_date"
        ],
        "title": "ExamCreate",
        "type": "object"
      },
      "ExamUpdate": {
        "description": "Request to update an exam.",
        "properties": {
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "domain": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Domain"
          },
          "exam_date": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Exam Date"
          },
          "required_concepts": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Required Concepts"
          },
          "title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Title"
          }
        },
        "title": "ExamUpdate",
        "type": "object"
      },
      "Excerpt": {
        "description": "A grounded excerpt from notes/lectures.",
        "properties": {
          "content": {
            "description": "Text content of the excerpt",
            "title": "Content",
            "type": "string"
          },
          "excerpt_id": {
            "description": "Stable ID for this excerpt",
            "title": "Excerpt Id",
            "type": "string"
          },
          "metadata": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "description": "Additional metadata (title, url, etc.)",
            "title": "Metadata"
          },
          "relevance_score": {
            "description": "Relevance to selection (0-1)",
            "title": "Relevance Score",
            "type": "number"
          },
          "source_id": {
            "description": "ID of the source document",
            "title": "Source Id",
            "type": "string"
          },
          "source_type": {
            "description": "Type of source: 'note', 'lecture', 'artifact', 'quote'",
            "title": "Source Type",
            "type": "string"
          }
        },
        "required": [
          "excerpt_id",
          "content",
          "source_type",
          "source_id",
          "relevance_score"
        ],
        "title": "Excerpt",
        "type": "object"
      },
      "ExplanationFeedback": {
        "description": "Feedback on a specific answer returned by Brain Web.\nUsed to improve future responses through feedback loops.",
        "properties": {
          "answer_id": {
            "title": "Answer Id",
            "type": "string"
          },
          "created_at": {
            "format": "date-time",
            "title": "Created At",
            "type": "string"
          },
          "humor_preference": {
            "anyOf": [
              {
                "enum": [
                  "more_humor",
                  "less_humor",
                  "ok"
                ],
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Humor Preference"
          },
          "question": {
            "title": "Question",
            "type": "string"
          },
          "question_preference": {
            "anyOf": [
              {
                "enum": [
                  "more_questions",
                  "fewer_questions",
                  "ok"
                ],
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Question Preference"
          },
          "rating": {
            "title": "Rating",
            "type": "integer"
          },
          "reasoning": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reasoning"
          },
          "verbosity": {
            "anyOf": [
              {
                "enum": [
                  "too_short",
                  "too_verbose",
                  "just_right"
                ],
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Verbosity"
          }
        },
        "required": [
          "answer_id",
          "question",
          "rating"
        ],
        "title": "ExplanationFeedback",
        "type": "object"
      },
      "ExploreRequest": {
        "description": "Request to explore the knowledge graph.",
        "properties": {
          "community_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Community Id"
          },
          "concept_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Concept Id"
          },
          "evidence_strictness": {
            "default": "medium",
            "title": "Evidence Strictness",
            "type": "string"
          },
          "explore_type": {
            "description": "Type: 'query', 'concept', 'community', 'graph'",
            "title": "Explore Type",
            "type": "string"
          },
          "graph_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Graph Id"
          },
          "intent": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Intent"
          },
          "limit": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": 10,
            "title": "Limit"
          },
          "query": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Query"
          }
        },
        "required": [
          "explore_type"
        ],
        "title": "ExploreRequest",
        "type": "object"
      },
      "ExploreResponse": {
        "description": "Response from explore operation.",
        "properties": {
          "next_actions": {
            "items": {
              "type": "string"
            },
            "title": "Next Actions",
            "type": "array"
          },
          "result": {
            "additionalProperties": true,
            "title": "Result",
            "type": "object"
          },
          "success": {
            "title": "Success",
            "type": "boolean"
          },
          "workflow": {
            "default": "explore",
            "title": "Workflow",
            "type": "string"
          }
        },
        "required": [
          "success",
          "result"
        ],
        "title": "ExploreResponse",
        "type": "object"
      },
      "ExtendRequest": {
        "description": "Request for Extend operation.",
        "properties": {
          "branch_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Branch Id"
          },
          "concept_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Optional concept_id for generate_claims mode",
            "title": "Concept Id"
          },
          "context": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Optional user intent/context",
            "title": "Context"
          },
          "graph_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Graph Id"
          },
          "max_new_nodes": {
            "anyOf": [
              {
                "maximum": 5.0,
                "minimum": 1.0,
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Required for controlled_expansion mode",
            "title": "Max New Nodes"
          },
          "mode": {
            "enum": [
              "suggest_connections",
              "generate_claims",
              "controlled_expansion"
            ],
            "title": "Mode",
            "type": "string"
          },
          "quote_ids": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Quote IDs for generate_claims mode",
            "title": "Quote Ids"
          },
          "source_id": {
            "description": "Concept node_id or Quote quote_id",
            "title": "Source Id",
            "type": "string"
          },
          "source_type": {
            "enum": [
              "concept",
              "quote"
            ],
            "title": "Source Type",
            "type": "string"
          },
          "trail_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Trail Id"
          }
        },
        "required": [
          "mode",
          "source_type",
          "source_id"
        ],
        "title": "ExtendRequest",
        "type": "object"
      },
      "ExtendResponse": {
        "description": "Response from Extend operation.",
        "properties": {
          "created_claims": {
            "default": [],
            "items": {
              "$ref": "#/components/schemas/CreatedClaim"
            },
            "title": "Created Claims",
            "type": "array"
          },
          "created_nodes": {
            "default": [],
            "items": {
              "$ref": "#/components/schemas/CreatedConcept"
            },
            "title": "Created Nodes",
            "type": "array"
          },
          "created_relationships": {
            "default": [],
            "items": {
              "$ref": "#/components/schemas/CreatedRelationship"
            },
            "title": "Created Relationships",
            "type": "array"
          },
          "errors": {
            "default": [],
            "items": {
              "type": "string"
            },
            "title": "Errors",
            "type": "array"
          },
          "mode": {
            "title": "Mode",
            "type": "string"
          },
          "status": {
            "title": "Status",
            "type": "string"
          },
          "suggestions": {
            "default": [],
            "items": {
              "$ref": "#/components/schemas/ConnectionSuggestion"
            },
            "title": "Suggestions",
            "type": "array"
          }
        },
        "required": [
          "mode",
          "status"
        ],
        "title": "ExtendResponse",
        "type": "object"
      },
      "FeedbackSummary": {
        "description": "Summarized feedback used when building prompts.\nAggregates recent feedback to guide future responses.",
        "properties": {
          "common_reasons": {
            "additionalProperties": {
              "type": "integer"
            },
            "title": "Common Reasons",
            "type": "object"
          },
          "negative": {
            "title": "Negative",
            "type": "integer"
          },
          "positive": {
            "title": "Positive",
            "type": "integer"
          },
          "total": {
            "title": "Total",
            "type": "integer"
          }
        },
        "required": [
          "total",
          "positive",
          "negative",
          "common_reasons"
        ],
        "title": "FeedbackSummary",
        "type": "object"
      },
      "FillRequest": {
        "description": "Request to run a /fill command.\n\ncommand may be either:\n- Full user message starting with \"/fill ...\"\n- The command body after \"/fill\"",
        "properties": {
          "branch_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Branch Id"
          },
          "command": {
            "description": "Fill command string",
            "title": "Command",
            "type": "string"
          },
          "graph_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Graph Id"
          },
          "limit": {
            "default": 5,
            "maximum": 20.0,
            "minimum": 1.0,
            "title": "Limit",
            "type": "integer"
          }
        },
        "required": [
          "command"
        ],
        "title": "FillRequest",
        "type": "object"
      },
      "FillResponse": {
        "properties": {
          "answer": {
            "default": "",
            "title": "Answer",
            "type": "string"
          },
          "artifact_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Artifact Id"
          },
          "data": {
            "additionalProperties": true,
            "title": "Data",
            "type": "object"
          },
          "kind": {
            "default": "unknown",
            "enum": [
              "diagram",
              "link",
              "web",
              "unknown"
            ],
            "title": "Kind",
            "type": "string"
          },
          "status": {
            "default": "ok",
            "enum": [
              "ok",
              "error"
            ],
            "title": "Status",
            "type": "string"
          },
          "warnings": {
            "items": {
              "type": "string"
            },
            "title": "Warnings",
            "type": "array"
          }
        },
        "title": "FillResponse",
        "type": "object"
      },
      "FocusArea": {
        "description": "Represents a current focus area (e.g., Distributed Systems, CUDA, Web Foundations).\nActive focus areas bias answers toward these themes.",
        "properties": {
          "active": {
            "default": true,
            "title": "Active",
            "type": "boolean"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "id": {
            "title": "Id",
            "type": "string"
          },
          "name": {
            "title": "Name",
            "type": "string"
          }
        },
        "required": [
          "id",
          "name"
        ],
        "title": "FocusArea",
        "type": "object"
      },
      "FreeBlock": {
        "description": "A free time block available for scheduling.",
        "properties": {
          "date": {
            "title": "Date",
            "type": "string"
          },
          "duration_minutes": {
            "title": "Duration Minutes",
            "type": "integer"
          },
          "end": {
            "title": "End",
            "type": "string"
          },
          "start": {
            "title": "Start",
            "type": "string"
          }
        },
        "required": [
          "start",
          "end",
          "duration_minutes",
          "date"
        ],
        "title": "FreeBlock",
        "type": "object"
      },
      "FreeBlocksResponse": {
        "description": "Response for listing free blocks.",
        "properties": {
          "blocks": {
            "items": {
              "$ref": "#/components/schemas/FreeBlock"
            },
            "title": "Blocks",
            "type": "array"
          },
          "total": {
            "title": "Total",
            "type": "integer"
          }
        },
        "required": [
          "blocks",
          "total"
        ],
        "title": "FreeBlocksResponse",
        "type": "object"
      },
      "FreeformCanvasCaptureRequest": {
        "description": "Request for analyzing a structured freeform canvas (strokes + text blocks).",
        "properties": {
          "canvas_id": {
            "title": "Canvas Id",
            "type": "string"
          },
          "canvas_title": {
            "default": "Freeform Canvas",
            "title": "Canvas Title",
            "type": "string"
          },
          "domain": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Domain"
          },
          "ocr_hint": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ocr Hint"
          },
          "phases_json": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Phases Json"
          },
          "strokes_json": {
            "title": "Strokes Json",
            "type": "string"
          },
          "text_blocks_json": {
            "title": "Text Blocks Json",
            "type": "string"
          }
        },
        "required": [
          "canvas_id",
          "strokes_json",
          "text_blocks_json"
        ],
        "title": "FreeformCanvasCaptureRequest",
        "type": "object"
      },
      "FreeformCanvasCaptureResponse": {
        "description": "Response from freeform canvas capture endpoint.",
        "properties": {
          "lecture_id": {
            "title": "Lecture Id",
            "type": "string"
          },
          "links_created": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "title": "Links Created",
            "type": "array"
          },
          "nodes_created": {
            "items": {
              "$ref": "#/components/schemas/Concept"
            },
            "title": "Nodes Created",
            "type": "array"
          },
          "nodes_updated": {
            "items": {
              "$ref": "#/components/schemas/Concept"
            },
            "title": "Nodes Updated",
            "type": "array"
          },
          "run_id": {
            "title": "Run Id",
            "type": "string"
          },
          "segments": {
            "default": [],
            "items": {
              "$ref": "#/components/schemas/LectureSegment"
            },
            "title": "Segments",
            "type": "array"
          },
          "transcript": {
            "title": "Transcript",
            "type": "string"
          }
        },
        "required": [
          "lecture_id",
          "nodes_created",
          "nodes_updated",
          "links_created",
          "transcript",
          "run_id"
        ],
        "title": "FreeformCanvasCaptureResponse",
        "type": "object"
      },
      "GetTrailResponse": {
        "description": "Response from get trail.",
        "properties": {
          "created_at": {
            "title": "Created At",
            "type": "integer"
          },
          "pinned": {
            "title": "Pinned",
            "type": "boolean"
          },
          "status": {
            "title": "Status",
            "type": "string"
          },
          "steps": {
            "items": {
              "$ref": "#/components/schemas/TrailStep"
            },
            "title": "Steps",
            "type": "array"
          },
          "title": {
            "title": "Title",
            "type": "string"
          },
          "trail_id": {
            "title": "Trail Id",
            "type": "string"
          },
          "updated_at": {
            "title": "Updated At",
            "type": "integer"
          }
        },
        "required": [
          "trail_id",
          "title",
          "status",
          "pinned",
          "created_at",
          "updated_at",
          "steps"
        ],
        "title": "GetTrailResponse",
        "type": "object"
      },
      "GraphCreateRequest": {
        "properties": {
          "intent": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Intent"
          },
          "name": {
            "title": "Name",
            "type": "string"
          },
          "template_description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Template Description"
          },
          "template_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Template Id"
          },
          "template_label": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Template Label"
          },
          "template_tags": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Template Tags"
          }
        },
        "required": [
          "name"
        ],
        "title": "GraphCreateRequest",
        "type": "object"
      },
      "GraphListResponse": {
        "properties": {
          "active_branch_id": {
            "title": "Active Branch Id",
            "type": "string"
          },
          "active_graph_id": {
            "title": "Active Graph Id",
            "type": "string"
          },
          "graphs": {
            "items": {
              "$ref": "#/components/schemas/GraphSummary"
            },
            "title": "Graphs",
            "type": "array"
          }
        },
        "required": [
          "graphs",
          "active_graph_id",
          "active_branch_id"
        ],
        "title": "GraphListResponse",
        "type": "object"
      },
      "GraphRAGContextRequest": {
        "properties": {
          "branch_id": {
            "title": "Branch Id",
            "type": "string"
          },
          "evidence_strictness": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": "medium",
            "title": "Evidence Strictness"
          },
          "graph_id": {
            "title": "Graph Id",
            "type": "string"
          },
          "include_proposed_edges": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "default": true,
            "title": "Include Proposed Edges"
          },
          "message": {
            "title": "Message",
            "type": "string"
          },
          "recency_days": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Recency Days"
          }
        },
        "required": [
          "message",
          "graph_id",
          "branch_id"
        ],
        "title": "GraphRAGContextRequest",
        "type": "object"
      },
      "GraphRAGContextResponse": {
        "properties": {
          "citations": {
            "anyOf": [
              {
                "items": {
                  "additionalProperties": true,
                  "type": "object"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Citations"
          },
          "context_text": {
            "title": "Context Text",
            "type": "string"
          },
          "debug": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Debug"
          },
          "meta": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Meta"
          }
        },
        "required": [
          "context_text"
        ],
        "title": "GraphRAGContextResponse",
        "type": "object"
      },
      "GraphRenameRequest": {
        "properties": {
          "name": {
            "title": "Name",
            "type": "string"
          }
        },
        "required": [
          "name"
        ],
        "title": "GraphRenameRequest",
        "type": "object"
      },
      "GraphSelectResponse": {
        "properties": {
          "active_branch_id": {
            "title": "Active Branch Id",
            "type": "string"
          },
          "active_graph_id": {
            "title": "Active Graph Id",
            "type": "string"
          },
          "graph": {
            "additionalProperties": true,
            "title": "Graph",
            "type": "object"
          }
        },
        "required": [
          "active_graph_id",
          "active_branch_id",
          "graph"
        ],
        "title": "GraphSelectResponse",
        "type": "object"
      },
      "GraphSummary": {
        "properties": {
          "created_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created At"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "edge_count": {
            "default": 0,
            "title": "Edge Count",
            "type": "integer"
          },
          "graph_id": {
            "title": "Graph Id",
            "type": "string"
          },
          "intent": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Intent"
          },
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "node_count": {
            "default": 0,
            "title": "Node Count",
            "type": "integer"
          },
          "template_description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Template Description"
          },
          "template_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Template Id"
          },
          "template_label": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Template Label"
          },
          "template_tags": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Template Tags"
          },
          "tenant_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tenant Id"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At"
          }
        },
        "required": [
          "graph_id"
        ],
        "title": "GraphSummary",
        "type": "object"
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "title": "Detail",
            "type": "array"
          }
        },
        "title": "HTTPValidationError",
        "type": "object"
      },
      "HandwritingIngestRequest": {
        "description": "Request for ingesting handwriting/sketches from the canvas",
        "properties": {
          "domain": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Domain"
          },
          "image_data": {
            "title": "Image Data",
            "type": "string"
          },
          "lecture_title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": "Handwritten Notes",
            "title": "Lecture Title"
          },
          "ocr_hint": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ocr Hint"
          }
        },
        "required": [
          "image_data"
        ],
        "title": "HandwritingIngestRequest",
        "type": "object"
      },
      "ImportTemplatePayload": {
        "properties": {
          "export_payload": {
            "additionalProperties": true,
            "title": "Export Payload",
            "type": "object"
          },
          "label_override": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Label Override"
          },
          "mode": {
            "default": "clone",
            "pattern": "^(clone|version)$",
            "title": "Mode",
            "type": "string"
          }
        },
        "required": [
          "export_payload"
        ],
        "title": "ImportTemplatePayload",
        "type": "object"
      },
      "IngestionRun": {
        "description": "Represents a single ingestion run that tags all created/updated objects.",
        "properties": {
          "completed_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed At"
          },
          "error_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Count"
          },
          "errors": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Errors"
          },
          "graph_id": {
            "title": "Graph Id",
            "type": "string"
          },
          "restored_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Restored At"
          },
          "run_id": {
            "title": "Run Id",
            "type": "string"
          },
          "source_label": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Source Label"
          },
          "source_type": {
            "title": "Source Type",
            "type": "string"
          },
          "started_at": {
            "title": "Started At",
            "type": "string"
          },
          "status": {
            "title": "Status",
            "type": "string"
          },
          "summary_counts": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "integer"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Summary Counts"
          },
          "undo_mode": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Undo Mode"
          },
          "undo_summary": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Undo Summary"
          },
          "undone_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Undone At"
          }
        },
        "required": [
          "run_id",
          "graph_id",
          "source_type",
          "status",
          "started_at"
        ],
        "title": "IngestionRun",
        "type": "object"
      },
      "LearningTopic": {
        "description": "A topic the user is learning about, tracked over time.",
        "properties": {
          "first_mentioned": {
            "title": "First Mentioned",
            "type": "integer"
          },
          "id": {
            "title": "Id",
            "type": "string"
          },
          "last_mentioned": {
            "title": "Last Mentioned",
            "type": "integer"
          },
          "mention_count": {
            "default": 1,
            "title": "Mention Count",
            "type": "integer"
          },
          "name": {
            "title": "Name",
            "type": "string"
          },
          "notes": {
            "default": "",
            "title": "Notes",
            "type": "string"
          },
          "related_topics": {
            "default": [],
            "items": {
              "type": "string"
            },
            "title": "Related Topics",
            "type": "array"
          }
        },
        "required": [
          "id",
          "name",
          "first_mentioned",
          "last_mentioned"
        ],
        "title": "LearningTopic",
        "type": "object"
      },
      "LearningVelocity": {
        "properties": {
          "current_avg": {
            "title": "Current Avg",
            "type": "number"
          },
          "previous_avg": {
            "title": "Previous Avg",
            "type": "number"
          },
          "trend": {
            "title": "Trend",
            "type": "string"
          },
          "weekly_improvement": {
            "title": "Weekly Improvement",
            "type": "number"
          }
        },
        "required": [
          "weekly_improvement",
          "trend",
          "current_avg",
          "previous_avg"
        ],
        "title": "LearningVelocity",
        "type": "object"
      },
      "Lecture": {
        "properties": {
          "annotations": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Annotations"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "estimated_time": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Estimated Time"
          },
          "lecture_id": {
            "title": "Lecture Id",
            "type": "string"
          },
          "level": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Level"
          },
          "metadata_json": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata Json"
          },
          "primary_concept": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Primary Concept"
          },
          "raw_text": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Raw Text"
          },
          "segment_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Segment Count"
          },
          "slug": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Slug"
          },
          "title": {
            "title": "Title",
            "type": "string"
          }
        },
        "required": [
          "lecture_id",
          "title"
        ],
        "title": "Lecture",
        "type": "object"
      },
      "LectureBlock": {
        "properties": {
          "bbox": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "number"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Bbox"
          },
          "block_id": {
            "title": "Block Id",
            "type": "string"
          },
          "block_index": {
            "title": "Block Index",
            "type": "integer"
          },
          "block_type": {
            "title": "Block Type",
            "type": "string"
          },
          "lecture_id": {
            "title": "Lecture Id",
            "type": "string"
          },
          "text": {
            "title": "Text",
            "type": "string"
          }
        },
        "required": [
          "block_id",
          "lecture_id",
          "block_index",
          "block_type",
          "text"
        ],
        "title": "LectureBlock",
        "type": "object"
      },
      "LectureBlockUpsert": {
        "properties": {
          "bbox": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "number"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Bbox"
          },
          "block_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Block Id"
          },
          "block_index": {
            "title": "Block Index",
            "type": "integer"
          },
          "block_type": {
            "title": "Block Type",
            "type": "string"
          },
          "text": {
            "title": "Text",
            "type": "string"
          }
        },
        "required": [
          "block_index",
          "block_type",
          "text"
        ],
        "title": "LectureBlockUpsert",
        "type": "object"
      },
      "LectureBlocksUpsertRequest": {
        "properties": {
          "blocks": {
            "items": {
              "$ref": "#/components/schemas/LectureBlockUpsert"
            },
            "title": "Blocks",
            "type": "array"
          }
        },
        "required": [
          "blocks"
        ],
        "title": "LectureBlocksUpsertRequest",
        "type": "object"
      },
      "LectureCreate": {
        "properties": {
          "annotations": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Annotations"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "estimated_time": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Estimated Time"
          },
          "level": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Level"
          },
          "metadata_json": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata Json"
          },
          "primary_concept": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Primary Concept"
          },
          "raw_text": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Raw Text"
          },
          "slug": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Slug"
          },
          "title": {
            "title": "Title",
            "type": "string"
          }
        },
        "required": [
          "title"
        ],
        "title": "LectureCreate",
        "type": "object"
      },
      "LectureIngestRequest": {
        "properties": {
          "domain": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Domain"
          },
          "lecture_text": {
            "title": "Lecture Text",
            "type": "string"
          },
          "lecture_title": {
            "title": "Lecture Title",
            "type": "string"
          }
        },
        "required": [
          "lecture_title",
          "lecture_text"
        ],
        "title": "LectureIngestRequest",
        "type": "object"
      },
      "LectureIngestResult": {
        "description": "Response from lecture ingestion endpoint",
        "properties": {
          "created_claim_ids": {
            "default": [],
            "items": {
              "type": "string"
            },
            "title": "Created Claim Ids",
            "type": "array"
          },
          "created_concept_ids": {
            "default": [],
            "items": {
              "type": "string"
            },
            "title": "Created Concept Ids",
            "type": "array"
          },
          "created_relationship_count": {
            "default": 0,
            "title": "Created Relationship Count",
            "type": "integer"
          },
          "lecture_id": {
            "title": "Lecture Id",
            "type": "string"
          },
          "links_created": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "title": "Links Created",
            "type": "array"
          },
          "nodes_created": {
            "items": {
              "$ref": "#/components/schemas/Concept"
            },
            "title": "Nodes Created",
            "type": "array"
          },
          "nodes_updated": {
            "items": {
              "$ref": "#/components/schemas/Concept"
            },
            "title": "Nodes Updated",
            "type": "array"
          },
          "reused_existing": {
            "default": false,
            "title": "Reused Existing",
            "type": "boolean"
          },
          "run_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Run Id"
          },
          "segments": {
            "default": [],
            "items": {
              "$ref": "#/components/schemas/LectureSegment"
            },
            "title": "Segments",
            "type": "array"
          },
          "updated_concept_ids": {
            "default": [],
            "items": {
              "type": "string"
            },
            "title": "Updated Concept Ids",
            "type": "array"
          }
        },
        "required": [
          "lecture_id",
          "nodes_created",
          "nodes_updated",
          "links_created"
        ],
        "title": "LectureIngestResult",
        "type": "object"
      },
      "LectureLink": {
        "properties": {
          "chat_id": {
            "title": "Chat Id",
            "type": "string"
          },
          "confidence_score": {
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Confidence Score",
            "type": "number"
          },
          "created_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created At"
          },
          "end_offset": {
            "title": "End Offset",
            "type": "integer"
          },
          "id": {
            "title": "Id",
            "type": "string"
          },
          "justification_text": {
            "title": "Justification Text",
            "type": "string"
          },
          "lecture_document_id": {
            "title": "Lecture Document Id",
            "type": "string"
          },
          "lecture_section_id": {
            "title": "Lecture Section Id",
            "type": "string"
          },
          "method": {
            "enum": [
              "keyword",
              "embedding",
              "hybrid"
            ],
            "title": "Method",
            "type": "string"
          },
          "source_id": {
            "title": "Source Id",
            "type": "string"
          },
          "source_type": {
            "enum": [
              "main_chat_event",
              "branch",
              "bridging_hint",
              "notes_entry"
            ],
            "title": "Source Type",
            "type": "string"
          },
          "start_offset": {
            "title": "Start Offset",
            "type": "integer"
          }
        },
        "required": [
          "id",
          "chat_id",
          "source_type",
          "source_id",
          "lecture_document_id",
          "lecture_section_id",
          "start_offset",
          "end_offset",
          "confidence_score",
          "method",
          "justification_text"
        ],
        "title": "LectureLink",
        "type": "object"
      },
      "LectureLinkFeedbackRequest": {
        "properties": {
          "action": {
            "enum": [
              "dismiss",
              "helpful"
            ],
            "title": "Action",
            "type": "string"
          }
        },
        "required": [
          "action"
        ],
        "title": "LectureLinkFeedbackRequest",
        "type": "object"
      },
      "LectureLinkResolveRequest": {
        "properties": {
          "chat_id": {
            "title": "Chat Id",
            "type": "string"
          },
          "lecture_document_ids": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Lecture Document Ids"
          },
          "source_id": {
            "title": "Source Id",
            "type": "string"
          },
          "source_type": {
            "enum": [
              "main_chat_event",
              "branch",
              "bridging_hint",
              "notes_entry"
            ],
            "title": "Source Type",
            "type": "string"
          },
          "top_n": {
            "anyOf": [
              {
                "maximum": 20.0,
                "minimum": 1.0,
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": 5,
            "title": "Top N"
          }
        },
        "required": [
          "chat_id",
          "source_type",
          "source_id"
        ],
        "title": "LectureLinkResolveRequest",
        "type": "object"
      },
      "LectureLinkResolveResponse": {
        "properties": {
          "links": {
            "items": {
              "$ref": "#/components/schemas/LectureLink"
            },
            "title": "Links",
            "type": "array"
          },
          "weak": {
            "default": false,
            "title": "Weak",
            "type": "boolean"
          }
        },
        "required": [
          "links"
        ],
        "title": "LectureLinkResolveResponse",
        "type": "object"
      },
      "LectureMention": {
        "properties": {
          "block_id": {
            "title": "Block Id",
            "type": "string"
          },
          "block_text": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Block Text"
          },
          "concept": {
            "$ref": "#/components/schemas/Concept"
          },
          "context_note": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Context Note"
          },
          "end_offset": {
            "title": "End Offset",
            "type": "integer"
          },
          "lecture_id": {
            "title": "Lecture Id",
            "type": "string"
          },
          "lecture_title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Lecture Title"
          },
          "mention_id": {
            "title": "Mention Id",
            "type": "string"
          },
          "sense_label": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sense Label"
          },
          "start_offset": {
            "title": "Start Offset",
            "type": "integer"
          },
          "surface_text": {
            "title": "Surface Text",
            "type": "string"
          }
        },
        "required": [
          "mention_id",
          "lecture_id",
          "block_id",
          "start_offset",
          "end_offset",
          "surface_text",
          "concept"
        ],
        "title": "LectureMention",
        "type": "object"
      },
      "LectureMentionCreate": {
        "properties": {
          "block_id": {
            "title": "Block Id",
            "type": "string"
          },
          "concept_id": {
            "title": "Concept Id",
            "type": "string"
          },
          "context_note": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Context Note"
          },
          "end_offset": {
            "title": "End Offset",
            "type": "integer"
          },
          "lecture_id": {
            "title": "Lecture Id",
            "type": "string"
          },
          "sense_label": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sense Label"
          },
          "start_offset": {
            "title": "Start Offset",
            "type": "integer"
          },
          "surface_text": {
            "title": "Surface Text",
            "type": "string"
          }
        },
        "required": [
          "lecture_id",
          "block_id",
          "start_offset",
          "end_offset",
          "surface_text",
          "concept_id"
        ],
        "title": "LectureMentionCreate",
        "type": "object"
      },
      "LectureMentionUpdate": {
        "properties": {
          "concept_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Concept Id"
          },
          "context_note": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Context Note"
          },
          "end_offset": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "End Offset"
          },
          "sense_label": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sense Label"
          },
          "start_offset": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Start Offset"
          },
          "surface_text": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Surface Text"
          }
        },
        "title": "LectureMentionUpdate",
        "type": "object"
      },
      "LectureSection": {
        "properties": {
          "created_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created At"
          },
          "id": {
            "title": "Id",
            "type": "string"
          },
          "lecture_document_id": {
            "title": "Lecture Document Id",
            "type": "string"
          },
          "raw_text": {
            "title": "Raw Text",
            "type": "string"
          },
          "section_index": {
            "title": "Section Index",
            "type": "integer"
          },
          "source_uri": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Source Uri"
          },
          "title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Title"
          },
          "updated_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At"
          }
        },
        "required": [
          "id",
          "lecture_document_id",
          "section_index",
          "raw_text"
        ],
        "title": "LectureSection",
        "type": "object"
      },
      "LectureSectionResponse": {
        "properties": {
          "section": {
            "$ref": "#/components/schemas/LectureSection"
          }
        },
        "required": [
          "section"
        ],
        "title": "LectureSectionResponse",
        "type": "object"
      },
      "LectureSegment": {
        "description": "A segment within a lecture, with concept + analogy links.",
        "properties": {
          "analogies": {
            "default": [],
            "items": {
              "$ref": "#/components/schemas/Analogy"
            },
            "title": "Analogies",
            "type": "array"
          },
          "covered_concepts": {
            "default": [],
            "items": {
              "$ref": "#/components/schemas/Concept"
            },
            "title": "Covered Concepts",
            "type": "array"
          },
          "end_time_sec": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "End Time Sec"
          },
          "ink_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ink Url"
          },
          "lecture_id": {
            "title": "Lecture Id",
            "type": "string"
          },
          "lecture_title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Lecture Title"
          },
          "segment_id": {
            "title": "Segment Id",
            "type": "string"
          },
          "segment_index": {
            "title": "Segment Index",
            "type": "integer"
          },
          "start_time_sec": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Start Time Sec"
          },
          "style_tags": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Style Tags"
          },
          "summary": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Summary"
          },
          "text": {
            "title": "Text",
            "type": "string"
          }
        },
        "required": [
          "segment_id",
          "lecture_id",
          "segment_index",
          "text"
        ],
        "title": "LectureSegment",
        "type": "object"
      },
      "LectureSegmentUpdate": {
        "description": "Update payload for a lecture segment.",
        "properties": {
          "end_time_sec": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "End Time Sec"
          },
          "start_time_sec": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Start Time Sec"
          },
          "style_tags": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Style Tags"
          },
          "summary": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Summary"
          },
          "text": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Text"
          }
        },
        "title": "LectureSegmentUpdate",
        "type": "object"
      },
      "LectureStep": {
        "properties": {
          "concept": {
            "$ref": "#/components/schemas/Concept"
          },
          "lecture_id": {
            "title": "Lecture Id",
            "type": "string"
          },
          "step_order": {
            "title": "Step Order",
            "type": "integer"
          }
        },
        "required": [
          "lecture_id",
          "step_order",
          "concept"
        ],
        "title": "LectureStep",
        "type": "object"
      },
      "LectureStepCreate": {
        "properties": {
          "concept_id": {
            "title": "Concept Id",
            "type": "string"
          },
          "step_order": {
            "title": "Step Order",
            "type": "integer"
          }
        },
        "required": [
          "concept_id",
          "step_order"
        ],
        "title": "LectureStepCreate",
        "type": "object"
      },
      "LectureUpdate": {
        "properties": {
          "annotations": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Annotations"
          },
          "metadata_json": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata Json"
          },
          "raw_text": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Raw Text"
          },
          "title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Title"
          }
        },
        "title": "LectureUpdate",
        "type": "object"
      },
      "ListTrailsResponse": {
        "description": "Response from list trails endpoint.",
        "properties": {
          "trails": {
            "items": {
              "$ref": "#/components/schemas/TrailSummary"
            },
            "title": "Trails",
            "type": "array"
          }
        },
        "required": [
          "trails"
        ],
        "title": "ListTrailsResponse",
        "type": "object"
      },
      "LiveMetricResourceRequest": {
        "properties": {
          "concept_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Concept Id"
          },
          "query": {
            "title": "Query",
            "type": "string"
          }
        },
        "required": [
          "query"
        ],
        "title": "LiveMetricResourceRequest",
        "type": "object"
      },
      "MergeCandidateAcceptRequest": {
        "description": "Request to accept merge candidates.",
        "properties": {
          "candidate_ids": {
            "items": {
              "type": "string"
            },
            "title": "Candidate Ids",
            "type": "array"
          },
          "graph_id": {
            "title": "Graph Id",
            "type": "string"
          },
          "reviewed_by": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reviewed By"
          }
        },
        "required": [
          "graph_id",
          "candidate_ids"
        ],
        "title": "MergeCandidateAcceptRequest",
        "type": "object"
      },
      "MergeCandidateItem": {
        "description": "A single merge candidate in the review queue.",
        "properties": {
          "candidate_id": {
            "title": "Candidate Id",
            "type": "string"
          },
          "created_at": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created At"
          },
          "dst_concept": {
            "additionalProperties": true,
            "title": "Dst Concept",
            "type": "object"
          },
          "method": {
            "title": "Method",
            "type": "string"
          },
          "rationale": {
            "title": "Rationale",
            "type": "string"
          },
          "reviewed_at": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reviewed At"
          },
          "reviewed_by": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reviewed By"
          },
          "score": {
            "title": "Score",
            "type": "number"
          },
          "src_concept": {
            "additionalProperties": true,
            "title": "Src Concept",
            "type": "object"
          },
          "status": {
            "title": "Status",
            "type": "string"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At"
          }
        },
        "required": [
          "candidate_id",
          "score",
          "method",
          "rationale",
          "status",
          "src_concept",
          "dst_concept"
        ],
        "title": "MergeCandidateItem",
        "type": "object"
      },
      "MergeCandidateListResponse": {
        "description": "Response for listing merge candidates.",
        "properties": {
          "candidates": {
            "items": {
              "$ref": "#/components/schemas/MergeCandidateItem"
            },
            "title": "Candidates",
            "type": "array"
          },
          "graph_id": {
            "title": "Graph Id",
            "type": "string"
          },
          "status": {
            "title": "Status",
            "type": "string"
          },
          "total": {
            "title": "Total",
            "type": "integer"
          }
        },
        "required": [
          "candidates",
          "total",
          "graph_id",
          "status"
        ],
        "title": "MergeCandidateListResponse",
        "type": "object"
      },
      "MergeCandidateRejectRequest": {
        "description": "Request to reject merge candidates.",
        "properties": {
          "candidate_ids": {
            "items": {
              "type": "string"
            },
            "title": "Candidate Ids",
            "type": "array"
          },
          "graph_id": {
            "title": "Graph Id",
            "type": "string"
          },
          "reviewed_by": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reviewed By"
          }
        },
        "required": [
          "graph_id",
          "candidate_ids"
        ],
        "title": "MergeCandidateRejectRequest",
        "type": "object"
      },
      "MergeExecuteRequest": {
        "description": "Request to execute a merge.",
        "properties": {
          "graph_id": {
            "title": "Graph Id",
            "type": "string"
          },
          "keep_node_id": {
            "title": "Keep Node Id",
            "type": "string"
          },
          "merge_node_id": {
            "title": "Merge Node Id",
            "type": "string"
          },
          "reviewed_by": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reviewed By"
          }
        },
        "required": [
          "graph_id",
          "keep_node_id",
          "merge_node_id"
        ],
        "title": "MergeExecuteRequest",
        "type": "object"
      },
      "MergeExecuteResponse": {
        "description": "Response for merge execution.",
        "properties": {
          "graph_id": {
            "title": "Graph Id",
            "type": "string"
          },
          "keep_node_id": {
            "title": "Keep Node Id",
            "type": "string"
          },
          "merge_node_id": {
            "title": "Merge Node Id",
            "type": "string"
          },
          "relationships_deleted": {
            "title": "Relationships Deleted",
            "type": "integer"
          },
          "relationships_redirected": {
            "title": "Relationships Redirected",
            "type": "integer"
          },
          "relationships_skipped": {
            "title": "Relationships Skipped",
            "type": "integer"
          },
          "status": {
            "title": "Status",
            "type": "string"
          }
        },
        "required": [
          "status",
          "keep_node_id",
          "merge_node_id",
          "relationships_redirected",
          "relationships_skipped",
          "relationships_deleted",
          "graph_id"
        ],
        "title": "MergeExecuteResponse",
        "type": "object"
      },
      "MessageBranchesResponse": {
        "description": "Response listing all branches for a message.",
        "properties": {
          "branches": {
            "items": {
              "$ref": "#/components/schemas/BranchThread"
            },
            "title": "Branches",
            "type": "array"
          },
          "message_id": {
            "title": "Message Id",
            "type": "string"
          }
        },
        "required": [
          "message_id",
          "branches"
        ],
        "title": "MessageBranchesResponse",
        "type": "object"
      },
      "NarrativeMetricsRequest": {
        "properties": {
          "concept_ids": {
            "items": {
              "type": "string"
            },
            "title": "Concept Ids",
            "type": "array"
          }
        },
        "required": [
          "concept_ids"
        ],
        "title": "NarrativeMetricsRequest",
        "type": "object"
      },
      "NextTaskResponse": {
        "description": "Response from getting next task.",
        "properties": {
          "mode_state": {
            "additionalProperties": true,
            "description": "Current mode state",
            "title": "Mode State",
            "type": "object"
          },
          "task_spec": {
            "$ref": "#/components/schemas/TaskSpec",
            "description": "Next task specification"
          }
        },
        "required": [
          "task_spec",
          "mode_state"
        ],
        "title": "NextTaskResponse",
        "type": "object"
      },
      "NoteImageBlock": {
        "properties": {
          "anchor": {
            "additionalProperties": true,
            "title": "Anchor",
            "type": "object"
          },
          "bbox": {
            "additionalProperties": true,
            "title": "Bbox",
            "type": "object"
          },
          "confidence": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Confidence"
          },
          "quote_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Quote Id"
          },
          "text": {
            "title": "Text",
            "type": "string"
          }
        },
        "required": [
          "text",
          "bbox",
          "anchor"
        ],
        "title": "NoteImageBlock",
        "type": "object"
      },
      "NoteImageIngestRequest": {
        "description": "Request for ingesting a whiteboard/photo note image.",
        "properties": {
          "branch_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Branch Id"
          },
          "domain": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Domain"
          },
          "graph_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Graph Id"
          },
          "image_data": {
            "description": "Base64 data URL (data:image/...;base64,...)",
            "title": "Image Data",
            "type": "string"
          },
          "ocr_blocks": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/OCRBlock"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ocr Blocks"
          },
          "ocr_engine": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "e.g. \"tesseract.js\"",
            "title": "Ocr Engine"
          },
          "ocr_hint": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ocr Hint"
          },
          "title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": "Whiteboard Photo",
            "description": "Display title",
            "title": "Title"
          }
        },
        "required": [
          "image_data"
        ],
        "title": "NoteImageIngestRequest",
        "type": "object"
      },
      "NoteImageIngestResponse": {
        "properties": {
          "artifact_id": {
            "title": "Artifact Id",
            "type": "string"
          },
          "blocks": {
            "items": {
              "$ref": "#/components/schemas/NoteImageBlock"
            },
            "title": "Blocks",
            "type": "array"
          },
          "branch_id": {
            "title": "Branch Id",
            "type": "string"
          },
          "extracted_text": {
            "title": "Extracted Text",
            "type": "string"
          },
          "graph_id": {
            "title": "Graph Id",
            "type": "string"
          },
          "image_url": {
            "title": "Image Url",
            "type": "string"
          },
          "status": {
            "default": "ok",
            "title": "Status",
            "type": "string"
          },
          "warnings": {
            "items": {
              "type": "string"
            },
            "title": "Warnings",
            "type": "array"
          }
        },
        "required": [
          "graph_id",
          "branch_id",
          "artifact_id",
          "image_url",
          "extracted_text"
        ],
        "title": "NoteImageIngestResponse",
        "type": "object"
      },
      "NotebookPage": {
        "properties": {
          "content": {
            "title": "Content",
            "type": "string"
          },
          "created_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created At"
          },
          "ink_data": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "title": "Ink Data",
            "type": "array"
          },
          "lecture_id": {
            "title": "Lecture Id",
            "type": "string"
          },
          "page_id": {
            "title": "Page Id",
            "type": "string"
          },
          "page_number": {
            "title": "Page Number",
            "type": "integer"
          },
          "paper_type": {
            "default": "ruled",
            "title": "Paper Type",
            "type": "string"
          },
          "updated_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At"
          }
        },
        "required": [
          "page_id",
          "lecture_id",
          "page_number",
          "content",
          "ink_data"
        ],
        "title": "NotebookPage",
        "type": "object"
      },
      "NotesDigest": {
        "description": "Digest for a chat session.",
        "properties": {
          "chat_id": {
            "title": "Chat Id",
            "type": "string"
          },
          "created_at": {
            "format": "date-time",
            "title": "Created At",
            "type": "string"
          },
          "id": {
            "title": "Id",
            "type": "string"
          },
          "last_processed_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Processed At"
          },
          "last_processed_message_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Processed Message Id"
          },
          "last_updated_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Updated At"
          },
          "sections": {
            "items": {
              "$ref": "#/components/schemas/NotesSection"
            },
            "title": "Sections",
            "type": "array"
          }
        },
        "required": [
          "id",
          "chat_id",
          "created_at"
        ],
        "title": "NotesDigest",
        "type": "object"
      },
      "NotesEntry": {
        "description": "Single note entry with provenance.",
        "properties": {
          "chat_id": {
            "title": "Chat Id",
            "type": "string"
          },
          "concept_label": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Concept label for grouping",
            "title": "Concept Label"
          },
          "confidence_level": {
            "default": 0.5,
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Confidence Level",
            "type": "number"
          },
          "created_at": {
            "format": "date-time",
            "title": "Created At",
            "type": "string"
          },
          "id": {
            "title": "Id",
            "type": "string"
          },
          "related_anchor_ids": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Related Anchor Ids"
          },
          "related_branch_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Related Branch Id"
          },
          "related_node_ids": {
            "description": "Neo4j concept node IDs linked to this entry",
            "items": {
              "type": "string"
            },
            "title": "Related Node Ids",
            "type": "array"
          },
          "section_id": {
            "title": "Section Id",
            "type": "string"
          },
          "source_message_ids": {
            "items": {
              "type": "string"
            },
            "title": "Source Message Ids",
            "type": "array"
          },
          "source_type": {
            "description": "main_chat | branch_chat | bridging_hint",
            "title": "Source Type",
            "type": "string"
          },
          "summary_text": {
            "title": "Summary Text",
            "type": "string"
          },
          "updated_at": {
            "format": "date-time",
            "title": "Updated At",
            "type": "string"
          }
        },
        "required": [
          "id",
          "section_id",
          "chat_id",
          "source_type",
          "summary_text",
          "created_at",
          "updated_at"
        ],
        "title": "NotesEntry",
        "type": "object"
      },
      "NotesHistoryEntry": {
        "description": "History snapshot of a digest update.",
        "properties": {
          "created_at": {
            "format": "date-time",
            "title": "Created At",
            "type": "string"
          },
          "digest_id": {
            "title": "Digest Id",
            "type": "string"
          },
          "id": {
            "title": "Id",
            "type": "string"
          },
          "snapshot": {
            "$ref": "#/components/schemas/NotesDigest"
          },
          "trigger_source": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Trigger Source"
          }
        },
        "required": [
          "id",
          "digest_id",
          "created_at",
          "snapshot"
        ],
        "title": "NotesHistoryEntry",
        "type": "object"
      },
      "NotesSection": {
        "description": "Section grouping entries by learning intent.",
        "properties": {
          "created_at": {
            "format": "date-time",
            "title": "Created At",
            "type": "string"
          },
          "digest_id": {
            "title": "Digest Id",
            "type": "string"
          },
          "entries": {
            "items": {
              "$ref": "#/components/schemas/NotesEntry"
            },
            "title": "Entries",
            "type": "array"
          },
          "id": {
            "title": "Id",
            "type": "string"
          },
          "position": {
            "title": "Position",
            "type": "integer"
          },
          "title": {
            "title": "Title",
            "type": "string"
          },
          "updated_at": {
            "format": "date-time",
            "title": "Updated At",
            "type": "string"
          }
        },
        "required": [
          "id",
          "digest_id",
          "title",
          "position",
          "created_at",
          "updated_at"
        ],
        "title": "NotesSection",
        "type": "object"
      },
      "NotesUpdateRequest": {
        "description": "Request to update notes digest incrementally.",
        "properties": {
          "branch_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Limit update to a branch when provided.",
            "title": "Branch Id"
          },
          "trigger_source": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": "manual",
            "description": "manual | branch_closed | bridging_hints",
            "title": "Trigger Source"
          }
        },
        "title": "NotesUpdateRequest",
        "type": "object"
      },
      "NotesUpdateResponse": {
        "description": "Response after updating notes digest.",
        "properties": {
          "digest": {
            "$ref": "#/components/schemas/NotesDigest"
          },
          "entries_added": {
            "default": 0,
            "title": "Entries Added",
            "type": "integer"
          },
          "entries_refined": {
            "default": 0,
            "title": "Entries Refined",
            "type": "integer"
          },
          "status": {
            "title": "Status",
            "type": "string"
          }
        },
        "required": [
          "status",
          "digest"
        ],
        "title": "NotesUpdateResponse",
        "type": "object"
      },
      "NotionConfig": {
        "description": "Configuration for Notion integration.",
        "properties": {
          "database_ids": {
            "default": [],
            "items": {
              "type": "string"
            },
            "title": "Database Ids",
            "type": "array"
          },
          "enable_auto_sync": {
            "default": false,
            "title": "Enable Auto Sync",
            "type": "boolean"
          }
        },
        "title": "NotionConfig",
        "type": "object"
      },
      "NotionIngestAllParallelRequest": {
        "properties": {
          "domain": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": "Software Engineering",
            "title": "Domain"
          },
          "max_workers": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": 5,
            "title": "Max Workers"
          },
          "mode": {
            "default": "pages",
            "enum": [
              "pages",
              "databases",
              "both"
            ],
            "title": "Mode",
            "type": "string"
          },
          "use_parallel": {
            "default": true,
            "title": "Use Parallel",
            "type": "boolean"
          }
        },
        "title": "NotionIngestAllParallelRequest",
        "type": "object"
      },
      "NotionIngestAllRequest": {
        "properties": {
          "domain": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": "Software Engineering",
            "title": "Domain"
          },
          "mode": {
            "default": "pages",
            "enum": [
              "pages",
              "databases",
              "both"
            ],
            "title": "Mode",
            "type": "string"
          }
        },
        "title": "NotionIngestAllRequest",
        "type": "object"
      },
      "NotionIngestPagesRequest": {
        "properties": {
          "domain": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": "Software Engineering",
            "title": "Domain"
          },
          "page_ids": {
            "items": {
              "type": "string"
            },
            "title": "Page Ids",
            "type": "array"
          }
        },
        "required": [
          "page_ids"
        ],
        "title": "NotionIngestPagesRequest",
        "type": "object"
      },
      "NotionPageIndexRequest": {
        "properties": {
          "include": {
            "title": "Include",
            "type": "boolean"
          },
          "page_id": {
            "title": "Page Id",
            "type": "string"
          }
        },
        "required": [
          "page_id",
          "include"
        ],
        "title": "NotionPageIndexRequest",
        "type": "object"
      },
      "NotionUnlinkPageRequest": {
        "properties": {
          "page_id": {
            "title": "Page Id",
            "type": "string"
          }
        },
        "required": [
          "page_id"
        ],
        "title": "NotionUnlinkPageRequest",
        "type": "object"
      },
      "OCRBBox": {
        "description": "Bounding box for an OCR block.\n\n- unit=\"px\": x/y/w/h are pixels in the original image coordinate space.\n- unit=\"pct\": x/y/w/h are normalized 0..1 fractions of image width/height.",
        "properties": {
          "h": {
            "title": "H",
            "type": "number"
          },
          "image_height": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Image Height"
          },
          "image_width": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Image Width"
          },
          "unit": {
            "default": "px",
            "enum": [
              "px",
              "pct"
            ],
            "title": "Unit",
            "type": "string"
          },
          "w": {
            "title": "W",
            "type": "number"
          },
          "x": {
            "title": "X",
            "type": "number"
          },
          "y": {
            "title": "Y",
            "type": "number"
          }
        },
        "required": [
          "x",
          "y",
          "w",
          "h"
        ],
        "title": "OCRBBox",
        "type": "object"
      },
      "OCRBlock": {
        "properties": {
          "bbox": {
            "$ref": "#/components/schemas/OCRBBox"
          },
          "confidence": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Confidence"
          },
          "text": {
            "default": "",
            "title": "Text",
            "type": "string"
          }
        },
        "required": [
          "bbox"
        ],
        "title": "OCRBlock",
        "type": "object"
      },
      "ObjectRef": {
        "description": "Reference to an object in the system.",
        "properties": {
          "id": {
            "description": "Object identifier",
            "title": "Id",
            "type": "string"
          },
          "type": {
            "description": "Object type (e.g., 'concept', 'claim', 'source', 'chat_message')",
            "title": "Type",
            "type": "string"
          }
        },
        "required": [
          "type",
          "id"
        ],
        "title": "ObjectRef",
        "type": "object"
      },
      "OfflineBootstrapResponse": {
        "properties": {
          "branch_id": {
            "title": "Branch Id",
            "type": "string"
          },
          "graph_id": {
            "title": "Graph Id",
            "type": "string"
          },
          "pinned_concepts": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "title": "Pinned Concepts",
            "type": "array"
          },
          "recent_artifacts": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "title": "Recent Artifacts",
            "type": "array"
          },
          "recent_trails": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "title": "Recent Trails",
            "type": "array"
          },
          "server_time": {
            "title": "Server Time",
            "type": "string"
          }
        },
        "required": [
          "graph_id",
          "branch_id",
          "server_time"
        ],
        "title": "OfflineBootstrapResponse",
        "type": "object"
      },
      "OfflineManifestResponse": {
        "properties": {
          "branch_id": {
            "title": "Branch Id",
            "type": "string"
          },
          "branch_updated_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Branch Updated At"
          },
          "counts": {
            "additionalProperties": {
              "type": "integer"
            },
            "title": "Counts",
            "type": "object"
          },
          "graph_id": {
            "title": "Graph Id",
            "type": "string"
          },
          "graph_updated_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Graph Updated At"
          },
          "server_time": {
            "title": "Server Time",
            "type": "string"
          }
        },
        "required": [
          "graph_id",
          "branch_id",
          "server_time"
        ],
        "title": "OfflineManifestResponse",
        "type": "object"
      },
      "OfflineWarmRequest": {
        "properties": {
          "artifact_ids": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Artifact Ids"
          },
          "branch_id": {
            "title": "Branch Id",
            "type": "string"
          },
          "graph_id": {
            "title": "Graph Id",
            "type": "string"
          },
          "limit": {
            "default": 50,
            "title": "Limit",
            "type": "integer"
          },
          "trail_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Trail Id"
          },
          "urls": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Urls"
          }
        },
        "required": [
          "graph_id",
          "branch_id"
        ],
        "title": "OfflineWarmRequest",
        "type": "object"
      },
      "OfflineWarmResponse": {
        "properties": {
          "artifacts": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "title": "Artifacts",
            "type": "array"
          },
          "branch_id": {
            "title": "Branch Id",
            "type": "string"
          },
          "concepts": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "title": "Concepts",
            "type": "array"
          },
          "graph_id": {
            "title": "Graph Id",
            "type": "string"
          },
          "resources": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "title": "Resources",
            "type": "array"
          }
        },
        "required": [
          "graph_id",
          "branch_id"
        ],
        "title": "OfflineWarmResponse",
        "type": "object"
      },
      "PDFExtractionResult": {
        "description": "Complete result from PDF extraction.",
        "properties": {
          "errors": {
            "items": {
              "type": "string"
            },
            "title": "Errors",
            "type": "array"
          },
          "extraction_method": {
            "title": "Extraction Method",
            "type": "string"
          },
          "full_text": {
            "title": "Full Text",
            "type": "string"
          },
          "metadata": {
            "$ref": "#/components/schemas/PDFMetadata"
          },
          "pages": {
            "items": {
              "$ref": "#/components/schemas/PDFPage"
            },
            "title": "Pages",
            "type": "array"
          },
          "warnings": {
            "items": {
              "type": "string"
            },
            "title": "Warnings",
            "type": "array"
          }
        },
        "required": [
          "full_text",
          "pages",
          "metadata",
          "extraction_method"
        ],
        "title": "PDFExtractionResult",
        "type": "object"
      },
      "PDFIngestResponse": {
        "description": "Response from PDF ingestion endpoint.",
        "properties": {
          "artifact_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Artifact Id"
          },
          "chunks_created": {
            "default": 0,
            "title": "Chunks Created",
            "type": "integer"
          },
          "claims_created": {
            "default": 0,
            "title": "Claims Created",
            "type": "integer"
          },
          "concepts_created": {
            "default": 0,
            "title": "Concepts Created",
            "type": "integer"
          },
          "concepts_updated": {
            "default": 0,
            "title": "Concepts Updated",
            "type": "integer"
          },
          "errors": {
            "default": [],
            "items": {
              "type": "string"
            },
            "title": "Errors",
            "type": "array"
          },
          "extraction_method": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Extraction Method"
          },
          "links_created": {
            "default": 0,
            "title": "Links Created",
            "type": "integer"
          },
          "page_count": {
            "default": 0,
            "title": "Page Count",
            "type": "integer"
          },
          "run_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Run Id"
          },
          "status": {
            "title": "Status",
            "type": "string"
          },
          "warnings": {
            "default": [],
            "items": {
              "type": "string"
            },
            "title": "Warnings",
            "type": "array"
          }
        },
        "required": [
          "status"
        ],
        "title": "PDFIngestResponse",
        "type": "object"
      },
      "PDFMetadata": {
        "description": "Extracted PDF metadata.",
        "properties": {
          "author": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Author"
          },
          "creation_date": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Creation Date"
          },
          "creator": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Creator"
          },
          "has_images": {
            "default": false,
            "title": "Has Images",
            "type": "boolean"
          },
          "has_tables": {
            "default": false,
            "title": "Has Tables",
            "type": "boolean"
          },
          "is_scanned": {
            "default": false,
            "title": "Is Scanned",
            "type": "boolean"
          },
          "modification_date": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Modification Date"
          },
          "page_count": {
            "default": 0,
            "title": "Page Count",
            "type": "integer"
          },
          "producer": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Producer"
          },
          "subject": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Subject"
          },
          "title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Title"
          }
        },
        "title": "PDFMetadata",
        "type": "object"
      },
      "PDFPage": {
        "description": "Represents a single page from a PDF.",
        "properties": {
          "has_image": {
            "default": false,
            "title": "Has Image",
            "type": "boolean"
          },
          "has_table": {
            "default": false,
            "title": "Has Table",
            "type": "boolean"
          },
          "image_count": {
            "default": 0,
            "title": "Image Count",
            "type": "integer"
          },
          "metadata": {
            "additionalProperties": true,
            "title": "Metadata",
            "type": "object"
          },
          "page_number": {
            "title": "Page Number",
            "type": "integer"
          },
          "table_count": {
            "default": 0,
            "title": "Table Count",
            "type": "integer"
          },
          "text": {
            "title": "Text",
            "type": "string"
          }
        },
        "required": [
          "page_number",
          "text"
        ],
        "title": "PDFPage",
        "type": "object"
      },
      "PathHighlight": {
        "properties": {
          "path_id": {
            "title": "Path Id",
            "type": "string"
          },
          "title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Title"
          }
        },
        "required": [
          "path_id"
        ],
        "title": "PathHighlight",
        "type": "object"
      },
      "PerformanceTrend": {
        "properties": {
          "avg_score": {
            "title": "Avg Score",
            "type": "number"
          },
          "date": {
            "title": "Date",
            "type": "string"
          },
          "mode_distribution": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "integer"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mode Distribution"
          },
          "moving_avg": {
            "title": "Moving Avg",
            "type": "number"
          },
          "session_count": {
            "title": "Session Count",
            "type": "integer"
          },
          "task_count": {
            "title": "Task Count",
            "type": "integer"
          }
        },
        "required": [
          "date",
          "avg_score",
          "task_count",
          "session_count",
          "mode_distribution",
          "moving_avg"
        ],
        "title": "PerformanceTrend",
        "type": "object"
      },
      "PlanSuggestion": {
        "description": "A suggested time block for a task.",
        "properties": {
          "confidence": {
            "title": "Confidence",
            "type": "number"
          },
          "created_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created At"
          },
          "end": {
            "title": "End",
            "type": "string"
          },
          "id": {
            "title": "Id",
            "type": "string"
          },
          "reasons": {
            "items": {
              "type": "string"
            },
            "title": "Reasons",
            "type": "array"
          },
          "start": {
            "title": "Start",
            "type": "string"
          },
          "status": {
            "title": "Status",
            "type": "string"
          },
          "task_id": {
            "title": "Task Id",
            "type": "string"
          },
          "task_title": {
            "title": "Task Title",
            "type": "string"
          }
        },
        "required": [
          "id",
          "task_id",
          "task_title",
          "start",
          "end",
          "confidence",
          "reasons",
          "status"
        ],
        "title": "PlanSuggestion",
        "type": "object"
      },
      "ProductEvent": {
        "properties": {
          "name": {
            "description": "Event name, e.g. page_view, feature_used",
            "title": "Name",
            "type": "string"
          },
          "properties": {
            "additionalProperties": true,
            "title": "Properties",
            "type": "object"
          },
          "ts_ms": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Client timestamp (ms). Server will fill if omitted.",
            "title": "Ts Ms"
          }
        },
        "required": [
          "name"
        ],
        "title": "ProductEvent",
        "type": "object"
      },
      "QuoteAttachRequest": {
        "description": "Request to attach a quote to a concept.",
        "properties": {
          "branch_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Branch Id"
          },
          "concept_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Concept Id"
          },
          "concept_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Concept Name"
          },
          "graph_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Graph Id"
          },
          "quote_id": {
            "title": "Quote Id",
            "type": "string"
          },
          "trail_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Trail Id"
          }
        },
        "required": [
          "quote_id"
        ],
        "title": "QuoteAttachRequest",
        "type": "object"
      },
      "QuoteAttachResponse": {
        "description": "Response from quote attach endpoint.",
        "properties": {
          "concept_id": {
            "title": "Concept Id",
            "type": "string"
          },
          "concept_name": {
            "title": "Concept Name",
            "type": "string"
          },
          "message": {
            "title": "Message",
            "type": "string"
          },
          "quote_id": {
            "title": "Quote Id",
            "type": "string"
          },
          "success": {
            "title": "Success",
            "type": "boolean"
          }
        },
        "required": [
          "success",
          "quote_id",
          "concept_id",
          "concept_name",
          "message"
        ],
        "title": "QuoteAttachResponse",
        "type": "object"
      },
      "QuoteBySourceResponse": {
        "description": "Response for quotes by source URL.",
        "properties": {
          "quotes": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "title": "Quotes",
            "type": "array"
          }
        },
        "required": [
          "quotes"
        ],
        "title": "QuoteBySourceResponse",
        "type": "object"
      },
      "QuoteDetachRequest": {
        "description": "Request to detach a quote from a concept.",
        "properties": {
          "branch_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Branch Id"
          },
          "concept_id": {
            "title": "Concept Id",
            "type": "string"
          },
          "graph_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Graph Id"
          },
          "quote_id": {
            "title": "Quote Id",
            "type": "string"
          }
        },
        "required": [
          "quote_id",
          "concept_id"
        ],
        "title": "QuoteDetachRequest",
        "type": "object"
      },
      "QuoteDetachResponse": {
        "description": "Response from quote detach endpoint.",
        "properties": {
          "message": {
            "title": "Message",
            "type": "string"
          },
          "success": {
            "title": "Success",
            "type": "boolean"
          }
        },
        "required": [
          "success",
          "message"
        ],
        "title": "QuoteDetachResponse",
        "type": "object"
      },
      "Recommendation": {
        "properties": {
          "action": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Action"
          },
          "created_at": {
            "title": "Created At",
            "type": "string"
          },
          "id": {
            "title": "Id",
            "type": "string"
          },
          "message": {
            "title": "Message",
            "type": "string"
          },
          "params": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Params"
          },
          "priority": {
            "title": "Priority",
            "type": "string"
          },
          "type": {
            "title": "Type",
            "type": "string"
          }
        },
        "required": [
          "id",
          "type",
          "priority",
          "message",
          "action",
          "params",
          "created_at"
        ],
        "title": "Recommendation",
        "type": "object"
      },
      "RefreshBindingConfigModel": {
        "properties": {
          "checks": {
            "items": {
              "$ref": "#/components/schemas/RefreshCheckConfigModel"
            },
            "title": "Checks",
            "type": "array"
          },
          "enabled": {
            "default": false,
            "title": "Enabled",
            "type": "boolean"
          },
          "inherit_workspace_defaults": {
            "default": true,
            "title": "Inherit Workspace Defaults",
            "type": "boolean"
          },
          "triggers": {
            "items": {
              "type": "string"
            },
            "title": "Triggers",
            "type": "array"
          },
          "ttl_seconds": {
            "default": 3600,
            "maximum": 604800.0,
            "minimum": 30.0,
            "title": "Ttl Seconds",
            "type": "integer"
          },
          "version": {
            "default": 1,
            "title": "Version",
            "type": "integer"
          }
        },
        "title": "RefreshBindingConfigModel",
        "type": "object"
      },
      "RefreshCheckConfigModel": {
        "properties": {
          "check_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Check Id"
          },
          "enabled": {
            "default": true,
            "title": "Enabled",
            "type": "boolean"
          },
          "kind": {
            "title": "Kind",
            "type": "string"
          },
          "params": {
            "additionalProperties": true,
            "title": "Params",
            "type": "object"
          },
          "query": {
            "title": "Query",
            "type": "string"
          },
          "title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Title"
          }
        },
        "required": [
          "kind",
          "query"
        ],
        "title": "RefreshCheckConfigModel",
        "type": "object"
      },
      "RelationshipAcceptRequest": {
        "description": "Request to accept relationships.",
        "properties": {
          "edges": {
            "items": {
              "$ref": "#/components/schemas/RelationshipEdge"
            },
            "title": "Edges",
            "type": "array"
          },
          "graph_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Graph Id"
          },
          "reviewed_by": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reviewed By"
          }
        },
        "required": [
          "edges"
        ],
        "title": "RelationshipAcceptRequest",
        "type": "object"
      },
      "RelationshipCreate": {
        "properties": {
          "predicate": {
            "title": "Predicate",
            "type": "string"
          },
          "source_name": {
            "title": "Source Name",
            "type": "string"
          },
          "target_name": {
            "title": "Target Name",
            "type": "string"
          }
        },
        "required": [
          "source_name",
          "predicate",
          "target_name"
        ],
        "title": "RelationshipCreate",
        "type": "object"
      },
      "RelationshipEdge": {
        "description": "Edge specification for relationship review operations.",
        "properties": {
          "dst_node_id": {
            "title": "Dst Node Id",
            "type": "string"
          },
          "rel_type": {
            "title": "Rel Type",
            "type": "string"
          },
          "src_node_id": {
            "title": "Src Node Id",
            "type": "string"
          }
        },
        "required": [
          "src_node_id",
          "dst_node_id",
          "rel_type"
        ],
        "title": "RelationshipEdge",
        "type": "object"
      },
      "RelationshipEditRequest": {
        "description": "Request to edit a relationship.",
        "properties": {
          "dst_node_id": {
            "title": "Dst Node Id",
            "type": "string"
          },
          "graph_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Graph Id"
          },
          "new_rel_type": {
            "title": "New Rel Type",
            "type": "string"
          },
          "old_rel_type": {
            "title": "Old Rel Type",
            "type": "string"
          },
          "reviewed_by": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reviewed By"
          },
          "src_node_id": {
            "title": "Src Node Id",
            "type": "string"
          }
        },
        "required": [
          "src_node_id",
          "dst_node_id",
          "old_rel_type",
          "new_rel_type"
        ],
        "title": "RelationshipEditRequest",
        "type": "object"
      },
      "RelationshipRejectRequest": {
        "description": "Request to reject relationships.",
        "properties": {
          "edges": {
            "items": {
              "$ref": "#/components/schemas/RelationshipEdge"
            },
            "title": "Edges",
            "type": "array"
          },
          "graph_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Graph Id"
          },
          "reviewed_by": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reviewed By"
          }
        },
        "required": [
          "edges"
        ],
        "title": "RelationshipRejectRequest",
        "type": "object"
      },
      "RelationshipReviewActionResponse": {
        "description": "Response for accept/reject/edit actions.",
        "properties": {
          "action": {
            "title": "Action",
            "type": "string"
          },
          "count": {
            "title": "Count",
            "type": "integer"
          },
          "graph_id": {
            "title": "Graph Id",
            "type": "string"
          },
          "status": {
            "title": "Status",
            "type": "string"
          }
        },
        "required": [
          "status",
          "action",
          "count",
          "graph_id"
        ],
        "title": "RelationshipReviewActionResponse",
        "type": "object"
      },
      "RelationshipReviewItem": {
        "description": "A single relationship item in the review queue.",
        "properties": {
          "chunk_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Chunk Id"
          },
          "claim_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Claim Id"
          },
          "confidence": {
            "title": "Confidence",
            "type": "number"
          },
          "created_at": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created At"
          },
          "dst_name": {
            "title": "Dst Name",
            "type": "string"
          },
          "dst_node_id": {
            "title": "Dst Node Id",
            "type": "string"
          },
          "method": {
            "title": "Method",
            "type": "string"
          },
          "model_version": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Model Version"
          },
          "rationale": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rationale"
          },
          "rel_type": {
            "title": "Rel Type",
            "type": "string"
          },
          "reviewed_at": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reviewed At"
          },
          "reviewed_by": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reviewed By"
          },
          "source_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Source Id"
          },
          "src_name": {
            "title": "Src Name",
            "type": "string"
          },
          "src_node_id": {
            "title": "Src Node Id",
            "type": "string"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At"
          }
        },
        "required": [
          "src_node_id",
          "src_name",
          "dst_node_id",
          "dst_name",
          "rel_type",
          "confidence",
          "method"
        ],
        "title": "RelationshipReviewItem",
        "type": "object"
      },
      "RelationshipReviewListResponse": {
        "description": "Response for listing relationships for review.",
        "properties": {
          "graph_id": {
            "title": "Graph Id",
            "type": "string"
          },
          "relationships": {
            "items": {
              "$ref": "#/components/schemas/RelationshipReviewItem"
            },
            "title": "Relationships",
            "type": "array"
          },
          "status": {
            "title": "Status",
            "type": "string"
          },
          "total": {
            "title": "Total",
            "type": "integer"
          }
        },
        "required": [
          "relationships",
          "total",
          "graph_id",
          "status"
        ],
        "title": "RelationshipReviewListResponse",
        "type": "object"
      },
      "ReminderPreferences": {
        "description": "Preferences for reminder notifications.",
        "properties": {
          "review_queue": {
            "additionalProperties": true,
            "default": {
              "cadence_days": 3,
              "enabled": false
            },
            "title": "Review Queue",
            "type": "object"
          },
          "weekly_digest": {
            "additionalProperties": true,
            "default": {
              "day_of_week": 1,
              "enabled": false,
              "hour": 9
            },
            "title": "Weekly Digest",
            "type": "object"
          }
        },
        "title": "ReminderPreferences",
        "type": "object"
      },
      "ReplayEvent": {
        "properties": {
          "branch_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Branch Id"
          },
          "created_at": {
            "title": "Created At",
            "type": "string"
          },
          "device_id": {
            "title": "Device Id",
            "type": "string"
          },
          "event_id": {
            "title": "Event Id",
            "type": "string"
          },
          "graph_id": {
            "default": "default",
            "title": "Graph Id",
            "type": "string"
          },
          "payload": {
            "additionalProperties": true,
            "title": "Payload",
            "type": "object"
          },
          "seq": {
            "title": "Seq",
            "type": "integer"
          },
          "trail_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Trail Id"
          },
          "type": {
            "const": "artifact.ingested",
            "default": "artifact.ingested",
            "title": "Type",
            "type": "string"
          }
        },
        "required": [
          "event_id",
          "device_id",
          "seq",
          "created_at"
        ],
        "title": "ReplayEvent",
        "type": "object"
      },
      "ReplayResult": {
        "properties": {
          "detail": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Detail"
          },
          "event_id": {
            "title": "Event Id",
            "type": "string"
          },
          "status": {
            "enum": [
              "applied",
              "duplicate",
              "error"
            ],
            "title": "Status",
            "type": "string"
          }
        },
        "required": [
          "event_id",
          "status"
        ],
        "title": "ReplayResult",
        "type": "object"
      },
      "Resource": {
        "description": "A resource (image, PDF, link, etc.) attached to a concept",
        "properties": {
          "caption": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Caption"
          },
          "created_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created At"
          },
          "ingestion_run_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ingestion Run Id"
          },
          "kind": {
            "title": "Kind",
            "type": "string"
          },
          "metadata": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata"
          },
          "mime_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mime Type"
          },
          "resource_id": {
            "title": "Resource Id",
            "type": "string"
          },
          "source": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Source"
          },
          "title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Title"
          },
          "url": {
            "title": "Url",
            "type": "string"
          }
        },
        "required": [
          "resource_id",
          "kind",
          "url"
        ],
        "title": "Resource",
        "type": "object"
      },
      "ResponseStyleProfile": {
        "description": "Style profile that tells the LLM how to sound and structure explanations.\nThis enables Brain Web to answer in a consistent \"voice\" without fine-tuning.",
        "properties": {
          "explanation_order": {
            "items": {
              "type": "string"
            },
            "title": "Explanation Order",
            "type": "array"
          },
          "forbidden_styles": {
            "items": {
              "type": "string"
            },
            "title": "Forbidden Styles",
            "type": "array"
          },
          "sentence_structure": {
            "title": "Sentence Structure",
            "type": "string"
          },
          "teaching_style": {
            "title": "Teaching Style",
            "type": "string"
          },
          "tone": {
            "title": "Tone",
            "type": "string"
          }
        },
        "required": [
          "tone",
          "teaching_style",
          "sentence_structure",
          "explanation_order",
          "forbidden_styles"
        ],
        "title": "ResponseStyleProfile",
        "type": "object"
      },
      "ResponseStyleProfileWrapper": {
        "description": "Wrapper used by API endpoints for response style profile.",
        "properties": {
          "id": {
            "default": "default",
            "title": "Id",
            "type": "string"
          },
          "profile": {
            "$ref": "#/components/schemas/ResponseStyleProfile"
          }
        },
        "required": [
          "profile"
        ],
        "title": "ResponseStyleProfileWrapper",
        "type": "object"
      },
      "ResumePointResponse": {
        "properties": {
          "block_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Block Id"
          },
          "concept_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Concept Id"
          },
          "document_id": {
            "title": "Document Id",
            "type": "string"
          },
          "document_title": {
            "title": "Document Title",
            "type": "string"
          },
          "document_type": {
            "title": "Document Type",
            "type": "string"
          },
          "last_accessed": {
            "title": "Last Accessed",
            "type": "string"
          },
          "segment_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Segment Id"
          },
          "url": {
            "title": "Url",
            "type": "string"
          }
        },
        "required": [
          "document_id",
          "document_title",
          "last_accessed",
          "document_type",
          "url"
        ],
        "title": "ResumePointResponse",
        "type": "object"
      },
      "ResumeTrailResponse": {
        "description": "Response from resume trail.",
        "properties": {
          "last_step_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Step Id"
          },
          "last_step_index": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Step Index"
          },
          "last_step_kind": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Step Kind"
          },
          "last_step_ref_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Step Ref Id"
          },
          "status": {
            "title": "Status",
            "type": "string"
          },
          "trail_id": {
            "title": "Trail Id",
            "type": "string"
          }
        },
        "required": [
          "trail_id",
          "status"
        ],
        "title": "ResumeTrailResponse",
        "type": "object"
      },
      "RetrievalRequest": {
        "description": "Request for intent-based retrieval.",
        "properties": {
          "branch_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Branch Id"
          },
          "detail_level": {
            "default": "summary",
            "title": "Detail Level",
            "type": "string"
          },
          "focus_concept_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Focus Concept Id"
          },
          "focus_page_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Focus Page Url"
          },
          "focus_quote_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Focus Quote Id"
          },
          "graph_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Graph Id"
          },
          "intent": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Intent"
          },
          "limit": {
            "default": 5,
            "title": "Limit",
            "type": "integer"
          },
          "limit_claims": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Limit Claims"
          },
          "limit_entities": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Limit Entities"
          },
          "limit_sources": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Limit Sources"
          },
          "message": {
            "title": "Message",
            "type": "string"
          },
          "mode": {
            "default": "graphrag",
            "title": "Mode",
            "type": "string"
          },
          "trail_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Trail Id"
          }
        },
        "required": [
          "message"
        ],
        "title": "RetrievalRequest",
        "type": "object"
      },
      "RetrievalResult": {
        "description": "Complete retrieval result with intent, trace, and context.",
        "properties": {
          "citations": {
            "anyOf": [
              {
                "items": {
                  "additionalProperties": true,
                  "type": "object"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Citations"
          },
          "context": {
            "additionalProperties": true,
            "title": "Context",
            "type": "object"
          },
          "intent": {
            "title": "Intent",
            "type": "string"
          },
          "plan_version": {
            "default": "intent_plans_v1",
            "title": "Plan Version",
            "type": "string"
          },
          "trace": {
            "items": {
              "$ref": "#/components/schemas/RetrievalTraceStep"
            },
            "title": "Trace",
            "type": "array"
          }
        },
        "required": [
          "intent",
          "trace",
          "context"
        ],
        "title": "RetrievalResult",
        "type": "object"
      },
      "RetrievalTraceStep": {
        "description": "A single step in the retrieval plan execution.",
        "properties": {
          "counts": {
            "additionalProperties": true,
            "default": {},
            "title": "Counts",
            "type": "object"
          },
          "params": {
            "additionalProperties": true,
            "default": {},
            "title": "Params",
            "type": "object"
          },
          "step": {
            "title": "Step",
            "type": "string"
          }
        },
        "required": [
          "step"
        ],
        "title": "RetrievalTraceStep",
        "type": "object"
      },
      "RunConceptRefreshRequest": {
        "properties": {
          "force": {
            "default": false,
            "title": "Force",
            "type": "boolean"
          },
          "trigger": {
            "default": "manual",
            "title": "Trigger",
            "type": "string"
          }
        },
        "title": "RunConceptRefreshRequest",
        "type": "object"
      },
      "RunDueRefreshesRequest": {
        "properties": {
          "all_contexts": {
            "default": false,
            "title": "All Contexts",
            "type": "boolean"
          },
          "force": {
            "default": false,
            "title": "Force",
            "type": "boolean"
          },
          "limit_contexts": {
            "default": 25,
            "maximum": 500.0,
            "minimum": 1.0,
            "title": "Limit Contexts",
            "type": "integer"
          },
          "limit_nodes_per_context": {
            "default": 10,
            "maximum": 100.0,
            "minimum": 1.0,
            "title": "Limit Nodes Per Context",
            "type": "integer"
          },
          "scan_limit_per_context": {
            "default": 200,
            "maximum": 5000.0,
            "minimum": 1.0,
            "title": "Scan Limit Per Context",
            "type": "integer"
          }
        },
        "title": "RunDueRefreshesRequest",
        "type": "object"
      },
      "SemanticSearchCommunitiesRequest": {
        "properties": {
          "branch_id": {
            "title": "Branch Id",
            "type": "string"
          },
          "graph_id": {
            "title": "Graph Id",
            "type": "string"
          },
          "limit": {
            "default": 5,
            "title": "Limit",
            "type": "integer"
          },
          "message": {
            "title": "Message",
            "type": "string"
          }
        },
        "required": [
          "message",
          "graph_id",
          "branch_id"
        ],
        "title": "SemanticSearchCommunitiesRequest",
        "type": "object"
      },
      "SemanticSearchCommunitiesResponse": {
        "properties": {
          "communities": {
            "items": {
              "$ref": "#/components/schemas/CommunitySearchResult"
            },
            "title": "Communities",
            "type": "array"
          }
        },
        "required": [
          "communities"
        ],
        "title": "SemanticSearchCommunitiesResponse",
        "type": "object"
      },
      "SemanticSearchRequest": {
        "properties": {
          "limit": {
            "default": 5,
            "title": "Limit",
            "type": "integer"
          },
          "message": {
            "title": "Message",
            "type": "string"
          }
        },
        "required": [
          "message"
        ],
        "title": "SemanticSearchRequest",
        "type": "object"
      },
      "SemanticSearchResponse": {
        "properties": {
          "nodes": {
            "items": {
              "$ref": "#/components/schemas/Concept"
            },
            "title": "Nodes",
            "type": "array"
          },
          "scores": {
            "items": {
              "type": "number"
            },
            "title": "Scores",
            "type": "array"
          }
        },
        "required": [
          "nodes",
          "scores"
        ],
        "title": "SemanticSearchResponse",
        "type": "object"
      },
      "SessionContext": {
        "description": "Derived session context from events.",
        "properties": {
          "active_concepts": {
            "items": {
              "$ref": "#/components/schemas/ActiveConcept"
            },
            "title": "Active Concepts",
            "type": "array"
          },
          "active_objects": {
            "items": {
              "$ref": "#/components/schemas/ActiveObject"
            },
            "title": "Active Objects",
            "type": "array"
          },
          "last_updated": {
            "format": "date-time",
            "title": "Last Updated",
            "type": "string"
          },
          "session_id": {
            "title": "Session Id",
            "type": "string"
          },
          "uncertainty_score": {
            "default": 0.5,
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Uncertainty Score",
            "type": "number"
          }
        },
        "required": [
          "session_id",
          "last_updated"
        ],
        "title": "SessionContext",
        "type": "object"
      },
      "SessionCounts": {
        "properties": {
          "answers_created": {
            "default": 0,
            "title": "Answers Created",
            "type": "integer"
          },
          "concepts_viewed": {
            "default": 0,
            "title": "Concepts Viewed",
            "type": "integer"
          },
          "evidence_fetched": {
            "default": 0,
            "title": "Evidence Fetched",
            "type": "integer"
          },
          "resources_opened": {
            "default": 0,
            "title": "Resources Opened",
            "type": "integer"
          }
        },
        "title": "SessionCounts",
        "type": "object"
      },
      "SessionEventCreate": {
        "properties": {
          "correlation_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Correlation Id"
          },
          "event_type": {
            "const": "ChatMessageCreated",
            "title": "Event Type",
            "type": "string"
          },
          "idempotency_key": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Idempotency Key"
          },
          "payload": {
            "additionalProperties": true,
            "title": "Payload",
            "type": "object"
          },
          "trace_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Trace Id"
          }
        },
        "required": [
          "event_type"
        ],
        "title": "SessionEventCreate",
        "type": "object"
      },
      "SessionHighlights": {
        "properties": {
          "answers": {
            "default": [],
            "items": {
              "$ref": "#/components/schemas/AnswerHighlight"
            },
            "title": "Answers",
            "type": "array"
          },
          "concepts": {
            "default": [],
            "items": {
              "$ref": "#/components/schemas/TopConcept"
            },
            "title": "Concepts",
            "type": "array"
          },
          "evidence": {
            "default": [],
            "items": {
              "$ref": "#/components/schemas/EvidenceHighlight"
            },
            "title": "Evidence",
            "type": "array"
          },
          "paths": {
            "default": [],
            "items": {
              "$ref": "#/components/schemas/PathHighlight"
            },
            "title": "Paths",
            "type": "array"
          }
        },
        "title": "SessionHighlights",
        "type": "object"
      },
      "SessionStats": {
        "properties": {
          "avg_score": {
            "title": "Avg Score",
            "type": "number"
          },
          "avg_tasks_per_session": {
            "title": "Avg Tasks Per Session",
            "type": "number"
          },
          "completed_sessions": {
            "title": "Completed Sessions",
            "type": "integer"
          },
          "completion_rate": {
            "title": "Completion Rate",
            "type": "number"
          },
          "total_sessions": {
            "title": "Total Sessions",
            "type": "integer"
          },
          "total_tasks": {
            "title": "Total Tasks",
            "type": "integer"
          }
        },
        "required": [
          "total_sessions",
          "completed_sessions",
          "completion_rate",
          "total_tasks",
          "avg_tasks_per_session",
          "avg_score"
        ],
        "title": "SessionStats",
        "type": "object"
      },
      "Signal": {
        "description": "Base signal model representing a learning observation.",
        "properties": {
          "block_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Block Id"
          },
          "branch_id": {
            "title": "Branch Id",
            "type": "string"
          },
          "concept_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Concept Id"
          },
          "created_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created At"
          },
          "document_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Document Id"
          },
          "graph_id": {
            "title": "Graph Id",
            "type": "string"
          },
          "payload": {
            "additionalProperties": true,
            "title": "Payload",
            "type": "object"
          },
          "session_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Session Id"
          },
          "signal_id": {
            "title": "Signal Id",
            "type": "string"
          },
          "signal_type": {
            "$ref": "#/components/schemas/SignalType"
          },
          "timestamp": {
            "title": "Timestamp",
            "type": "integer"
          },
          "user_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Id"
          }
        },
        "required": [
          "signal_id",
          "signal_type",
          "timestamp",
          "graph_id",
          "branch_id"
        ],
        "title": "Signal",
        "type": "object"
      },
      "SignalCreate": {
        "description": "Request to create a signal.",
        "properties": {
          "block_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Block Id"
          },
          "concept_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Concept Id"
          },
          "document_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Document Id"
          },
          "payload": {
            "additionalProperties": true,
            "title": "Payload",
            "type": "object"
          },
          "session_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Session Id"
          },
          "signal_type": {
            "$ref": "#/components/schemas/SignalType"
          }
        },
        "required": [
          "signal_type"
        ],
        "title": "SignalCreate",
        "type": "object"
      },
      "SignalListResponse": {
        "description": "Response for listing signals.",
        "properties": {
          "signals": {
            "items": {
              "$ref": "#/components/schemas/Signal"
            },
            "title": "Signals",
            "type": "array"
          },
          "total": {
            "title": "Total",
            "type": "integer"
          }
        },
        "required": [
          "signals",
          "total"
        ],
        "title": "SignalListResponse",
        "type": "object"
      },
      "SignalType": {
        "description": "Types of learning behavior signals.",
        "enum": [
          "TEXT_AUTHORING",
          "SPAN_LINK",
          "EMPHASIS",
          "FILE_INGESTION",
          "VOICE_CAPTURE",
          "VOICE_COMMAND",
          "QUESTION",
          "TIME",
          "ASSESSMENT",
          "VOICE_CONVERSATION"
        ],
        "title": "SignalType",
        "type": "string"
      },
      "SnapshotCreateRequest": {
        "properties": {
          "focused_node_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Focused Node Id"
          },
          "layout": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Layout"
          },
          "name": {
            "title": "Name",
            "type": "string"
          }
        },
        "required": [
          "name"
        ],
        "title": "SnapshotCreateRequest",
        "type": "object"
      },
      "SnapshotListResponse": {
        "properties": {
          "snapshots": {
            "items": {
              "$ref": "#/components/schemas/SnapshotSummary"
            },
            "title": "Snapshots",
            "type": "array"
          }
        },
        "required": [
          "snapshots"
        ],
        "title": "SnapshotListResponse",
        "type": "object"
      },
      "SnapshotRestoreResponse": {
        "properties": {
          "graph_id": {
            "title": "Graph Id",
            "type": "string"
          },
          "restored_branch_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Restored Branch Id"
          },
          "snapshot_id": {
            "title": "Snapshot Id",
            "type": "string"
          },
          "status": {
            "title": "Status",
            "type": "string"
          }
        },
        "required": [
          "status",
          "graph_id",
          "snapshot_id"
        ],
        "title": "SnapshotRestoreResponse",
        "type": "object"
      },
      "SnapshotSummary": {
        "properties": {
          "branch_id": {
            "title": "Branch Id",
            "type": "string"
          },
          "graph_id": {
            "title": "Graph Id",
            "type": "string"
          },
          "name": {
            "title": "Name",
            "type": "string"
          },
          "snapshot_id": {
            "title": "Snapshot Id",
            "type": "string"
          }
        },
        "required": [
          "snapshot_id",
          "graph_id",
          "branch_id",
          "name"
        ],
        "title": "SnapshotSummary",
        "type": "object"
      },
      "StartSessionRequest": {
        "description": "Request to start a study session.",
        "properties": {
          "current_mode": {
            "default": "explain",
            "description": "Starting mode",
            "title": "Current Mode",
            "type": "string"
          },
          "intent": {
            "description": "Session intent: 'clarify', 'practice', 'review'",
            "title": "Intent",
            "type": "string"
          },
          "selection_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Quote_id to start from",
            "title": "Selection Id"
          },
          "topic_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Concept node_id to study",
            "title": "Topic Id"
          }
        },
        "required": [
          "intent"
        ],
        "title": "StartSessionRequest",
        "type": "object"
      },
      "StartSessionResponse": {
        "description": "Response from starting a session.",
        "properties": {
          "initial_task": {
            "$ref": "#/components/schemas/TaskSpec",
            "description": "First task in session"
          },
          "mode_state": {
            "additionalProperties": true,
            "description": "Current mode state",
            "title": "Mode State",
            "type": "object"
          },
          "session_id": {
            "description": "Session UUID",
            "title": "Session Id",
            "type": "string"
          }
        },
        "required": [
          "session_id",
          "initial_task",
          "mode_state"
        ],
        "title": "StartSessionResponse",
        "type": "object"
      },
      "StockQuoteResourceRequest": {
        "properties": {
          "concept_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Concept Id"
          },
          "query": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Query"
          },
          "symbol": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Symbol"
          }
        },
        "title": "StockQuoteResourceRequest",
        "type": "object"
      },
      "StudyRecommendationResponse": {
        "properties": {
          "concept_id": {
            "title": "Concept Id",
            "type": "string"
          },
          "concept_name": {
            "title": "Concept Name",
            "type": "string"
          },
          "estimated_time_min": {
            "title": "Estimated Time Min",
            "type": "integer"
          },
          "priority": {
            "title": "Priority",
            "type": "string"
          },
          "reason": {
            "title": "Reason",
            "type": "string"
          },
          "suggested_documents": {
            "items": {
              "$ref": "#/components/schemas/DocumentSuggestion"
            },
            "title": "Suggested Documents",
            "type": "array"
          }
        },
        "required": [
          "concept_id",
          "concept_name",
          "priority",
          "reason",
          "suggested_documents",
          "estimated_time_min"
        ],
        "title": "StudyRecommendationResponse",
        "type": "object"
      },
      "StudyTimeResponse": {
        "properties": {
          "domain": {
            "title": "Domain",
            "type": "string"
          },
          "hours": {
            "title": "Hours",
            "type": "number"
          },
          "minutes": {
            "title": "Minutes",
            "type": "integer"
          },
          "total_ms": {
            "title": "Total Ms",
            "type": "integer"
          }
        },
        "required": [
          "domain",
          "hours",
          "minutes",
          "total_ms"
        ],
        "title": "StudyTimeResponse",
        "type": "object"
      },
      "StyleFeedbackRequest": {
        "description": "Structured feedback for style learning.\nMatches the format: \"Test1: [response] Test1 Feedback: [notes]\"",
        "properties": {
          "answer_id": {
            "title": "Answer Id",
            "type": "string"
          },
          "created_at": {
            "format": "date-time",
            "title": "Created At",
            "type": "string"
          },
          "feedback_notes": {
            "title": "Feedback Notes",
            "type": "string"
          },
          "humor_preference": {
            "anyOf": [
              {
                "enum": [
                  "more_humor",
                  "less_humor",
                  "ok"
                ],
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Humor Preference"
          },
          "original_response": {
            "title": "Original Response",
            "type": "string"
          },
          "question": {
            "title": "Question",
            "type": "string"
          },
          "question_preference": {
            "anyOf": [
              {
                "enum": [
                  "more_questions",
                  "fewer_questions",
                  "ok"
                ],
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Question Preference"
          },
          "test_label": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Test Label"
          },
          "user_rewritten_version": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Rewritten Version"
          },
          "verbosity": {
            "anyOf": [
              {
                "enum": [
                  "too_short",
                  "too_verbose",
                  "just_right"
                ],
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Verbosity"
          }
        },
        "required": [
          "answer_id",
          "question",
          "original_response",
          "feedback_notes"
        ],
        "title": "StyleFeedbackRequest",
        "type": "object"
      },
      "SubgraphEdge": {
        "description": "A subgraph edge.",
        "properties": {
          "confidence": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Confidence"
          },
          "justification": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Justification"
          },
          "relationship_type": {
            "title": "Relationship Type",
            "type": "string"
          },
          "source_id": {
            "title": "Source Id",
            "type": "string"
          },
          "target_id": {
            "title": "Target Id",
            "type": "string"
          }
        },
        "required": [
          "source_id",
          "target_id",
          "relationship_type"
        ],
        "title": "SubgraphEdge",
        "type": "object"
      },
      "SubgraphNode": {
        "description": "A subgraph node.",
        "properties": {
          "claim_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Claim Id"
          },
          "confidence": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Confidence"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "domain": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Domain"
          },
          "id": {
            "title": "Id",
            "type": "string"
          },
          "label": {
            "title": "Label",
            "type": "string"
          },
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "quote_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Quote Id"
          },
          "text": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Text"
          }
        },
        "required": [
          "id",
          "label"
        ],
        "title": "SubgraphNode",
        "type": "object"
      },
      "SuggestionGroupedByDay": {
        "description": "Suggestions grouped by day.",
        "properties": {
          "date": {
            "title": "Date",
            "type": "string"
          },
          "suggestions": {
            "items": {
              "$ref": "#/components/schemas/PlanSuggestion"
            },
            "title": "Suggestions",
            "type": "array"
          }
        },
        "required": [
          "date",
          "suggestions"
        ],
        "title": "SuggestionGroupedByDay",
        "type": "object"
      },
      "SuggestionsResponse": {
        "description": "Response for listing suggestions.",
        "properties": {
          "suggestions_by_day": {
            "items": {
              "$ref": "#/components/schemas/SuggestionGroupedByDay"
            },
            "title": "Suggestions By Day",
            "type": "array"
          },
          "total": {
            "title": "Total",
            "type": "integer"
          }
        },
        "required": [
          "suggestions_by_day",
          "total"
        ],
        "title": "SuggestionsResponse",
        "type": "object"
      },
      "SyncEventResult": {
        "properties": {
          "detail": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Detail"
          },
          "event_id": {
            "title": "Event Id",
            "type": "string"
          },
          "output": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Output"
          },
          "status": {
            "enum": [
              "applied",
              "duplicate",
              "error"
            ],
            "title": "Status",
            "type": "string"
          }
        },
        "required": [
          "event_id",
          "status"
        ],
        "title": "SyncEventResult",
        "type": "object"
      },
      "SyncEventsRequest": {
        "properties": {
          "events": {
            "items": {
              "$ref": "#/components/schemas/ClientSyncEvent"
            },
            "title": "Events",
            "type": "array"
          }
        },
        "required": [
          "events"
        ],
        "title": "SyncEventsRequest",
        "type": "object"
      },
      "SyncEventsResponse": {
        "properties": {
          "ok": {
            "title": "Ok",
            "type": "boolean"
          },
          "results": {
            "items": {
              "$ref": "#/components/schemas/SyncEventResult"
            },
            "title": "Results",
            "type": "array"
          }
        },
        "required": [
          "ok",
          "results"
        ],
        "title": "SyncEventsResponse",
        "type": "object"
      },
      "SynthesizeRequest": {
        "description": "Request to synthesize information.",
        "properties": {
          "concept_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Concept Id"
          },
          "context_ids": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Context Ids"
          },
          "evidence_strictness": {
            "default": "medium",
            "title": "Evidence Strictness",
            "type": "string"
          },
          "include_citations": {
            "default": true,
            "title": "Include Citations",
            "type": "boolean"
          },
          "query": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Query"
          },
          "quote_ids": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Quote Ids"
          },
          "synthesize_type": {
            "description": "Type: 'answer', 'memo', 'summary', 'claims', 'mcq'",
            "title": "Synthesize Type",
            "type": "string"
          }
        },
        "required": [
          "synthesize_type"
        ],
        "title": "SynthesizeRequest",
        "type": "object"
      },
      "SynthesizeResponse": {
        "description": "Response from synthesize operation.",
        "properties": {
          "next_actions": {
            "items": {
              "type": "string"
            },
            "title": "Next Actions",
            "type": "array"
          },
          "result": {
            "additionalProperties": true,
            "title": "Result",
            "type": "object"
          },
          "success": {
            "title": "Success",
            "type": "boolean"
          },
          "workflow": {
            "default": "synthesize",
            "title": "Workflow",
            "type": "string"
          }
        },
        "required": [
          "success",
          "result"
        ],
        "title": "SynthesizeResponse",
        "type": "object"
      },
      "Task": {
        "description": "A todo task that can be scheduled.",
        "properties": {
          "created_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created At"
          },
          "dependencies": {
            "items": {
              "type": "string"
            },
            "title": "Dependencies",
            "type": "array"
          },
          "due_date": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Due Date"
          },
          "energy": {
            "default": "med",
            "title": "Energy",
            "type": "string"
          },
          "estimated_minutes": {
            "title": "Estimated Minutes",
            "type": "integer"
          },
          "id": {
            "title": "Id",
            "type": "string"
          },
          "location": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Location"
          },
          "location_lat": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Location Lat"
          },
          "location_lon": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Location Lon"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes"
          },
          "preferred_time_windows": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Preferred Time Windows"
          },
          "priority": {
            "default": "medium",
            "title": "Priority",
            "type": "string"
          },
          "tags": {
            "items": {
              "type": "string"
            },
            "title": "Tags",
            "type": "array"
          },
          "title": {
            "title": "Title",
            "type": "string"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At"
          }
        },
        "required": [
          "id",
          "title",
          "estimated_minutes"
        ],
        "title": "Task",
        "type": "object"
      },
      "TaskCreate": {
        "description": "Request to create a task.",
        "properties": {
          "dependencies": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Dependencies"
          },
          "due_date": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Due Date"
          },
          "energy": {
            "default": "med",
            "title": "Energy",
            "type": "string"
          },
          "estimated_minutes": {
            "title": "Estimated Minutes",
            "type": "integer"
          },
          "location": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Location"
          },
          "location_lat": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Location Lat"
          },
          "location_lon": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Location Lon"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes"
          },
          "preferred_time_windows": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Preferred Time Windows"
          },
          "priority": {
            "default": "medium",
            "title": "Priority",
            "type": "string"
          },
          "tags": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tags"
          },
          "title": {
            "title": "Title",
            "type": "string"
          }
        },
        "required": [
          "title",
          "estimated_minutes"
        ],
        "title": "TaskCreate",
        "type": "object"
      },
      "TaskListResponse": {
        "description": "Response for listing tasks.",
        "properties": {
          "tasks": {
            "items": {
              "$ref": "#/components/schemas/Task"
            },
            "title": "Tasks",
            "type": "array"
          },
          "total": {
            "title": "Total",
            "type": "integer"
          }
        },
        "required": [
          "tasks",
          "total"
        ],
        "title": "TaskListResponse",
        "type": "object"
      },
      "TaskSpec": {
        "description": "Specification for a study task.",
        "properties": {
          "compatible_modes": {
            "description": "Compatible modes: ['explain', 'typing']",
            "items": {
              "type": "string"
            },
            "title": "Compatible Modes",
            "type": "array"
          },
          "context_pack": {
            "$ref": "#/components/schemas/ContextPack",
            "description": "Context for this task"
          },
          "disruption_cost": {
            "default": 0.3,
            "description": "Cost of switching to this task (0-1)",
            "title": "Disruption Cost",
            "type": "number"
          },
          "prompt": {
            "description": "Task prompt for user",
            "title": "Prompt",
            "type": "string"
          },
          "rubric_json": {
            "additionalProperties": true,
            "description": "Scoring rubric",
            "title": "Rubric Json",
            "type": "object"
          },
          "task_id": {
            "description": "Task UUID",
            "title": "Task Id",
            "type": "string"
          },
          "task_type": {
            "description": "Task type: 'clarify', 'define_example', 'explain_back', 'multiple_choice'",
            "title": "Task Type",
            "type": "string"
          }
        },
        "required": [
          "task_id",
          "task_type",
          "prompt",
          "rubric_json",
          "context_pack",
          "compatible_modes"
        ],
        "title": "TaskSpec",
        "type": "object"
      },
      "TaskStatus": {
        "description": "Status of background tasks.",
        "enum": [
          "QUEUED",
          "RUNNING",
          "READY",
          "FAILED",
          "CANCELLED"
        ],
        "title": "TaskStatus",
        "type": "string"
      },
      "TaskType": {
        "description": "Types of background tasks.",
        "enum": [
          "GENERATE_ANSWERS",
          "SUMMARIZE",
          "EXPLAIN",
          "GAP_ANALYSIS",
          "RETRIEVE_CONTEXT",
          "EXTRACT_CONCEPTS",
          "REBUILD_COMMUNITIES"
        ],
        "title": "TaskType",
        "type": "string"
      },
      "TaskUpdate": {
        "description": "Request to update a task.",
        "properties": {
          "dependencies": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Dependencies"
          },
          "due_date": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Due Date"
          },
          "energy": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Energy"
          },
          "estimated_minutes": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Estimated Minutes"
          },
          "location": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Location"
          },
          "location_lat": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Location Lat"
          },
          "location_lon": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Location Lon"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes"
          },
          "preferred_time_windows": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Preferred Time Windows"
          },
          "priority": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Priority"
          },
          "tags": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tags"
          },
          "title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Title"
          }
        },
        "title": "TaskUpdate",
        "type": "object"
      },
      "TemplatePayload": {
        "properties": {
          "connection_patterns": {
            "items": {
              "type": "string"
            },
            "title": "Connection Patterns",
            "type": "array"
          },
          "default_checks": {
            "items": {
              "type": "string"
            },
            "title": "Default Checks",
            "type": "array"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "intent": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Intent"
          },
          "label": {
            "maxLength": 200,
            "minLength": 1,
            "title": "Label",
            "type": "string"
          },
          "node_layout": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Node Layout"
          },
          "node_types": {
            "items": {
              "type": "string"
            },
            "title": "Node Types",
            "type": "array"
          },
          "refresh_defaults": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Refresh Defaults"
          },
          "starter_nodes": {
            "items": {
              "type": "string"
            },
            "title": "Starter Nodes",
            "type": "array"
          },
          "tags": {
            "items": {
              "type": "string"
            },
            "title": "Tags",
            "type": "array"
          },
          "vertical": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Vertical"
          }
        },
        "required": [
          "label"
        ],
        "title": "TemplatePayload",
        "type": "object"
      },
      "TemplateUpdatePayload": {
        "properties": {
          "connection_patterns": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Connection Patterns"
          },
          "default_checks": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Default Checks"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "intent": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Intent"
          },
          "label": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Label"
          },
          "node_layout": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Node Layout"
          },
          "node_types": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Node Types"
          },
          "refresh_defaults": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Refresh Defaults"
          },
          "starter_nodes": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Starter Nodes"
          },
          "tags": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tags"
          },
          "vertical": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Vertical"
          }
        },
        "title": "TemplateUpdatePayload",
        "type": "object"
      },
      "TestResult": {
        "description": "Result for a single test or test group.",
        "properties": {
          "duration": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Duration"
          },
          "output": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Output"
          },
          "passed": {
            "title": "Passed",
            "type": "boolean"
          },
          "path": {
            "title": "Path",
            "type": "string"
          }
        },
        "required": [
          "path",
          "passed"
        ],
        "title": "TestResult",
        "type": "object"
      },
      "TestRunRequest": {
        "description": "Request model for running tests.",
        "properties": {
          "suite_ids": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Suite Ids"
          },
          "tests": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tests"
          }
        },
        "title": "TestRunRequest",
        "type": "object"
      },
      "TestRunResponse": {
        "description": "Response model for test run results.",
        "properties": {
          "failed_tests": {
            "title": "Failed Tests",
            "type": "integer"
          },
          "passed_tests": {
            "title": "Passed Tests",
            "type": "integer"
          },
          "results": {
            "items": {
              "$ref": "#/components/schemas/TestResult"
            },
            "title": "Results",
            "type": "array"
          },
          "success": {
            "title": "Success",
            "type": "boolean"
          },
          "total_tests": {
            "title": "Total Tests",
            "type": "integer"
          }
        },
        "required": [
          "results",
          "success",
          "total_tests",
          "passed_tests",
          "failed_tests"
        ],
        "title": "TestRunResponse",
        "type": "object"
      },
      "TopConcept": {
        "properties": {
          "concept_id": {
            "title": "Concept Id",
            "type": "string"
          },
          "concept_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Concept Name"
          }
        },
        "required": [
          "concept_id"
        ],
        "title": "TopConcept",
        "type": "object"
      },
      "TrailStep": {
        "description": "A trail step.",
        "properties": {
          "created_at": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created At"
          },
          "index": {
            "title": "Index",
            "type": "integer"
          },
          "kind": {
            "title": "Kind",
            "type": "string"
          },
          "meta": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Meta"
          },
          "note": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Note"
          },
          "ref_id": {
            "title": "Ref Id",
            "type": "string"
          },
          "step_id": {
            "title": "Step Id",
            "type": "string"
          },
          "title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Title"
          }
        },
        "required": [
          "step_id",
          "index",
          "kind",
          "ref_id"
        ],
        "title": "TrailStep",
        "type": "object"
      },
      "TrailSummary": {
        "description": "Summary of a trail for listing.",
        "properties": {
          "created_at": {
            "title": "Created At",
            "type": "integer"
          },
          "pinned": {
            "title": "Pinned",
            "type": "boolean"
          },
          "status": {
            "title": "Status",
            "type": "string"
          },
          "step_count": {
            "title": "Step Count",
            "type": "integer"
          },
          "title": {
            "title": "Title",
            "type": "string"
          },
          "trail_id": {
            "title": "Trail Id",
            "type": "string"
          },
          "updated_at": {
            "title": "Updated At",
            "type": "integer"
          }
        },
        "required": [
          "trail_id",
          "title",
          "status",
          "pinned",
          "created_at",
          "updated_at",
          "step_count"
        ],
        "title": "TrailSummary",
        "type": "object"
      },
      "TrailToSubgraphRequest": {
        "description": "Request to convert trail to subgraph.",
        "properties": {
          "branch_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Branch Id"
          },
          "graph_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Graph Id"
          },
          "max_edges": {
            "default": 100,
            "maximum": 500.0,
            "minimum": 1.0,
            "title": "Max Edges",
            "type": "integer"
          },
          "max_nodes": {
            "default": 50,
            "maximum": 200.0,
            "minimum": 1.0,
            "title": "Max Nodes",
            "type": "integer"
          }
        },
        "title": "TrailToSubgraphRequest",
        "type": "object"
      },
      "TrailToSubgraphResponse": {
        "description": "Response from trail to subgraph.",
        "properties": {
          "edges": {
            "items": {
              "$ref": "#/components/schemas/SubgraphEdge"
            },
            "title": "Edges",
            "type": "array"
          },
          "included_step_ids": {
            "items": {
              "type": "string"
            },
            "title": "Included Step Ids",
            "type": "array"
          },
          "nodes": {
            "items": {
              "$ref": "#/components/schemas/SubgraphNode"
            },
            "title": "Nodes",
            "type": "array"
          }
        },
        "required": [
          "nodes",
          "edges",
          "included_step_ids"
        ],
        "title": "TrailToSubgraphResponse",
        "type": "object"
      },
      "TutorProfile": {
        "description": "Explicit, editable tutor behavior preferences applied across modalities.\n\nStored at: UserProfile.learning_preferences[\"tutor_profile\"].\n\nPriority:\n  1. custom_instructions (free-form, overrides everything below)\n  2. Structured fields (comprehension_level, tone, pacing, turn_taking, response_length)\n\nVoice mode overrides allow separate tuning for spoken vs. text responses.",
        "properties": {
          "comprehension_level": {
            "default": "intermediate",
            "description": "Vocabulary and complexity level: beginner \u2192 expert.",
            "enum": [
              "beginner",
              "intermediate",
              "advanced",
              "expert"
            ],
            "title": "Comprehension Level",
            "type": "string"
          },
          "custom_instructions": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Custom tutor persona in natural language. If set, this overrides all structured fields below. Example: 'You are a Socratic tutor who asks probing questions instead of giving direct answers.'",
            "title": "Custom Instructions"
          },
          "end_with_next_step": {
            "default": true,
            "description": "Always suggest a logical next step at the end of a response.",
            "title": "End With Next Step",
            "type": "boolean"
          },
          "no_glazing": {
            "default": true,
            "description": "Be direct; correct errors immediately rather than softening them.",
            "title": "No Glazing",
            "type": "boolean"
          },
          "pacing": {
            "default": "moderate",
            "description": "How fast the tutor moves: slow (one concept at a time), moderate, fast.",
            "enum": [
              "slow",
              "moderate",
              "fast"
            ],
            "title": "Pacing",
            "type": "string"
          },
          "response_length": {
            "default": "balanced",
            "description": "Preferred response length/density: concise, balanced, or detailed.",
            "enum": [
              "concise",
              "balanced",
              "detailed"
            ],
            "title": "Response Length",
            "type": "string"
          },
          "tone": {
            "default": "balanced",
            "description": "Communication register: casual, balanced, formal, or encouraging.",
            "enum": [
              "casual",
              "balanced",
              "formal",
              "encouraging"
            ],
            "title": "Tone",
            "type": "string"
          },
          "turn_taking": {
            "default": "dialogic",
            "description": "Conversational structure: socratic, lecture, dialogic, or on_demand.",
            "enum": [
              "socratic",
              "lecture",
              "dialogic",
              "on_demand"
            ],
            "title": "Turn Taking",
            "type": "string"
          },
          "version": {
            "default": "tutor_profile_v2",
            "title": "Version",
            "type": "string"
          },
          "voice_speech_density": {
            "anyOf": [
              {
                "enum": [
                  "sparse",
                  "normal",
                  "dense"
                ],
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Voice verbosity: sparse (short spoken sentences), normal, dense. Falls back to response_length mapping if not set.",
            "title": "Voice Speech Density"
          },
          "voice_tone_override": {
            "anyOf": [
              {
                "enum": [
                  "casual",
                  "balanced",
                  "formal",
                  "encouraging"
                ],
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Voice-specific tone override. Falls back to `tone` if not set.",
            "title": "Voice Tone Override"
          }
        },
        "title": "TutorProfile",
        "type": "object"
      },
      "TutorProfilePatch": {
        "description": "Partial updates for TutorProfile (PATCH semantics).\nAll fields optional; only provided fields are merged.",
        "properties": {
          "comprehension_level": {
            "anyOf": [
              {
                "enum": [
                  "beginner",
                  "intermediate",
                  "advanced",
                  "expert"
                ],
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Comprehension Level"
          },
          "custom_instructions": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Custom Instructions"
          },
          "end_with_next_step": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "End With Next Step"
          },
          "no_glazing": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "No Glazing"
          },
          "pacing": {
            "anyOf": [
              {
                "enum": [
                  "slow",
                  "moderate",
                  "fast"
                ],
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Pacing"
          },
          "response_length": {
            "anyOf": [
              {
                "enum": [
                  "concise",
                  "balanced",
                  "detailed"
                ],
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Response Length"
          },
          "tone": {
            "anyOf": [
              {
                "enum": [
                  "casual",
                  "balanced",
                  "formal",
                  "encouraging"
                ],
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tone"
          },
          "turn_taking": {
            "anyOf": [
              {
                "enum": [
                  "socratic",
                  "lecture",
                  "dialogic",
                  "on_demand"
                ],
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Turn Taking"
          },
          "voice_speech_density": {
            "anyOf": [
              {
                "enum": [
                  "sparse",
                  "normal",
                  "dense"
                ],
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Voice Speech Density"
          },
          "voice_tone_override": {
            "anyOf": [
              {
                "enum": [
                  "casual",
                  "balanced",
                  "formal",
                  "encouraging"
                ],
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Voice Tone Override"
          }
        },
        "title": "TutorProfilePatch",
        "type": "object"
      },
      "UIPreferences": {
        "description": "UI preferences for lens system and other UI customizations.",
        "properties": {
          "active_lens": {
            "default": "NONE",
            "title": "Active Lens",
            "type": "string"
          },
          "reminders": {
            "$ref": "#/components/schemas/ReminderPreferences"
          }
        },
        "title": "UIPreferences",
        "type": "object"
      },
      "UndoRequest": {
        "properties": {
          "mode": {
            "default": "SAFE",
            "title": "Mode",
            "type": "string"
          }
        },
        "title": "UndoRequest",
        "type": "object"
      },
      "UpdateConceptRefreshBindingRequest": {
        "properties": {
          "config": {
            "$ref": "#/components/schemas/RefreshBindingConfigModel"
          }
        },
        "required": [
          "config"
        ],
        "title": "UpdateConceptRefreshBindingRequest",
        "type": "object"
      },
      "UpdateGraphRefreshDefaultsRequest": {
        "properties": {
          "refresh_defaults": {
            "$ref": "#/components/schemas/RefreshBindingConfigModel"
          }
        },
        "required": [
          "refresh_defaults"
        ],
        "title": "UpdateGraphRefreshDefaultsRequest",
        "type": "object"
      },
      "UserLogin": {
        "properties": {
          "email": {
            "format": "email",
            "title": "Email",
            "type": "string"
          },
          "password": {
            "title": "Password",
            "type": "string"
          }
        },
        "required": [
          "email",
          "password"
        ],
        "title": "UserLogin",
        "type": "object"
      },
      "UserProfile": {
        "description": "Long-term personal context and preferences.\nTransparency-first: This data is shown to the user in plain language for correction.",
        "properties": {
          "domain_background": {
            "default": "",
            "description": "What the user already knows: e.g. 'Senior JS developer, brand new to C++.'",
            "title": "Domain Background",
            "type": "string"
          },
          "email": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Email"
          },
          "id": {
            "default": "default",
            "title": "Id",
            "type": "string"
          },
          "inferred_knowledge_tags": {
            "additionalProperties": {
              "type": "string"
            },
            "description": "Mapping of concept \u2192 inferred status (e.g. 'Mastered', 'Struggling').",
            "title": "Inferred Knowledge Tags",
            "type": "object"
          },
          "interests": {
            "default": [],
            "items": {
              "type": "string"
            },
            "title": "Interests",
            "type": "array"
          },
          "learning_goals": {
            "default": "",
            "description": "High-level goals: e.g. 'Master distributed systems to pass an interview.'",
            "title": "Learning Goals",
            "type": "string"
          },
          "learning_preferences": {
            "additionalProperties": true,
            "description": "Storage for TutorProfile and other structured settings.",
            "title": "Learning Preferences",
            "type": "object"
          },
          "learning_style": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": "Balanced",
            "description": "User-defined preference: e.g. 'Visual', 'Socratic', 'Fast-paced'.",
            "title": "Learning Style"
          },
          "name": {
            "default": "Learner",
            "title": "Name",
            "type": "string"
          },
          "signup_date": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Signup Date"
          },
          "ui_preferences": {
            "additionalProperties": true,
            "title": "Ui Preferences",
            "type": "object"
          },
          "weak_areas": {
            "description": "Specific topics identified as gaps or hurdles.",
            "items": {
              "type": "string"
            },
            "title": "Weak Areas",
            "type": "array"
          }
        },
        "title": "UserProfile",
        "type": "object"
      },
      "UserSignup": {
        "properties": {
          "email": {
            "format": "email",
            "title": "Email",
            "type": "string"
          },
          "full_name": {
            "default": "",
            "title": "Full Name",
            "type": "string"
          },
          "password": {
            "title": "Password",
            "type": "string"
          }
        },
        "required": [
          "email",
          "password"
        ],
        "title": "UserSignup",
        "type": "object"
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "title": "Location",
            "type": "array"
          },
          "msg": {
            "title": "Message",
            "type": "string"
          },
          "type": {
            "title": "Error Type",
            "type": "string"
          }
        },
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError",
        "type": "object"
      },
      "VoiceCaptureSignal": {
        "description": "Signal for passive voice transcription (Mode A).",
        "properties": {
          "block_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Block Id"
          },
          "classification": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Classification"
          },
          "concept_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Concept Id"
          },
          "document_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Document Id"
          },
          "transcript": {
            "title": "Transcript",
            "type": "string"
          }
        },
        "required": [
          "transcript"
        ],
        "title": "VoiceCaptureSignal",
        "type": "object"
      },
      "VoiceCommandSignal": {
        "description": "Signal for active voice commands (Mode B).",
        "properties": {
          "block_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Block Id"
          },
          "concept_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Concept Id"
          },
          "document_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Document Id"
          },
          "intent": {
            "title": "Intent",
            "type": "string"
          },
          "params": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Params"
          },
          "task_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Task Id"
          },
          "transcript": {
            "title": "Transcript",
            "type": "string"
          }
        },
        "required": [
          "transcript",
          "intent"
        ],
        "title": "VoiceCommandSignal",
        "type": "object"
      },
      "VoiceSessionCreate": {
        "description": "Request to initiate a voice session.",
        "properties": {
          "branch_id": {
            "title": "Branch Id",
            "type": "string"
          },
          "companion_session_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Companion Session Id"
          },
          "graph_id": {
            "title": "Graph Id",
            "type": "string"
          },
          "metadata": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata"
          }
        },
        "required": [
          "graph_id",
          "branch_id"
        ],
        "title": "VoiceSessionCreate",
        "type": "object"
      },
      "WeakArea": {
        "properties": {
          "concept": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Concept"
          },
          "score": {
            "title": "Score",
            "type": "number"
          },
          "task_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Task Type"
          }
        },
        "required": [
          "score"
        ],
        "title": "WeakArea",
        "type": "object"
      },
      "WeakAreas": {
        "properties": {
          "weak_concepts": {
            "items": {
              "$ref": "#/components/schemas/WeakArea"
            },
            "title": "Weak Concepts",
            "type": "array"
          },
          "weak_task_types": {
            "items": {
              "$ref": "#/components/schemas/WeakArea"
            },
            "title": "Weak Task Types",
            "type": "array"
          }
        },
        "required": [
          "weak_concepts",
          "weak_task_types"
        ],
        "title": "WeakAreas",
        "type": "object"
      },
      "WebIngestRequest": {
        "description": "Request to ingest a webpage via the extension.",
        "properties": {
          "anchor": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Anchor"
          },
          "capture_mode": {
            "default": "reader",
            "title": "Capture Mode",
            "type": "string"
          },
          "domain": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": "General",
            "title": "Domain"
          },
          "metadata": {
            "additionalProperties": true,
            "default": {},
            "title": "Metadata",
            "type": "object"
          },
          "note": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Note"
          },
          "selection_text": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Selection Text"
          },
          "tags": {
            "default": [],
            "items": {
              "type": "string"
            },
            "title": "Tags",
            "type": "array"
          },
          "text": {
            "title": "Text",
            "type": "string"
          },
          "title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Title"
          },
          "trail_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Trail Id"
          },
          "url": {
            "title": "Url",
            "type": "string"
          }
        },
        "required": [
          "url",
          "text"
        ],
        "title": "WebIngestRequest",
        "type": "object"
      },
      "WebIngestResponse": {
        "description": "Response from web ingestion endpoint.",
        "properties": {
          "artifact_id": {
            "title": "Artifact Id",
            "type": "string"
          },
          "chunks_created": {
            "default": 0,
            "title": "Chunks Created",
            "type": "integer"
          },
          "claims_created": {
            "default": 0,
            "title": "Claims Created",
            "type": "integer"
          },
          "errors": {
            "default": [],
            "items": {
              "type": "string"
            },
            "title": "Errors",
            "type": "array"
          },
          "quote_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Quote Id"
          },
          "run_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Run Id"
          },
          "status": {
            "title": "Status",
            "type": "string"
          }
        },
        "required": [
          "status",
          "artifact_id"
        ],
        "title": "WebIngestResponse",
        "type": "object"
      },
      "WorkflowStatusResponse": {
        "description": "Status of workflows.",
        "properties": {
          "capture": {
            "additionalProperties": true,
            "title": "Capture",
            "type": "object"
          },
          "explore": {
            "additionalProperties": true,
            "title": "Explore",
            "type": "object"
          },
          "synthesize": {
            "additionalProperties": true,
            "title": "Synthesize",
            "type": "object"
          }
        },
        "required": [
          "capture",
          "explore",
          "synthesize"
        ],
        "title": "WorkflowStatusResponse",
        "type": "object"
      },
      "api_dashboard__ExamResponse": {
        "properties": {
          "date": {
            "title": "Date",
            "type": "string"
          },
          "days_until": {
            "title": "Days Until",
            "type": "integer"
          },
          "domain": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Domain"
          },
          "exam_id": {
            "title": "Exam Id",
            "type": "string"
          },
          "required_concepts": {
            "items": {
              "type": "string"
            },
            "title": "Required Concepts",
            "type": "array"
          },
          "title": {
            "title": "Title",
            "type": "string"
          }
        },
        "required": [
          "exam_id",
          "title",
          "date",
          "days_until",
          "required_concepts"
        ],
        "title": "ExamResponse",
        "type": "object"
      },
      "api_events__SessionSummary": {
        "properties": {
          "counts": {
            "$ref": "#/components/schemas/SessionCounts"
          },
          "end_at": {
            "title": "End At",
            "type": "string"
          },
          "graph_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Graph Id"
          },
          "highlights": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/SessionHighlights"
              },
              {
                "type": "null"
              }
            ]
          },
          "last_concept_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Concept Id"
          },
          "last_concept_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Concept Name"
          },
          "session_id": {
            "title": "Session Id",
            "type": "string"
          },
          "start_at": {
            "title": "Start At",
            "type": "string"
          },
          "summary": {
            "title": "Summary",
            "type": "string"
          },
          "top_concepts": {
            "default": [],
            "items": {
              "$ref": "#/components/schemas/TopConcept"
            },
            "title": "Top Concepts",
            "type": "array"
          }
        },
        "required": [
          "session_id",
          "start_at",
          "end_at",
          "summary",
          "counts"
        ],
        "title": "SessionSummary",
        "type": "object"
      },
      "api_exams__ExamResponse": {
        "description": "Exam response model.",
        "properties": {
          "assessment_type": {
            "title": "Assessment Type",
            "type": "string"
          },
          "created_at": {
            "title": "Created At",
            "type": "string"
          },
          "days_until": {
            "title": "Days Until",
            "type": "integer"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "domain": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Domain"
          },
          "exam_date": {
            "title": "Exam Date",
            "type": "string"
          },
          "exam_id": {
            "title": "Exam Id",
            "type": "string"
          },
          "required_concepts": {
            "items": {
              "type": "string"
            },
            "title": "Required Concepts",
            "type": "array"
          },
          "title": {
            "title": "Title",
            "type": "string"
          }
        },
        "required": [
          "exam_id",
          "title",
          "exam_date",
          "assessment_type",
          "required_concepts",
          "days_until",
          "created_at"
        ],
        "title": "ExamResponse",
        "type": "object"
      },
      "models__BranchCreateRequest": {
        "properties": {
          "name": {
            "title": "Name",
            "type": "string"
          }
        },
        "required": [
          "name"
        ],
        "title": "BranchCreateRequest",
        "type": "object"
      },
      "models__study__SessionSummary": {
        "description": "Summary of a completed session.",
        "properties": {
          "avg_score": {
            "title": "Avg Score",
            "type": "number"
          },
          "concepts_covered": {
            "items": {
              "type": "string"
            },
            "title": "Concepts Covered",
            "type": "array"
          },
          "duration_seconds": {
            "title": "Duration Seconds",
            "type": "integer"
          },
          "session_id": {
            "title": "Session Id",
            "type": "string"
          },
          "tasks_completed": {
            "title": "Tasks Completed",
            "type": "integer"
          }
        },
        "required": [
          "session_id",
          "tasks_completed",
          "avg_score",
          "duration_seconds",
          "concepts_covered"
        ],
        "title": "SessionSummary",
        "type": "object"
      },
      "models_contextual_branches__BranchCreateRequest": {
        "description": "Request to create a new branch from a text span.",
        "properties": {
          "chat_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Chat session id for digest linkage",
            "title": "Chat Id"
          },
          "end_offset": {
            "title": "End Offset",
            "type": "integer"
          },
          "parent_message_content": {
            "description": "Full content of parent message for context",
            "title": "Parent Message Content",
            "type": "string"
          },
          "parent_message_id": {
            "title": "Parent Message Id",
            "type": "string"
          },
          "selected_text": {
            "title": "Selected Text",
            "type": "string"
          },
          "start_offset": {
            "title": "Start Offset",
            "type": "integer"
          }
        },
        "required": [
          "parent_message_id",
          "parent_message_content",
          "start_offset",
          "end_offset",
          "selected_text"
        ],
        "title": "BranchCreateRequest",
        "type": "object"
      }
    },
    "securitySchemes": {
      "HTTPBearer": {
        "scheme": "bearer",
        "type": "http"
      }
    }
  },
  "info": {
    "description": "Backend API for my personal knowledge graph + AI system.",
    "title": "Brain Web Backend",
    "version": "0.1.0"
  },
  "openapi": "3.1.0",
  "paths": {
    "/": {
      "get": {
        "operationId": "read_root__get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Read Root"
      }
    },
    "/__debug/contextual-branches": {
      "get": {
        "description": "Confirm the imported module file and router routes for contextual branches.",
        "operationId": "__debug_contextual_branches___debug_contextual_branches_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "  Debug Contextual Branches"
      }
    },
    "/__debug/routes": {
      "get": {
        "description": "Return registered routes for debugging local dev issues.",
        "operationId": "__debug_routes___debug_routes_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "  Debug Routes"
      }
    },
    "/admin/export": {
      "post": {
        "description": "Admin-only endpoint: export current Neo4j graph to CSV.\n\nRequires authentication.\n\nArgs:\n    per_graph: If True (default), exports separate CSV files for each graph\n              (e.g., nodes_G{graph_id}.csv) in addition to the combined files.",
        "operationId": "run_export_admin_export_post",
        "parameters": [
          {
            "description": "Also export separate CSV files for each graph",
            "in": "query",
            "name": "per_graph",
            "required": false,
            "schema": {
              "default": true,
              "description": "Also export separate CSV files for each graph",
              "title": "Per Graph",
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Run Export",
        "tags": [
          "admin"
        ]
      }
    },
    "/admin/graph-files": {
      "get": {
        "description": "List all files in the graph directory with metadata.\nUseful for development/debugging to see which CSV files make up the knowledge graph.\n\nReturns:\n    List of file objects with:\n    - name: File name\n    - path: Relative path from project root\n    - size: File size in bytes\n    - size_formatted: Human-readable file size\n    - modified: Last modified timestamp (ISO format)\n    - modified_formatted: Human-readable last modified time\n    - type: File type (csv, etc.)\n    - description: Description of what the file contains",
        "operationId": "list_graph_files_admin_graph_files_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "List Graph Files",
        "tags": [
          "admin"
        ]
      }
    },
    "/admin/graph-files/download/{filename}": {
      "get": {
        "description": "Download a CSV file from the graph directory.\n\nArgs:\n    filename: Name of the CSV file to download\n\nReturns:\n    FileResponse with the CSV file",
        "operationId": "download_graph_file_admin_graph_files_download__filename__get",
        "parameters": [
          {
            "in": "path",
            "name": "filename",
            "required": true,
            "schema": {
              "title": "Filename",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Download Graph File",
        "tags": [
          "admin"
        ]
      }
    },
    "/admin/graph-files/preview/{filename}": {
      "get": {
        "description": "Preview the first few lines of a CSV file.\n\nArgs:\n    filename: Name of the CSV file to preview\n    lines: Number of lines to return (default: 10, max: 50)\n\nReturns:\n    Dictionary with:\n    - filename: File name\n    - total_lines: Total number of lines in file (approximate)\n    - preview_lines: List of lines (first N lines)\n    - headers: CSV headers if available",
        "operationId": "preview_graph_file_admin_graph_files_preview__filename__get",
        "parameters": [
          {
            "in": "path",
            "name": "filename",
            "required": true,
            "schema": {
              "title": "Filename",
              "type": "string"
            }
          },
          {
            "description": "Number of lines to preview",
            "in": "query",
            "name": "lines",
            "required": false,
            "schema": {
              "default": 10,
              "description": "Number of lines to preview",
              "maximum": 50,
              "minimum": 1,
              "title": "Lines",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Preview Graph File",
        "tags": [
          "admin"
        ]
      }
    },
    "/admin/import": {
      "post": {
        "description": "Admin-only endpoint: run CSV -> Neo4j import.\n\nRequires authentication.",
        "operationId": "run_import_admin_import_post",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Run Import",
        "tags": [
          "admin"
        ]
      }
    },
    "/admin/notion-config": {
      "get": {
        "description": "Get the Notion sync configuration.\nReturns which databases are configured for sync and whether auto-sync is enabled.",
        "operationId": "get_notion_config_endpoint_admin_notion_config_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotionConfig"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Get Notion Config Endpoint",
        "tags": [
          "admin"
        ]
      },
      "post": {
        "description": "Update the Notion sync configuration.\nSets which databases should be synced and whether to enable auto-sync.",
        "operationId": "update_notion_config_endpoint_admin_notion_config_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NotionConfig"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotionConfig"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Update Notion Config Endpoint",
        "tags": [
          "admin"
        ]
      }
    },
    "/admin/notion/index-mode": {
      "post": {
        "description": "Set the Notion indexing mode.\n\nArgs:\n    payload: {\"mode\": \"allowlist\" | \"blocklist\"}\n\nReturns:\n    Updated state information",
        "operationId": "set_notion_index_mode_admin_notion_index_mode_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "additionalProperties": true,
                "title": "Payload",
                "type": "object"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Set Notion Index Mode",
        "tags": [
          "admin"
        ]
      }
    },
    "/admin/notion/index-state": {
      "get": {
        "description": "Get the current Notion indexing state.\n\nReturns:\n    Current state with mode, allow list, and block list",
        "operationId": "get_notion_index_state_admin_notion_index_state_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Get Notion Index State",
        "tags": [
          "admin"
        ]
      }
    },
    "/admin/notion/pages": {
      "get": {
        "description": "List all Notion pages from configured databases with their indexing status.\n\nReturns:\n    List of page objects with:\n    - page_id: Notion page ID\n    - title: Page title\n    - last_edited_time: Last edited timestamp\n    - database_id: Database ID (if from database)\n    - indexed: Whether the page is currently indexed",
        "operationId": "list_notion_pages_with_index_status_admin_notion_pages_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "List Notion Pages With Index Status",
        "tags": [
          "admin"
        ]
      }
    },
    "/admin/notion/pages/index": {
      "post": {
        "description": "Toggle whether a Notion page should be indexed.\n\nArgs:\n    payload: Request with page_id and include (true to include, false to exclude)\n\nReturns:\n    Updated state information",
        "operationId": "toggle_page_indexing_admin_notion_pages_index_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NotionPageIndexRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Toggle Page Indexing",
        "tags": [
          "admin"
        ]
      }
    },
    "/admin/notion/sync-history": {
      "get": {
        "description": "Get recent Notion sync activity history.\n\nArgs:\n    limit: Maximum number of recent pages to return\n\nReturns:\n    List of recent page sync activities with page info and status",
        "operationId": "get_notion_sync_history_admin_notion_sync_history_get",
        "parameters": [
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 20,
              "title": "Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Get Notion Sync History",
        "tags": [
          "admin"
        ]
      }
    },
    "/admin/notion/unlink-page": {
      "post": {
        "description": "Unlink a Notion page from the graph by removing nodes that only came from it.\n\nBehavior:\n- Gets all lecture_ids associated with the page\n- For each lecture_id, calls unlink_lecture which:\n    - Deletes nodes that only have that lecture_id as a source\n    - Updates nodes with multiple sources by removing the lecture_id\n- Removes page from page index\n- Marks page as not indexed in index state\n\nArgs:\n    payload: Request with page_id\n\nReturns:\n    Dictionary with stats: nodes_deleted, nodes_updated, relationships_deleted",
        "operationId": "unlink_notion_page_admin_notion_unlink_page_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NotionUnlinkPageRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Unlink Notion Page",
        "tags": [
          "admin"
        ]
      }
    },
    "/admin/sync-notion": {
      "post": {
        "description": "Runs a single Notion sync cycle.\nUseful for manual testing before enabling background sync.\n\nQuery params:\n    force_full: If True, sync all pages regardless of last sync timestamp\n\nReturns:\n    Dictionary with sync statistics:\n    - pages_checked: Number of pages checked\n    - pages_ingested: Number of pages successfully ingested\n    - nodes_created: Total nodes created across all pages\n    - nodes_updated: Total nodes updated across all pages\n    - links_created: Total relationships created\n    - errors: List of error messages (if any)",
        "operationId": "sync_notion_endpoint_admin_sync_notion_post",
        "parameters": [
          {
            "description": "If True, sync all pages regardless of last sync timestamp",
            "in": "query",
            "name": "force_full",
            "required": false,
            "schema": {
              "default": false,
              "description": "If True, sync all pages regardless of last sync timestamp",
              "title": "Force Full",
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Sync Notion Endpoint",
        "tags": [
          "admin"
        ]
      }
    },
    "/ai/assess": {
      "post": {
        "description": "Assessment Agent Endpoint.\n- action=\"probe\": Generate a probing question.\n- action=\"evaluate\": Grade answer and update mastery.\n- action=\"contextual_probe\": Socratic questioning based on highlighted text.",
        "operationId": "assess_endpoint_ai_assess_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AssessmentRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AssessmentResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Assess Endpoint",
        "tags": [
          "ai"
        ]
      }
    },
    "/ai/chat": {
      "post": {
        "description": "Stub endpoint for AI chat.\n\nLater, this will:\n  - Call LLM with tools for graph operations\n  - Execute operations\n  - Return summary + maybe diff",
        "operationId": "ai_chat_ai_chat_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AIChatRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AIChatResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Ai Chat",
        "tags": [
          "ai"
        ]
      }
    },
    "/ai/chat/history/{chat_id}": {
      "get": {
        "description": "Get message history for a specific chat ID.",
        "operationId": "get_history_endpoint_ai_chat_history__chat_id__get",
        "parameters": [
          {
            "in": "path",
            "name": "chat_id",
            "required": true,
            "schema": {
              "title": "Chat Id",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 50,
              "title": "Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Get History Endpoint",
        "tags": [
          "ai"
        ]
      }
    },
    "/ai/chat/sessions": {
      "get": {
        "description": "List recent chat sessions for the authenticated user.",
        "operationId": "get_sessions_endpoint_ai_chat_sessions_get",
        "parameters": [
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 50,
              "title": "Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Get Sessions Endpoint",
        "tags": [
          "ai"
        ]
      }
    },
    "/ai/chat/stream": {
      "post": {
        "description": "Streaming AI chat endpoint using Server-Sent Events (SSE).",
        "operationId": "chat_stream_endpoint_ai_chat_stream_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AIChatRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Chat Stream Endpoint",
        "tags": [
          "ai"
        ]
      }
    },
    "/ai/evidence-subgraph": {
      "post": {
        "description": "Get evidence subgraph for given claim IDs.\nReturns concepts and edges that support the claims.\n\nArgs:\n    payload: EvidenceSubgraphRequest with graph_id, claim_ids, and limits",
        "operationId": "evidence_subgraph_endpoint_ai_evidence_subgraph_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EvidenceSubgraphRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Evidence Subgraph Endpoint",
        "tags": [
          "ai"
        ]
      }
    },
    "/ai/graphrag-context": {
      "post": {
        "description": "Retrieves GraphRAG context: communities -> claims -> evidence subgraph.\nReturns formatted context text and debug information.\nCached for 5 minutes to improve performance for repeated queries.",
        "operationId": "graphrag_context_endpoint_ai_graphrag_context_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GraphRAGContextRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GraphRAGContextResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Graphrag Context Endpoint",
        "tags": [
          "ai"
        ]
      }
    },
    "/ai/retrieve": {
      "post": {
        "description": "Intent-based retrieval orchestrator.\n\nIf intent is provided, skip router and run that plan directly.\nOtherwise: run router \u2192 plan.\n\nReturns RetrievalResult with intent, trace, and context.\n\nCached for 2 minutes to improve performance for repeated queries.",
        "operationId": "retrieve_endpoint_ai_retrieve_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RetrievalRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RetrievalResult"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Retrieve Endpoint",
        "tags": [
          "ai"
        ]
      }
    },
    "/ai/semantic-search": {
      "post": {
        "description": "Performs semantic search over the knowledge graph.\nReturns the most relevant nodes based on the query.",
        "operationId": "semantic_search_ai_semantic_search_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SemanticSearchRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SemanticSearchResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Semantic Search",
        "tags": [
          "ai"
        ]
      }
    },
    "/ai/semantic-search-communities": {
      "post": {
        "description": "Performs semantic search over communities using summary embeddings.\nReturns the most relevant communities based on the query.",
        "operationId": "semantic_search_communities_endpoint_ai_semantic_search_communities_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SemanticSearchCommunitiesRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SemanticSearchCommunitiesResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Semantic Search Communities Endpoint",
        "tags": [
          "ai"
        ]
      }
    },
    "/analytics/mastery": {
      "get": {
        "description": "Get concept mastery levels.\n\nArgs:\n    limit: Max number of concepts to return\n\nReturns:\n    List of concepts with mastery scores",
        "operationId": "get_mastery_levels_analytics_mastery_get",
        "parameters": [
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/ConceptMastery"
                  },
                  "title": "Response Get Mastery Levels Analytics Mastery Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Get Mastery Levels",
        "tags": [
          "analytics"
        ]
      }
    },
    "/analytics/recommendations": {
      "get": {
        "description": "Get personalized recommendations.\n\nArgs:\n    limit: Max number of recommendations to return\n\nReturns:\n    List of active recommendations",
        "operationId": "get_recommendations_analytics_recommendations_get",
        "parameters": [
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 5,
              "title": "Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/Recommendation"
                  },
                  "title": "Response Get Recommendations Analytics Recommendations Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Get Recommendations",
        "tags": [
          "analytics"
        ]
      }
    },
    "/analytics/recommendations/{rec_id}/dismiss": {
      "post": {
        "description": "Dismiss a recommendation.\n\nArgs:\n    rec_id: Recommendation UUID\n\nReturns:\n    Success message",
        "operationId": "dismiss_recommendation_analytics_recommendations__rec_id__dismiss_post",
        "parameters": [
          {
            "in": "path",
            "name": "rec_id",
            "required": true,
            "schema": {
              "title": "Rec Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Dismiss Recommendation",
        "tags": [
          "analytics"
        ]
      }
    },
    "/analytics/stats": {
      "get": {
        "description": "Get aggregate session statistics.\n\nReturns:\n    Session stats (total, completion rate, avg score, etc.)",
        "operationId": "get_stats_analytics_stats_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SessionStats"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Get Stats",
        "tags": [
          "analytics"
        ]
      }
    },
    "/analytics/trends": {
      "get": {
        "description": "Get performance trends over time.\n\nArgs:\n    days: Number of days to retrieve (default 30)\n\nReturns:\n    List of daily performance records",
        "operationId": "get_performance_trends_analytics_trends_get",
        "parameters": [
          {
            "in": "query",
            "name": "days",
            "required": false,
            "schema": {
              "default": 30,
              "title": "Days",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/PerformanceTrend"
                  },
                  "title": "Response Get Performance Trends Analytics Trends Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Get Performance Trends",
        "tags": [
          "analytics"
        ]
      }
    },
    "/analytics/velocity": {
      "get": {
        "description": "Get learning velocity (rate of improvement).\n\nReturns:\n    Learning velocity metrics",
        "operationId": "get_velocity_analytics_velocity_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LearningVelocity"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Get Velocity",
        "tags": [
          "analytics"
        ]
      }
    },
    "/analytics/weak-areas": {
      "get": {
        "description": "Identify weak areas (concepts and task types).\n\nReturns:\n    Weak concepts and task types",
        "operationId": "get_weak_areas_analytics_weak_areas_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WeakAreas"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Get Weak Areas",
        "tags": [
          "analytics"
        ]
      }
    },
    "/answers/examples": {
      "get": {
        "description": "Get recent user-rewritten answers to use as style examples.",
        "operationId": "get_examples_endpoint_answers_examples_get",
        "parameters": [
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 5,
              "title": "Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "additionalProperties": true,
                    "type": "object"
                  },
                  "title": "Response Get Examples Endpoint Answers Examples Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Examples Endpoint",
        "tags": [
          "answers"
        ]
      }
    },
    "/answers/store": {
      "post": {
        "description": "Store an answer record in Neo4j.",
        "operationId": "store_answer_endpoint_answers_store_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AnswerRecord"
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Store Answer Endpoint",
        "tags": [
          "answers"
        ]
      }
    },
    "/api/sessions/{session_id}/context": {
      "get": {
        "description": "Get derived session context from events.\n\nThis loads context from read model store if available, otherwise\nprojects it from events. Context is automatically updated in background\nwhen events are emitted.",
        "operationId": "get_session_context_api_sessions__session_id__context_get",
        "parameters": [
          {
            "in": "path",
            "name": "session_id",
            "required": true,
            "schema": {
              "title": "Session Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SessionContext"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Get Session Context",
        "tags": [
          "sessions-events"
        ]
      }
    },
    "/api/sessions/{session_id}/events": {
      "get": {
        "description": "List events for a session.\n\nReturns events ordered by occurred_at ascending.",
        "operationId": "list_session_events_api_sessions__session_id__events_get",
        "parameters": [
          {
            "in": "path",
            "name": "session_id",
            "required": true,
            "schema": {
              "title": "Session Id",
              "type": "string"
            }
          },
          {
            "description": "Filter events after this timestamp",
            "in": "query",
            "name": "after_ts",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "format": "date-time",
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter events after this timestamp",
              "title": "After Ts"
            }
          },
          {
            "description": "Maximum number of events to return",
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 100,
              "description": "Maximum number of events to return",
              "maximum": 1000,
              "minimum": 1,
              "title": "Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/EventEnvelope"
                  },
                  "title": "Response List Session Events Api Sessions  Session Id  Events Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "List Session Events",
        "tags": [
          "sessions-events"
        ]
      },
      "post": {
        "description": "Append a session event with explicit payload (used for chat message events with full answers).",
        "operationId": "create_session_event_api_sessions__session_id__events_post",
        "parameters": [
          {
            "in": "path",
            "name": "session_id",
            "required": true,
            "schema": {
              "title": "Session Id",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SessionEventCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EventEnvelope"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Create Session Event",
        "tags": [
          "sessions-events"
        ]
      }
    },
    "/auth/login": {
      "post": {
        "description": "Authenticate a user and return a token.",
        "operationId": "login_auth_login_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserLogin"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Login",
        "tags": [
          "auth"
        ]
      }
    },
    "/auth/me": {
      "get": {
        "description": "Get current user's profile.",
        "operationId": "get_me_auth_me_get",
        "parameters": [
          {
            "in": "query",
            "name": "email",
            "required": true,
            "schema": {
              "title": "Email",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Me",
        "tags": [
          "auth"
        ]
      }
    },
    "/auth/signup": {
      "post": {
        "description": "Create a new user account.",
        "operationId": "signup_auth_signup_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserSignup"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Signup",
        "tags": [
          "auth"
        ]
      }
    },
    "/branches/": {
      "get": {
        "operationId": "list_branches_endpoint_branches__get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "List Branches Endpoint",
        "tags": [
          "branches"
        ]
      }
    },
    "/branches/compare": {
      "post": {
        "operationId": "llm_compare_endpoint_branches_compare_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BranchLLMCompareRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BranchLLMCompareResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Llm Compare Endpoint",
        "tags": [
          "branches"
        ]
      }
    },
    "/branches/create": {
      "post": {
        "operationId": "create_branch_endpoint_branches_create_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/models__BranchCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Create Branch Endpoint",
        "tags": [
          "branches"
        ]
      }
    },
    "/branches/{branch_id}/compare/{other_branch_id}": {
      "post": {
        "operationId": "compare_endpoint_branches__branch_id__compare__other_branch_id__post",
        "parameters": [
          {
            "in": "path",
            "name": "branch_id",
            "required": true,
            "schema": {
              "title": "Branch Id",
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "other_branch_id",
            "required": true,
            "schema": {
              "title": "Other Branch Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BranchCompareResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Compare Endpoint",
        "tags": [
          "branches"
        ]
      }
    },
    "/branches/{branch_id}/fork-from-node/{node_id}": {
      "post": {
        "operationId": "fork_from_node_endpoint_branches__branch_id__fork_from_node__node_id__post",
        "parameters": [
          {
            "in": "path",
            "name": "branch_id",
            "required": true,
            "schema": {
              "title": "Branch Id",
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "node_id",
            "required": true,
            "schema": {
              "title": "Node Id",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BranchForkRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Fork From Node Endpoint",
        "tags": [
          "branches"
        ]
      }
    },
    "/branches/{branch_id}/paths": {
      "get": {
        "operationId": "get_paths_endpoint_branches__branch_id__paths_get",
        "parameters": [
          {
            "in": "path",
            "name": "branch_id",
            "required": true,
            "schema": {
              "title": "Branch Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Get Paths Endpoint",
        "tags": [
          "branches"
        ]
      }
    },
    "/branches/{branch_id}/select": {
      "post": {
        "operationId": "select_branch_endpoint_branches__branch_id__select_post",
        "parameters": [
          {
            "in": "path",
            "name": "branch_id",
            "required": true,
            "schema": {
              "title": "Branch Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Select Branch Endpoint",
        "tags": [
          "branches"
        ]
      }
    },
    "/calendar/events": {
      "get": {
        "description": "List calendar events, optionally filtered by date range.",
        "operationId": "list_calendar_events_calendar_events_get",
        "parameters": [
          {
            "description": "Filter events from this date (YYYY-MM-DD)",
            "in": "query",
            "name": "start_date",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter events from this date (YYYY-MM-DD)",
              "title": "Start Date"
            }
          },
          {
            "description": "Filter events until this date (YYYY-MM-DD)",
            "in": "query",
            "name": "end_date",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter events until this date (YYYY-MM-DD)",
              "title": "End Date"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CalendarEventListResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "List Calendar Events",
        "tags": [
          "calendar"
        ]
      },
      "post": {
        "description": "Create a new calendar event.",
        "operationId": "create_calendar_event_calendar_events_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CalendarEventCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CalendarEvent"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Create Calendar Event",
        "tags": [
          "calendar"
        ]
      }
    },
    "/calendar/events/{event_id}": {
      "delete": {
        "description": "Delete a calendar event.",
        "operationId": "delete_calendar_event_calendar_events__event_id__delete",
        "parameters": [
          {
            "in": "path",
            "name": "event_id",
            "required": true,
            "schema": {
              "title": "Event Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Delete Calendar Event",
        "tags": [
          "calendar"
        ]
      },
      "get": {
        "description": "Get a specific calendar event by ID.",
        "operationId": "get_calendar_event_calendar_events__event_id__get",
        "parameters": [
          {
            "in": "path",
            "name": "event_id",
            "required": true,
            "schema": {
              "title": "Event Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CalendarEvent"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Get Calendar Event",
        "tags": [
          "calendar"
        ]
      },
      "put": {
        "description": "Update a calendar event.",
        "operationId": "update_calendar_event_calendar_events__event_id__put",
        "parameters": [
          {
            "in": "path",
            "name": "event_id",
            "required": true,
            "schema": {
              "title": "Event Id",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CalendarEventUpdate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CalendarEvent"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Update Calendar Event",
        "tags": [
          "calendar"
        ]
      }
    },
    "/calendar/locations/suggestions": {
      "get": {
        "description": "Get location suggestions based on query and current location.\n\nUses real geocoding API (OpenStreetMap Nominatim) to search for actual places.\nAlso includes common locations from the database if they match.\n\nRequires a query parameter - only returns suggestions that match the search.\nIf current location is provided, locations are sorted by distance.",
        "operationId": "get_location_suggestions_calendar_locations_suggestions_get",
        "parameters": [
          {
            "description": "Search query for location suggestions (required)",
            "in": "query",
            "name": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Search query for location suggestions (required)",
              "title": "Query"
            }
          },
          {
            "description": "User context (e.g., 'purdue', 'default')",
            "in": "query",
            "name": "context",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "User context (e.g., 'purdue', 'default')",
              "title": "Context"
            }
          },
          {
            "description": "Current latitude for distance calculation",
            "in": "query",
            "name": "current_lat",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "number"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Current latitude for distance calculation",
              "title": "Current Lat"
            }
          },
          {
            "description": "Current longitude for distance calculation",
            "in": "query",
            "name": "current_lon",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "number"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Current longitude for distance calculation",
              "title": "Current Lon"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Location Suggestions",
        "tags": [
          "calendar"
        ]
      }
    },
    "/chats/{chat_id}/notes": {
      "get": {
        "operationId": "get_notes_digest_chats__chat_id__notes_get",
        "parameters": [
          {
            "in": "path",
            "name": "chat_id",
            "required": true,
            "schema": {
              "title": "Chat Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotesDigest"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Get Notes Digest",
        "tags": [
          "notes-digest"
        ]
      }
    },
    "/chats/{chat_id}/notes/history": {
      "get": {
        "operationId": "get_notes_history_endpoint_chats__chat_id__notes_history_get",
        "parameters": [
          {
            "in": "path",
            "name": "chat_id",
            "required": true,
            "schema": {
              "title": "Chat Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/NotesHistoryEntry"
                  },
                  "title": "Response Get Notes History Endpoint Chats  Chat Id  Notes History Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Get Notes History Endpoint",
        "tags": [
          "notes-digest"
        ]
      }
    },
    "/chats/{chat_id}/notes/update": {
      "post": {
        "operationId": "update_notes_digest_endpoint_chats__chat_id__notes_update_post",
        "parameters": [
          {
            "in": "path",
            "name": "chat_id",
            "required": true,
            "schema": {
              "title": "Chat Id",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NotesUpdateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotesUpdateResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Update Notes Digest Endpoint",
        "tags": [
          "notes-digest"
        ]
      }
    },
    "/claims/from_quotes": {
      "post": {
        "description": "Create claims from quotes using LLM extraction.\n\nFor each quote:\n1. Extract 1-3 atomic claims using LLM\n2. Create Claim nodes\n3. Link (Claim)-[:EVIDENCED_BY]->(Quote)\n4. Link (Concept)-[:SUPPORTED_BY]->(Claim) for:\n   - The provided concept_id (if any), OR\n   - Concepts attached to the quote via HAS_QUOTE\n\nArgs:\n    payload: ClaimsFromQuotesRequest with quote_ids and optional concept_id\n    session: Neo4j session\n\nReturns:\n    ClaimsFromQuotesResponse with created claims and errors",
        "operationId": "create_claims_from_quotes_claims_from_quotes_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ClaimsFromQuotesRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ClaimsFromQuotesResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Create Claims From Quotes",
        "tags": [
          "claims"
        ]
      }
    },
    "/concepts/": {
      "post": {
        "description": "Create a new concept in the knowledge graph.\n\nPURPOSE:\nAdds a new node to the graph. This is how new knowledge enters the system\n(besides lecture ingestion which does this automatically).\n\nHOW IT WORKS:\n- Takes ConceptCreate payload (name, domain, type, description, etc.)\n- Generates a unique node_id (format: NXXXXXXXX)\n- Stores in Neo4j database\n- Auto-exports to CSV for backup\n\nHOW IT'S USED:\n- Users can manually create concepts via the UI\n- Command system: \"add node <name>\"\n- Lecture ingestion creates concepts automatically (via services)\n\nEXAMPLE:\nPOST /concepts/\nBody: {\"name\": \"Transformer\", \"domain\": \"AI\", \"type\": \"concept\", ...}\nReturns: Created concept with auto-generated node_id\n\nCSV BACKUP:\nAfter creating, automatically exports to CSV in the background. This ensures\nyour graph is backed up to files in the graph/ directory.\n\nCONNECTS TO:\n- GraphVisualization - Manual concept creation\n- Lecture ingestion - Creates concepts from text\n- Notion sync - Creates concepts from pages\n- services_sync.py - CSV backup system",
        "operationId": "create_concept_endpoint_concepts__post",
        "parameters": [
          {
            "description": "Optional graph_id to explicitly specify which graph to add the concept to",
            "in": "query",
            "name": "graph_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Optional graph_id to explicitly specify which graph to add the concept to",
              "title": "Graph Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConceptCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Concept"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Create Concept Endpoint",
        "tags": [
          "concepts"
        ]
      }
    },
    "/concepts/all/graph": {
      "get": {
        "description": "Get the complete graph - all nodes and relationships.\nSECURED: Filters by tenant_id.",
        "operationId": "get_all_graph_data_concepts_all_graph_get",
        "parameters": [
          {
            "description": "Visibility policy: 'auto' (default), 'all', or 'none'",
            "in": "query",
            "name": "include_proposed",
            "required": false,
            "schema": {
              "default": "auto",
              "description": "Visibility policy: 'auto' (default), 'all', or 'none'",
              "enum": [
                "auto",
                "all",
                "none"
              ],
              "title": "Include Proposed",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Get All Graph Data",
        "tags": [
          "concepts"
        ]
      }
    },
    "/concepts/by-name/{name}": {
      "get": {
        "description": "Get a concept by its name (exact match).\n\nPURPOSE:\nFind a concept when you know its exact name. Useful when you have the name\nbut not the node_id.\n\nHOW IT'S USED:\n- Lecture ingestion uses this to find existing concepts by name\n- Notion sync uses this to match concepts\n- Command system uses this for \"go <concept-name>\" commands\n\nEXAMPLE:\nGET /concepts/by-name/Neural%20Networks\nReturns: The concept with name \"Neural Networks\"\n\nNOTE:\nThis is case-sensitive for exact matching. For partial matching, use /search.\n\nCONNECTS TO:\n- Lecture ingestion - Finds existing concepts to update\n- Notion sync - Matches concepts by name\n- Command system - Navigation by name",
        "operationId": "read_concept_by_name_concepts_by_name__name__get",
        "parameters": [
          {
            "in": "path",
            "name": "name",
            "required": true,
            "schema": {
              "title": "Name",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Concept"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Read Concept By Name",
        "tags": [
          "concepts"
        ]
      }
    },
    "/concepts/by-slug/{slug}": {
      "get": {
        "description": "Get a concept by its URL slug (Wikipedia-style).\n\nPURPOSE:\nFind a concept using its URL-friendly slug. This enables Wikipedia-style\nnavigation with clean URLs like /concepts/transformer-architecture.\n\nHOW IT'S USED:\n- Concept pages use this for clean URLs\n- Graph visualization links to concept pages\n- Wikipedia-style navigation between concepts\n\nEXAMPLE:\nGET /concepts/by-slug/transformer-architecture\nReturns: The concept with url_slug \"transformer-architecture\"\n\nNOTE:\nSlugs are auto-generated from concept names when concepts are created.\nIf a concept doesn't have a slug, use the node_id endpoint instead.\n\nCONNECTS TO:\n- Concept wiki pages - Clean URL routing\n- Graph visualization - Link to concept pages\n- Wikipedia-style navigation",
        "operationId": "read_concept_by_slug_concepts_by_slug__slug__get",
        "parameters": [
          {
            "in": "path",
            "name": "slug",
            "required": true,
            "schema": {
              "title": "Slug",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Concept"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Read Concept By Slug",
        "tags": [
          "concepts"
        ]
      }
    },
    "/concepts/cleanup-test-data": {
      "post": {
        "description": "Cleanup utility: Delete all test concepts.\n\nPURPOSE:\nDevelopment utility to remove test data. Identifies test concepts (usually\nby name pattern or tags) and deletes them.\n\nHOW IT'S USED:\n- During development to clean up test data\n- After running tests that create test concepts\n- Keeping the graph clean\n\nNOTE:\nThis is a development utility. In production, you might want to protect\nthis endpoint or remove it entirely.\n\nCONNECTS TO:\n- Test suite - Cleanup after tests\n- Development workflow - Keeping graph clean",
        "operationId": "cleanup_test_data_concepts_cleanup_test_data_post",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Cleanup Test Data",
        "tags": [
          "concepts"
        ]
      }
    },
    "/concepts/gaps": {
      "get": {
        "description": "Find knowledge gaps in the graph.\n\nPURPOSE:\nIdentifies concepts that represent gaps in your knowledge. Uses heuristics:\n- Concepts with short descriptions (less detail)\n- Concepts with low degree (few relationships to other concepts)\n\nWHY THIS MATTERS:\nA well-connected concept has many relationships and a detailed description.\nA gap is a concept that's isolated or poorly explained - indicating incomplete\nknowledge in that area.\n\nHOW IT'S USED:\n- Gaps View page shows these to help you know what to learn next\n- AI chat can suggest questions to fill these gaps\n- Helps prioritize what to study or explain\n\nEXAMPLE:\nIf \"Backpropagation\" has only 1 relationship and a 10-word description,\nit's a gap. You should expand it with more connections and details.\n\nCONNECTS TO:\n- api_gaps.py - Uses this for comprehensive gap analysis\n- Frontend Gaps View - Displays gaps to the user",
        "operationId": "get_concept_gaps_endpoint_concepts_gaps_get",
        "parameters": [
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 5,
              "title": "Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Concept Gaps Endpoint",
        "tags": [
          "concepts"
        ]
      }
    },
    "/concepts/missing-descriptions": {
      "get": {
        "description": "Find concepts that are missing descriptions.\n\nPURPOSE:\nIdentifies concepts that exist in the graph but don't have descriptions yet.\nThis is useful for gap detection - finding areas where knowledge is incomplete.\n\nHOW IT'S USED:\n- Gaps View page uses this to show concepts that need descriptions\n- AI chat can suggest questions to fill these gaps\n- Helps users know what to learn/explain next\n\nEXAMPLE:\nIf you have a concept \"Neural Networks\" but no description, this endpoint\nwill return it so you can add a description.\n\nCONNECTS TO:\n- api_gaps.py - Uses this for comprehensive gap analysis\n- Frontend Gaps View - Displays these concepts to the user",
        "operationId": "get_missing_descriptions_concepts_missing_descriptions_get",
        "parameters": [
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 3,
              "title": "Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/Concept"
                  },
                  "title": "Response Get Missing Descriptions Concepts Missing Descriptions Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Missing Descriptions",
        "tags": [
          "concepts"
        ]
      }
    },
    "/concepts/relationship": {
      "delete": {
        "description": "Delete a specific relationship between two concepts.\n\nPURPOSE:\nRemoves a relationship without deleting the concepts themselves. Useful\nwhen you want to break a connection but keep both concepts.\n\nHOW IT WORKS:\n- Finds the specific relationship (source \u2192[predicate]\u2192 target)\n- Deletes only that relationship\n- Concepts remain, just not connected anymore\n\nHOW IT'S USED:\n- Users can remove incorrect relationships\n- Refining the graph structure\n- Fixing mistakes in relationships\n\nEXAMPLE:\nDELETE /concepts/relationship?source_id=N001&target_id=N002&predicate=RELATED_TO\nRemoves: N001 \u2192[RELATED_TO]\u2192 N002 (but keeps both concepts)\n\nCSV BACKUP:\nAuto-exports to CSV after deletion.\n\nCONNECTS TO:\n- GraphVisualization - Remove edge functionality\n- Graph refinement - Fixing relationship mistakes",
        "operationId": "delete_relationship_endpoint_concepts_relationship_delete",
        "parameters": [
          {
            "in": "query",
            "name": "source_id",
            "required": true,
            "schema": {
              "title": "Source Id",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "target_id",
            "required": true,
            "schema": {
              "title": "Target Id",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "predicate",
            "required": true,
            "schema": {
              "title": "Predicate",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Delete Relationship Endpoint",
        "tags": [
          "concepts"
        ]
      },
      "post": {
        "description": "Create a relationship between two concepts (by name).\n\nPURPOSE:\nConnects two concepts in the graph. Relationships are the \"edges\" that make\nit a graph - they show how concepts relate to each other.\n\nHOW IT WORKS:\n- Takes source_name, target_name, and predicate (relationship type)\n- Finds both concepts by name\n- Creates a directed relationship: source \u2192 target\n\nRELATIONSHIP TYPES (predicates):\n- RELATED_TO: General relationship\n- DEPENDS_ON: One concept depends on another\n- PREREQUISITE_FOR: One is a prerequisite for the other\n- HAS_COMPONENT: One contains the other\n- And more (see prompts.py for full list)\n\nHOW IT'S USED:\n- Users can manually link concepts in the graph\n- Command system: \"link <source> <target> <predicate>\"\n- Lecture ingestion creates relationships automatically\n\nEXAMPLE:\nPOST /concepts/relationship\nBody: {\n  \"source_name\": \"Neural Networks\",\n  \"target_name\": \"Backpropagation\",\n  \"predicate\": \"USES\"\n}\nCreates: Neural Networks \u2192[USES]\u2192 Backpropagation\n\nCSV BACKUP:\nAuto-exports to CSV after creating relationship.\n\nCONNECTS TO:\n- GraphVisualization - Manual relationship creation\n- Lecture ingestion - Creates relationships from text\n- Graph rendering - Relationships appear as edges",
        "operationId": "create_relationship_endpoint_concepts_relationship_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RelationshipCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Create Relationship Endpoint",
        "tags": [
          "concepts"
        ]
      }
    },
    "/concepts/relationship-by-ids": {
      "post": {
        "description": "Create a relationship between two concepts (by node_id).\n\nPURPOSE:\nSame as /relationship, but uses node_ids instead of names. This is more\nreliable because node_ids are unique and stable (names can change).\n\nWHY TWO ENDPOINTS:\n- /relationship (by name): Easier for users, uses concept names\n- /relationship-by-ids (by ID): More reliable, uses stable IDs\n\nHOW IT'S USED:\n- Frontend uses this when it already has node_ids (from graph visualization)\n- More reliable than name-based matching\n- Used by command system when linking selected nodes\n\nEXAMPLE:\nPOST /concepts/relationship-by-ids?source_id=N001&target_id=N002&predicate=RELATED_TO\nCreates: N001 \u2192[RELATED_TO]\u2192 N002\n\nCONNECTS TO:\n- GraphVisualization - Linking selected nodes\n- Command system - \"relink\" command with IDs\n- More reliable than name-based relationships",
        "operationId": "create_relationship_by_ids_endpoint_concepts_relationship_by_ids_post",
        "parameters": [
          {
            "in": "query",
            "name": "source_id",
            "required": true,
            "schema": {
              "title": "Source Id",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "target_id",
            "required": true,
            "schema": {
              "title": "Target Id",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "predicate",
            "required": true,
            "schema": {
              "title": "Predicate",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Create Relationship By Ids Endpoint",
        "tags": [
          "concepts"
        ]
      }
    },
    "/concepts/relationship/check": {
      "get": {
        "description": "Check if a relationship exists between two concepts.\n\nPURPOSE:\nUsed by frontend to determine if \"Connect to next\" button should be disabled.\n\nRETURNS:\n- exists: true if relationship exists (ACCEPTED or PROPOSED), false otherwise",
        "operationId": "check_relationship_endpoint_concepts_relationship_check_get",
        "parameters": [
          {
            "description": "Source concept node_id",
            "in": "query",
            "name": "source_id",
            "required": true,
            "schema": {
              "description": "Source concept node_id",
              "title": "Source Id",
              "type": "string"
            }
          },
          {
            "description": "Target concept node_id",
            "in": "query",
            "name": "target_id",
            "required": true,
            "schema": {
              "description": "Target concept node_id",
              "title": "Target Id",
              "type": "string"
            }
          },
          {
            "description": "Relationship type to check",
            "in": "query",
            "name": "predicate",
            "required": true,
            "schema": {
              "description": "Relationship type to check",
              "title": "Predicate",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Check Relationship Endpoint",
        "tags": [
          "concepts"
        ]
      }
    },
    "/concepts/relationship/propose": {
      "post": {
        "description": "Propose a relationship between two concepts (by node_id).\n\nPURPOSE:\nCreates a PROPOSED relationship that can be reviewed and accepted/rejected later.\nUsed by path runner to suggest connections between adjacent steps.\n\nHOW IT WORKS:\n- Checks if relationship already exists (ACCEPTED or PROPOSED)\n- If exists, returns error\n- If not, creates relationship with status=PROPOSED\n\nEXAMPLE:\nPOST /concepts/relationship/propose?source_id=N001&target_id=N002&predicate=PREREQUISITE_FOR&rationale=Proposed+from+suggested+path\nCreates: N001 \u2192[PREREQUISITE_FOR]\u2192 N002 (status: PROPOSED)\n\nCONNECTS TO:\n- PathRunner - \"Connect to next\" action\n- Review system - Proposed relationships appear in /review",
        "operationId": "propose_relationship_endpoint_concepts_relationship_propose_post",
        "parameters": [
          {
            "description": "Source concept node_id",
            "in": "query",
            "name": "source_id",
            "required": true,
            "schema": {
              "description": "Source concept node_id",
              "title": "Source Id",
              "type": "string"
            }
          },
          {
            "description": "Target concept node_id",
            "in": "query",
            "name": "target_id",
            "required": true,
            "schema": {
              "description": "Target concept node_id",
              "title": "Target Id",
              "type": "string"
            }
          },
          {
            "description": "Relationship type (e.g., PREREQUISITE_FOR, DEPENDS_ON)",
            "in": "query",
            "name": "predicate",
            "required": true,
            "schema": {
              "description": "Relationship type (e.g., PREREQUISITE_FOR, DEPENDS_ON)",
              "title": "Predicate",
              "type": "string"
            }
          },
          {
            "description": "Optional rationale for the proposal",
            "in": "query",
            "name": "rationale",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Optional rationale for the proposal",
              "title": "Rationale"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Propose Relationship Endpoint",
        "tags": [
          "concepts"
        ]
      }
    },
    "/concepts/search": {
      "get": {
        "description": "Search for concepts by name (simple keyword search).\n\nPURPOSE:\nAllows users to find concepts by typing part of the name. This is a simple\nkeyword search - for semantic search (finding by meaning), see api_ai.py.\n\nHOW IT WORKS:\n- Case-insensitive partial match\n- If you search \"neural\", it finds \"Neural Networks\", \"Neural Architecture\", etc.\n- Optionally filters by graph_id to only return concepts in that graph\n\nHOW IT'S USED:\n- GraphVisualization component uses this for the search bar\n- Users can quickly find concepts they're looking for\n- Command system uses this for \"search\" commands\n- Omnibox search uses this for concept search\n\nEXAMPLE:\nGET /concepts/search?q=neural&graph_id=my-graph&limit=8\nReturns: Concepts with \"neural\" in the name, limited to 8 results\n\nNOTE:\nFor more intelligent search (finding concepts by meaning, not just name),\nuse POST /ai/semantic-search which uses embeddings.\n\nCONNECTS TO:\n- Frontend GraphVisualization - Search functionality\n- Command system - \"search\" command\n- Omnibox - Concept search",
        "operationId": "search_concepts_concepts_search_get",
        "parameters": [
          {
            "in": "query",
            "name": "q",
            "required": true,
            "schema": {
              "title": "Q",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "graph_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Graph Id"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 20,
              "title": "Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Search Concepts",
        "tags": [
          "concepts"
        ]
      }
    },
    "/concepts/{node_id}": {
      "delete": {
        "description": "Delete a concept from the graph.\n\nPURPOSE:\nRemoves a concept and all its relationships. Use with caution - this is\npermanent (though CSV backup can restore).\n\nHOW IT WORKS:\n- Deletes the concept node\n- Deletes all relationships connected to it\n- Auto-exports to CSV (backup reflects deletion)\n\nHOW IT'S USED:\n- Users can delete concepts they no longer need\n- Command system: \"delete node <name>\"\n- Cleanup operations\n\nWARNING:\nThis is permanent! The concept and all its relationships are removed.\nHowever, CSV backup can restore if needed.\n\nCSV BACKUP:\nAuto-exports to CSV after deletion to keep backup in sync.\n\nCONNECTS TO:\n- GraphVisualization - Delete node functionality\n- Command system - \"delete\" command\n- Cleanup operations",
        "operationId": "delete_concept_endpoint_concepts__node_id__delete",
        "parameters": [
          {
            "in": "path",
            "name": "node_id",
            "required": true,
            "schema": {
              "title": "Node Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Delete Concept Endpoint",
        "tags": [
          "concepts"
        ]
      },
      "get": {
        "description": "Get a concept by its node_id (the unique identifier).\n\nPURPOSE:\nThe primary way to fetch a specific concept. Every concept has a unique\nnode_id (format: NXXXXXXXX) that never changes.\n\nHOW IT'S USED:\n- GraphVisualization uses this when clicking a node\n- Concept Board page uses this to display concept details\n- Neighbor queries use this to get full concept data\n\nEXAMPLE:\nGET /concepts/N00123456\nReturns: The concept with node_id \"N00123456\"\n\nWHY NODE_ID vs NAME:\n- node_id is unique and never changes (even if name changes)\n- name can change, and multiple concepts might have similar names\n- node_id is the stable reference for relationships\n\nCONNECTS TO:\n- GraphVisualization - Node detail panel\n- Concept Board - Full concept view\n- All relationship operations - Use node_id for stability",
        "operationId": "read_concept_concepts__node_id__get",
        "parameters": [
          {
            "in": "path",
            "name": "node_id",
            "required": true,
            "schema": {
              "title": "Node Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Concept"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Read Concept",
        "tags": [
          "concepts"
        ]
      },
      "put": {
        "description": "Update an existing concept (partial update).\n\nPURPOSE:\nModify a concept's properties without replacing everything. Only the fields\nyou provide will be updated - others remain unchanged.\n\nHOW IT WORKS:\n- Uses ConceptUpdate model (all fields optional)\n- Only updates fields that are provided (not None)\n- Preserves existing values for fields not in the update\n\nHOW IT'S USED:\n- Concept Board page - Edit concept description, tags, etc.\n- Users can refine concept details over time\n- Lecture ingestion updates concepts if new data is better\n\nEXAMPLE:\nPUT /concepts/N00123456\nBody: {\"description\": \"A type of neural network architecture\"}\nOnly updates description, everything else stays the same\n\nCSV BACKUP:\nAuto-exports to CSV after update to keep backup in sync.\n\nCONNECTS TO:\n- Concept Board - Edit concept details\n- Lecture ingestion - Updates concepts with better descriptions\n- services_sync.py - CSV backup system",
        "operationId": "update_concept_endpoint_concepts__node_id__put",
        "parameters": [
          {
            "in": "path",
            "name": "node_id",
            "required": true,
            "schema": {
              "title": "Node Id",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConceptUpdate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Concept"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Update Concept Endpoint",
        "tags": [
          "concepts"
        ]
      }
    },
    "/concepts/{node_id}/claims": {
      "get": {
        "description": "Get all claims that mention this concept.\n\nReturns claims with confidence, source, and metadata.",
        "operationId": "get_claims_for_concept_concepts__node_id__claims_get",
        "parameters": [
          {
            "in": "path",
            "name": "node_id",
            "required": true,
            "schema": {
              "title": "Node Id",
              "type": "string"
            }
          },
          {
            "description": "Maximum number of claims to return",
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 50,
              "description": "Maximum number of claims to return",
              "title": "Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Claims For Concept",
        "tags": [
          "concepts"
        ]
      }
    },
    "/concepts/{node_id}/cross-graph-instances": {
      "get": {
        "description": "Get all instances of a concept across all graphs by matching the concept name.\n\nPURPOSE:\nFind where else a concept exists across different graph workspaces. This enables\ncross-graph navigation and discovery of related concepts in different contexts.\n\nHOW IT WORKS:\n- Takes a node_id and finds the concept's name\n- Searches all graphs for concepts with the same name\n- Returns all instances with their graph context\n\nEXAMPLE:\nGET /concepts/N55D928BF/cross-graph-instances\nReturns: All instances of \"TSMC\" across all graphs (multiple workspaces, templates, etc.)\n\nUSE CASES:\n- Show \"Also seen in: [graph_name]\" in concept view\n- Navigate between graph instances of the same concept\n- Discover related concepts in different contexts\n\nCONNECTS TO:\n- ContextPanel - Cross-graph instance display\n- Concept Board - Cross-graph navigation\n- GraphVisualization - Instance discovery",
        "operationId": "get_cross_graph_instances_endpoint_concepts__node_id__cross_graph_instances_get",
        "parameters": [
          {
            "in": "path",
            "name": "node_id",
            "required": true,
            "schema": {
              "title": "Node Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Cross Graph Instances Endpoint",
        "tags": [
          "concepts"
        ]
      }
    },
    "/concepts/{node_id}/link-cross-graph": {
      "post": {
        "description": "Create a bidirectional CROSS_GRAPH_LINK relationship between two concept instances\nin different graphs.\n\nPURPOSE:\nExplicitly link related concepts across graphs. This creates a visible connection\nthat shows concepts are related even though they exist in different graph contexts.\n\nHOW IT WORKS:\n- Creates a CROSS_GRAPH_LINK relationship between two nodes\n- Both nodes must have the same name\n- Both nodes must be in different graphs\n- Relationship is bidirectional\n\nEXAMPLE:\nPOST /concepts/N55D928BF/link-cross-graph?target_node_id=NC53B0A1D&link_type=user_linked\nLinks TSMC in one graph to TSMC in another graph\n\nUSE CASES:\n- User manually links related concepts across graphs\n- Merge workflow maintains graph-specific context\n- Cross-graph relationship discovery\n\n\nCONNECTS TO:\n- ContextPanel - Manual linking UI\n- Merge workflow - Cross-graph merge",
        "operationId": "link_cross_graph_instances_endpoint_concepts__node_id__link_cross_graph_post",
        "parameters": [
          {
            "in": "path",
            "name": "node_id",
            "required": true,
            "schema": {
              "title": "Node Id",
              "type": "string"
            }
          },
          {
            "description": "Node ID of the target concept instance to link to",
            "in": "query",
            "name": "target_node_id",
            "required": true,
            "schema": {
              "description": "Node ID of the target concept instance to link to",
              "title": "Target Node Id",
              "type": "string"
            }
          },
          {
            "description": "Type of link: 'user_linked', 'manual_merge', 'auto_detected'",
            "in": "query",
            "name": "link_type",
            "required": false,
            "schema": {
              "default": "user_linked",
              "description": "Type of link: 'user_linked', 'manual_merge', 'auto_detected'",
              "title": "Link Type",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Link Cross Graph Instances Endpoint",
        "tags": [
          "concepts"
        ]
      }
    },
    "/concepts/{node_id}/linked-instances": {
      "get": {
        "description": "Get all cross-graph instances that are explicitly linked via CROSS_GRAPH_LINK relationships.\n\nPURPOSE:\nFind instances that have been explicitly linked (not just same name). This shows\nuser-created or system-detected relationships between concepts across graphs.\n\nEXAMPLE:\nGET /concepts/N55D928BF/linked-instances\nReturns: All instances linked to this concept via CROSS_GRAPH_LINK",
        "operationId": "get_linked_instances_endpoint_concepts__node_id__linked_instances_get",
        "parameters": [
          {
            "in": "path",
            "name": "node_id",
            "required": true,
            "schema": {
              "title": "Node Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Get Linked Instances Endpoint",
        "tags": [
          "concepts"
        ]
      }
    },
    "/concepts/{node_id}/mentions": {
      "get": {
        "description": "List all lecture mentions that link to this concept.",
        "operationId": "list_concept_mentions_endpoint_concepts__node_id__mentions_get",
        "parameters": [
          {
            "in": "path",
            "name": "node_id",
            "required": true,
            "schema": {
              "title": "Node Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/LectureMention"
                  },
                  "title": "Response List Concept Mentions Endpoint Concepts  Node Id  Mentions Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "List Concept Mentions Endpoint",
        "tags": [
          "concepts"
        ]
      }
    },
    "/concepts/{node_id}/neighbors": {
      "get": {
        "description": "Get all concepts connected to a given concept (neighbors).\n\nPURPOSE:\nFinds all concepts that have a relationship with the given concept. This is\nessential for graph exploration - seeing what's connected to what.\n\nHOW IT WORKS:\n- Finds all relationships where the concept is either source or target\n- Returns the other concepts (neighbors)\n- Doesn't include relationship types, just the concepts\n\nHOW IT'S USED:\n- GraphVisualization uses this for lazy loading (load neighbors on click)\n- Graph exploration - \"What's connected to this concept?\"\n- AI chat uses this to get context around relevant concepts\n\nEXAMPLE:\nGET /concepts/N00123456/neighbors\nReturns: All concepts connected to N00123456\n\nPERFORMANCE:\nThis enables lazy loading - instead of loading the entire graph, load\nneighbors on-demand when clicking nodes. Much faster for large graphs.\n\nCONNECTS TO:\n- GraphVisualization - Lazy loading on node click\n- AI chat - Gets context around relevant concepts\n- Graph exploration - Discover related concepts",
        "operationId": "read_neighbors_concepts__node_id__neighbors_get",
        "parameters": [
          {
            "in": "path",
            "name": "node_id",
            "required": true,
            "schema": {
              "title": "Node Id",
              "type": "string"
            }
          },
          {
            "description": "Visibility policy: 'all' (default, show all), 'auto' (threshold-based), or 'none' (ACCEPTED only)",
            "in": "query",
            "name": "include_proposed",
            "required": false,
            "schema": {
              "default": "all",
              "description": "Visibility policy: 'all' (default, show all), 'auto' (threshold-based), or 'none' (ACCEPTED only)",
              "enum": [
                "auto",
                "all",
                "none"
              ],
              "title": "Include Proposed",
              "type": "string"
            }
          },
          {
            "description": "Filter by relationship status: 'ACCEPTED', 'PROPOSED', or None (show all)",
            "in": "query",
            "name": "status",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by relationship status: 'ACCEPTED', 'PROPOSED', or None (show all)",
              "title": "Status"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/Concept"
                  },
                  "title": "Response Read Neighbors Concepts  Node Id  Neighbors Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Read Neighbors",
        "tags": [
          "concepts"
        ]
      }
    },
    "/concepts/{node_id}/neighbors-with-relationships": {
      "get": {
        "description": "Get neighbors with relationship metadata.\n\nPURPOSE:\nLike /neighbors, but includes relationship types (predicates) and direction.\nThis is what the graph visualization actually needs to render edges properly.\n\nHOW IT WORKS:\n- Returns neighbors with their relationship types\n- Includes direction (is_outgoing: true/false)\n- Includes predicate (relationship type)\n- Includes relationship status, confidence, and method for styling proposed edges\n\nWHY THIS EXISTS:\nGraph visualization needs to know:\n- Which concepts are connected\n- What type of relationship (DEPENDS_ON, RELATED_TO, etc.)\n- Direction (A \u2192 B or B \u2192 A)\n- Status (ACCEPTED/PROPOSED) for visual styling\n\nHOW IT'S USED:\n- GraphVisualization uses this to render edges with correct types/colors\n- Shows relationship labels on edges\n- Enables filtering by relationship type\n- Can style proposed edges differently (e.g., dashed lines)\n\nEXAMPLE:\nGET /concepts/N00123456/neighbors-with-relationships\nReturns: [\n  {\n    \"concept\": {...},\n    \"predicate\": \"DEPENDS_ON\",\n    \"is_outgoing\": true,\n    \"relationship_status\": \"ACCEPTED\",\n    \"relationship_confidence\": 0.95,\n    \"relationship_method\": \"llm\"\n  },\n  ...\n]\n\nCONNECTS TO:\n- GraphVisualization - Edge rendering with types\n- Graph rendering - Proper edge visualization\n- fetchGraphData() in api-client.ts - Recursive graph loading\n\nCached for 1 minute to improve performance.",
        "operationId": "read_neighbors_with_relationships_concepts__node_id__neighbors_with_relationships_get",
        "parameters": [
          {
            "in": "path",
            "name": "node_id",
            "required": true,
            "schema": {
              "title": "Node Id",
              "type": "string"
            }
          },
          {
            "description": "Visibility policy: 'all' (default, show all), 'auto' (threshold-based), or 'none' (ACCEPTED only)",
            "in": "query",
            "name": "include_proposed",
            "required": false,
            "schema": {
              "default": "all",
              "description": "Visibility policy: 'all' (default, show all), 'auto' (threshold-based), or 'none' (ACCEPTED only)",
              "enum": [
                "auto",
                "all",
                "none"
              ],
              "title": "Include Proposed",
              "type": "string"
            }
          },
          {
            "description": "Filter by relationship status: 'ACCEPTED', 'PROPOSED', or None (show all)",
            "in": "query",
            "name": "status",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by relationship status: 'ACCEPTED', 'PROPOSED', or None (show all)",
              "title": "Status"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Read Neighbors With Relationships",
        "tags": [
          "concepts"
        ]
      }
    },
    "/concepts/{node_id}/notes": {
      "get": {
        "description": "Get notes entries linked to a concept node.\n\nPURPOSE:\nReturns all notes entries that have been linked to this concept via the\nrelated_node_ids array field. This shows learning notes that mention or\nrelate to the concept.\n\nHOW IT WORKS:\n- Validates the concept exists in Neo4j (404 if not found)\n- Queries Postgres notes_entries table using GIN index on related_node_ids\n- Joins with notes_sections to get section titles\n- Returns most recent entries first\n\nHOW IT'S USED:\n- Concept detail pages can show related learning notes\n- Users can see what they've learned about a concept\n- Context panel can display notes alongside concept info\n\nEXAMPLE:\nGET /concepts/N00123456/notes?limit=10&offset=0\nReturns: List of notes entries linked to concept N00123456\n\nPERFORMANCE:\nUses GIN index on related_node_ids for efficient array membership queries.",
        "operationId": "get_concept_notes_concepts__node_id__notes_get",
        "parameters": [
          {
            "in": "path",
            "name": "node_id",
            "required": true,
            "schema": {
              "title": "Node Id",
              "type": "string"
            }
          },
          {
            "description": "Maximum number of notes to return",
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 20,
              "description": "Maximum number of notes to return",
              "maximum": 100,
              "minimum": 1,
              "title": "Limit",
              "type": "integer"
            }
          },
          {
            "description": "Number of notes to skip",
            "in": "query",
            "name": "offset",
            "required": false,
            "schema": {
              "default": 0,
              "description": "Number of notes to skip",
              "minimum": 0,
              "title": "Offset",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/ConceptNoteEntry"
                  },
                  "title": "Response Get Concept Notes Concepts  Node Id  Notes Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Get Concept Notes",
        "tags": [
          "concepts"
        ]
      }
    },
    "/concepts/{node_id}/sources": {
      "get": {
        "description": "Get all source chunks and documents that mention this concept.\n\nReturns sources grouped by source_type with timeline information.",
        "operationId": "get_sources_for_concept_concepts__node_id__sources_get",
        "parameters": [
          {
            "in": "path",
            "name": "node_id",
            "required": true,
            "schema": {
              "title": "Node Id",
              "type": "string"
            }
          },
          {
            "description": "Maximum number of sources to return",
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 100,
              "description": "Maximum number of sources to return",
              "title": "Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Sources For Concept",
        "tags": [
          "concepts"
        ]
      }
    },
    "/contextual-branches": {
      "post": {
        "description": "Create a new contextual branch from a text span selection.",
        "operationId": "create_branch_endpoint_contextual_branches_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/models_contextual_branches__BranchCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BranchResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Create Branch Endpoint",
        "tags": [
          "contextual-branches"
        ]
      }
    },
    "/contextual-branches/anchor": {
      "post": {
        "description": "Create a new contextual branch from a bbox anchor selection.",
        "operationId": "create_anchor_branch_endpoint_contextual_branches_anchor_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AnchorBranchCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BranchResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Create Anchor Branch Endpoint",
        "tags": [
          "contextual-branches"
        ]
      }
    },
    "/contextual-branches/messages/{message_id}/branches": {
      "get": {
        "description": "Get all branches for a parent message.",
        "operationId": "get_message_branches_endpoint_contextual_branches_messages__message_id__branches_get",
        "parameters": [
          {
            "in": "path",
            "name": "message_id",
            "required": true,
            "schema": {
              "title": "Message Id",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "include_archived",
            "required": false,
            "schema": {
              "default": false,
              "title": "Include Archived",
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MessageBranchesResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Get Message Branches Endpoint",
        "tags": [
          "contextual-branches"
        ]
      }
    },
    "/contextual-branches/messages/{message_id}/new-version": {
      "post": {
        "description": "Create a new version of a parent message (for when message is regenerated).",
        "operationId": "create_message_version_endpoint_contextual_branches_messages__message_id__new_version_post",
        "parameters": [
          {
            "in": "path",
            "name": "message_id",
            "required": true,
            "schema": {
              "title": "Message Id",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Body_create_message_version_endpoint_contextual_branches_messages__message_id__new_version_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Create Message Version Endpoint",
        "tags": [
          "contextual-branches"
        ]
      }
    },
    "/contextual-branches/{branch_id}": {
      "delete": {
        "description": "Permanently delete a branch and all its messages/hints.",
        "operationId": "delete_branch_endpoint_contextual_branches__branch_id__delete",
        "parameters": [
          {
            "in": "path",
            "name": "branch_id",
            "required": true,
            "schema": {
              "title": "Branch Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Delete Branch Endpoint",
        "tags": [
          "contextual-branches"
        ]
      },
      "get": {
        "description": "Get branch metadata and all messages.",
        "operationId": "get_branch_endpoint_contextual_branches__branch_id__get",
        "parameters": [
          {
            "in": "path",
            "name": "branch_id",
            "required": true,
            "schema": {
              "title": "Branch Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BranchResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Get Branch Endpoint",
        "tags": [
          "contextual-branches"
        ]
      }
    },
    "/contextual-branches/{branch_id}/archive": {
      "post": {
        "description": "Archive a branch (soft delete).",
        "operationId": "archive_branch_endpoint_contextual_branches__branch_id__archive_post",
        "parameters": [
          {
            "in": "path",
            "name": "branch_id",
            "required": true,
            "schema": {
              "title": "Branch Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Archive Branch Endpoint",
        "tags": [
          "contextual-branches"
        ]
      }
    },
    "/contextual-branches/{branch_id}/hints": {
      "post": {
        "description": "Generate bridging hints that connect the clarified concept back to the original response.",
        "operationId": "generate_bridging_hints_endpoint_contextual_branches__branch_id__hints_post",
        "parameters": [
          {
            "in": "path",
            "name": "branch_id",
            "required": true,
            "schema": {
              "title": "Branch Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BridgingHintsResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Generate Bridging Hints Endpoint",
        "tags": [
          "contextual-branches"
        ]
      }
    },
    "/contextual-branches/{branch_id}/messages": {
      "post": {
        "description": "Send a user message in a branch and get assistant reply.",
        "operationId": "send_branch_message_endpoint_contextual_branches__branch_id__messages_post",
        "parameters": [
          {
            "in": "path",
            "name": "branch_id",
            "required": true,
            "schema": {
              "title": "Branch Id",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BranchMessageRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Send Branch Message Endpoint",
        "tags": [
          "contextual-branches"
        ]
      }
    },
    "/dashboard/study-analytics": {
      "get": {
        "description": "Get comprehensive dashboard data including:\n- Study time by domain/subject\n- Upcoming exams and deadlines\n- Study recommendations\n- Resume points (where you left off)",
        "operationId": "get_dashboard_data_dashboard_study_analytics_get",
        "parameters": [
          {
            "description": "Number of days to look back for study time",
            "in": "query",
            "name": "days",
            "required": false,
            "schema": {
              "default": 7,
              "description": "Number of days to look back for study time",
              "title": "Days",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DashboardResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Dashboard Data",
        "tags": [
          "dashboard"
        ]
      }
    },
    "/debug/answers/recent": {
      "get": {
        "description": "Get recent answers with feedback and revision flags.\nOnly available in non-production environments.",
        "operationId": "get_recent_answers_endpoint_debug_answers_recent_get",
        "parameters": [
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 10,
              "title": "Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "additionalProperties": true,
                    "type": "object"
                  },
                  "title": "Response Get Recent Answers Endpoint Debug Answers Recent Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Recent Answers Endpoint",
        "tags": [
          "debug"
        ]
      }
    },
    "/debug/answers/{answer_id}": {
      "get": {
        "description": "Get full answer details including feedback and revisions.\nOnly available in non-production environments.",
        "operationId": "get_answer_detail_endpoint_debug_answers__answer_id__get",
        "parameters": [
          {
            "in": "path",
            "name": "answer_id",
            "required": true,
            "schema": {
              "title": "Answer Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response Get Answer Detail Endpoint Debug Answers  Answer Id  Get",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Answer Detail Endpoint",
        "tags": [
          "debug"
        ]
      }
    },
    "/deep-research/run": {
      "post": {
        "description": "Trigger a Deep Research run.\nThis performs live search, ingestion, and analysis.",
        "operationId": "run_deep_research_deep_research_run_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DeepResearchRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeepResearchResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Run Deep Research",
        "tags": [
          "deep-research"
        ]
      }
    },
    "/events": {
      "post": {
        "description": "Anonymous product analytics event ingestion.\n- No PII by design (session_id is a random cookie)\n- Stores to DynamoDB if configured; otherwise logs to CloudWatch only",
        "operationId": "ingest_event_events_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProductEvent"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Ingest Event",
        "tags": [
          "events"
        ]
      }
    },
    "/events/activity": {
      "post": {
        "description": "Create an activity event. Fast, non-blocking. Failures are ignored.",
        "operationId": "create_activity_event_events_activity_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ActivityEventCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Create Activity Event",
        "tags": [
          "events"
        ]
      }
    },
    "/events/activity/recent": {
      "get": {
        "description": "Get recent activity events, sorted by created_at desc.",
        "operationId": "get_recent_activity_events_events_activity_recent_get",
        "parameters": [
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 50,
              "maximum": 100,
              "minimum": 1,
              "title": "Limit",
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "graph_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Graph Id"
            }
          },
          {
            "in": "query",
            "name": "concept_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Concept Id"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/ActivityEvent"
                  },
                  "title": "Response Get Recent Activity Events Events Activity Recent Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Recent Activity Events",
        "tags": [
          "events"
        ]
      }
    },
    "/events/replay": {
      "post": {
        "description": "Apply an offline mirror batch.\nIdempotent per event_id via (:Event {event_id}) uniqueness + applied marker.",
        "operationId": "replay_events_events_replay_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EventsReplayRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EventsReplayResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Replay Events",
        "tags": [
          "events"
        ]
      }
    },
    "/exams/": {
      "get": {
        "description": "List all upcoming exams.",
        "operationId": "list_exams_exams__get",
        "parameters": [
          {
            "description": "How many days ahead to look",
            "in": "query",
            "name": "days_ahead",
            "required": false,
            "schema": {
              "default": 60,
              "description": "How many days ahead to look",
              "title": "Days Ahead",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/api_exams__ExamResponse"
                  },
                  "title": "Response List Exams Exams  Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "List Exams",
        "tags": [
          "exams"
        ]
      },
      "post": {
        "description": "Create a new exam/assessment with a deadline.\n\nCreates an AssessmentSignal with exam date information.",
        "operationId": "create_exam_exams__post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ExamCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/api_exams__ExamResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Create Exam",
        "tags": [
          "exams"
        ]
      }
    },
    "/exams/{exam_id}": {
      "delete": {
        "description": "Delete an exam (marks the signal as archived).",
        "operationId": "delete_exam_exams__exam_id__delete",
        "parameters": [
          {
            "in": "path",
            "name": "exam_id",
            "required": true,
            "schema": {
              "title": "Exam Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Delete Exam",
        "tags": [
          "exams"
        ]
      },
      "put": {
        "description": "Update an existing exam.\n\nNote: This updates the AssessmentSignal payload. In a production system,\nyou might want to store exams as separate nodes for better querying.",
        "operationId": "update_exam_exams__exam_id__put",
        "parameters": [
          {
            "in": "path",
            "name": "exam_id",
            "required": true,
            "schema": {
              "title": "Exam Id",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ExamUpdate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/api_exams__ExamResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Update Exam",
        "tags": [
          "exams"
        ]
      }
    },
    "/extend": {
      "post": {
        "description": "Extend system: Controlled Reasoning & Graph Expansion.\n\nThree modes:\n1. suggest_connections: Returns relationship suggestions (NO WRITES)\n2. generate_claims: Creates claims from quotes (WRITE, evidence-backed)\n3. controlled_expansion: Creates new concepts (WRITE, capped)\n\nArgs:\n    payload: ExtendRequest with mode and source information\n    session: Neo4j session\n\nReturns:\n    ExtendResponse with results based on mode",
        "operationId": "extend_extend_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ExtendRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExtendResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Extend",
        "tags": [
          "extend"
        ]
      }
    },
    "/feedback/": {
      "post": {
        "description": "Submit feedback on a specific answer.\nFeedback is used to improve future responses through feedback loops.",
        "operationId": "submit_feedback_feedback__post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ExplanationFeedback"
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Submit Feedback",
        "tags": [
          "feedback"
        ]
      }
    },
    "/feedback/answer/revision": {
      "post": {
        "description": "Store a user-rewritten answer as a revision.\nRevisions are used as examples for style guidance in future answers.",
        "operationId": "submit_revision_feedback_answer_revision_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AnswerRevisionRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Submit Revision",
        "tags": [
          "feedback"
        ]
      }
    },
    "/feedback/style": {
      "post": {
        "description": "Submit structured style feedback for learning user preferences.\n\nFormat matches: \"Test1: [original_response] Test1 Feedback: [feedback_notes]\"\n\nThis creates a training dataset for learning the user's style preferences.\nThe feedback is used to automatically refine the style guide.",
        "operationId": "submit_style_feedback_feedback_style_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StyleFeedbackRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Submit Style Feedback",
        "tags": [
          "feedback"
        ]
      }
    },
    "/feedback/style/examples": {
      "get": {
        "description": "Get recent style feedback examples.\nUsed to show user their feedback history and for style guide refinement.",
        "operationId": "get_style_feedback_examples_endpoint_feedback_style_examples_get",
        "parameters": [
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 10,
              "title": "Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Style Feedback Examples Endpoint",
        "tags": [
          "feedback"
        ]
      }
    },
    "/feedback/summary": {
      "get": {
        "description": "Get a summary of recent feedback.\nUsed to guide future responses and avoid patterns that produced negative feedback.",
        "operationId": "get_feedback_summary_feedback_summary_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FeedbackSummary"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Get Feedback Summary",
        "tags": [
          "feedback"
        ]
      }
    },
    "/fill": {
      "post": {
        "operationId": "run_fill_endpoint_fill_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FillRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FillResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Run Fill Endpoint",
        "tags": [
          "fill"
        ]
      }
    },
    "/gaps/overview": {
      "get": {
        "description": "Get a comprehensive overview of knowledge gaps.\n\nReturns:\n{\n    \"missing_descriptions\": [{\"node_id\": \"...\", \"name\": \"...\", \"domain\": \"...\"}, ...],\n    \"low_connectivity\": [{\"node_id\": \"...\", \"name\": \"...\", \"degree\": 1, \"domain\": \"...\"}, ...],\n    \"high_interest_low_coverage\": [{\"node_id\": \"...\", \"name\": \"...\", \"question_count\": 7, \"lecture_count\": 1}, ...],\n    \"browser_gaps\": [{\"node_id\": \"...\", \"name\": \"...\", \"artifact_count\": 3, \"label\": \"From browsing\"}, ...]\n}",
        "operationId": "get_gaps_overview_gaps_overview_get",
        "parameters": [
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 10,
              "title": "Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Gaps Overview",
        "tags": [
          "gaps"
        ]
      }
    },
    "/graphs/": {
      "get": {
        "operationId": "list_graphs_endpoint_graphs__get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GraphListResponse"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "List Graphs Endpoint",
        "tags": [
          "graphs"
        ]
      },
      "post": {
        "operationId": "create_graph_endpoint_graphs__post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GraphCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GraphSelectResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Create Graph Endpoint",
        "tags": [
          "graphs"
        ]
      }
    },
    "/graphs/{graph_id}": {
      "delete": {
        "operationId": "delete_graph_endpoint_graphs__graph_id__delete",
        "parameters": [
          {
            "in": "path",
            "name": "graph_id",
            "required": true,
            "schema": {
              "title": "Graph Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Delete Graph Endpoint",
        "tags": [
          "graphs"
        ]
      },
      "patch": {
        "operationId": "rename_graph_endpoint_graphs__graph_id__patch",
        "parameters": [
          {
            "in": "path",
            "name": "graph_id",
            "required": true,
            "schema": {
              "title": "Graph Id",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GraphRenameRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GraphSelectResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Rename Graph Endpoint",
        "tags": [
          "graphs"
        ]
      }
    },
    "/graphs/{graph_id}/concepts": {
      "get": {
        "description": "List concepts in a graph with filtering, sorting, and pagination.\n\nReturns a paginated list of concepts with optional filters and sorting.",
        "operationId": "list_graph_concepts_endpoint_graphs__graph_id__concepts_get",
        "parameters": [
          {
            "in": "path",
            "name": "graph_id",
            "required": true,
            "schema": {
              "title": "Graph Id",
              "type": "string"
            }
          },
          {
            "description": "Search query for concept name",
            "in": "query",
            "name": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Search query for concept name",
              "title": "Query"
            }
          },
          {
            "description": "Filter by domain",
            "in": "query",
            "name": "domain",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by domain",
              "title": "Domain"
            }
          },
          {
            "description": "Filter by type",
            "in": "query",
            "name": "type",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by type",
              "title": "Type"
            }
          },
          {
            "description": "Sort order: 'alphabetical', 'degree', 'recent'",
            "in": "query",
            "name": "sort",
            "required": false,
            "schema": {
              "default": "alphabetical",
              "description": "Sort order: 'alphabetical', 'degree', 'recent'",
              "title": "Sort",
              "type": "string"
            }
          },
          {
            "description": "Maximum number of concepts to return",
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 50,
              "description": "Maximum number of concepts to return",
              "maximum": 200,
              "minimum": 1,
              "title": "Limit",
              "type": "integer"
            }
          },
          {
            "description": "Offset for pagination",
            "in": "query",
            "name": "offset",
            "required": false,
            "schema": {
              "default": 0,
              "description": "Offset for pagination",
              "minimum": 0,
              "title": "Offset",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "List Graph Concepts Endpoint",
        "tags": [
          "graphs"
        ]
      }
    },
    "/graphs/{graph_id}/neighbors": {
      "get": {
        "description": "Get neighbors of a concept within a specific graph.\n\nReturns the center node and its neighbors with relationships.\nCached for 1 minute to improve performance.",
        "operationId": "get_graph_neighbors_endpoint_graphs__graph_id__neighbors_get",
        "parameters": [
          {
            "in": "path",
            "name": "graph_id",
            "required": true,
            "schema": {
              "title": "Graph Id",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "concept_id",
            "required": true,
            "schema": {
              "title": "Concept Id",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "hops",
            "required": false,
            "schema": {
              "default": 1,
              "title": "Hops",
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 80,
              "title": "Limit",
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "include_proposed",
            "required": false,
            "schema": {
              "default": "auto",
              "title": "Include Proposed",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Get Graph Neighbors Endpoint",
        "tags": [
          "graphs"
        ]
      }
    },
    "/graphs/{graph_id}/overview": {
      "get": {
        "description": "Get a lightweight overview of the graph with top nodes by degree.\n\nReturns a sampled subset of the graph for fast initial loading.\nCached for 2 minutes to improve performance.",
        "operationId": "get_graph_overview_endpoint_graphs__graph_id__overview_get",
        "parameters": [
          {
            "in": "path",
            "name": "graph_id",
            "required": true,
            "schema": {
              "title": "Graph Id",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "limit_nodes",
            "required": false,
            "schema": {
              "default": 300,
              "title": "Limit Nodes",
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "limit_edges",
            "required": false,
            "schema": {
              "default": 600,
              "title": "Limit Edges",
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "include_proposed",
            "required": false,
            "schema": {
              "default": "auto",
              "title": "Include Proposed",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Graph Overview Endpoint",
        "tags": [
          "graphs"
        ]
      }
    },
    "/graphs/{graph_id}/select": {
      "post": {
        "operationId": "select_graph_endpoint_graphs__graph_id__select_post",
        "parameters": [
          {
            "in": "path",
            "name": "graph_id",
            "required": true,
            "schema": {
              "title": "Graph Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GraphSelectResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Select Graph Endpoint",
        "tags": [
          "graphs"
        ]
      }
    },
    "/health/": {
      "get": {
        "description": "Basic health check endpoint.",
        "operationId": "health_check_health__get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Health Check",
        "tags": [
          "health"
        ]
      }
    },
    "/health/cache": {
      "get": {
        "description": "Get statistics for the multi-level cache.",
        "operationId": "cache_stats_health_cache_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Cache Stats",
        "tags": [
          "health"
        ]
      }
    },
    "/health/detailed": {
      "get": {
        "description": "Detailed health check including database statistics.",
        "operationId": "detailed_health_check_health_detailed_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Detailed Health Check",
        "tags": [
          "health"
        ]
      }
    },
    "/health/neo4j": {
      "get": {
        "description": "Check Neo4j database connectivity and health.",
        "operationId": "neo4j_health_check_health_neo4j_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Neo4J Health Check",
        "tags": [
          "health"
        ]
      }
    },
    "/ingestion/runs": {
      "get": {
        "description": "List ingestion runs for the current graph, ordered by started_at DESC.\n\nReturns:\n    List of IngestionRun objects",
        "operationId": "list_runs_ingestion_runs_get",
        "parameters": [
          {
            "description": "Maximum number of runs to return",
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 20,
              "description": "Maximum number of runs to return",
              "maximum": 100,
              "minimum": 1,
              "title": "Limit",
              "type": "integer"
            }
          },
          {
            "description": "Offset for pagination",
            "in": "query",
            "name": "offset",
            "required": false,
            "schema": {
              "default": 0,
              "description": "Offset for pagination",
              "minimum": 0,
              "title": "Offset",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/IngestionRun"
                  },
                  "title": "Response List Runs Ingestion Runs Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "List Runs",
        "tags": [
          "ingestion"
        ]
      }
    },
    "/ingestion/runs/{run_id}": {
      "get": {
        "description": "Get a specific ingestion run by ID.\n\nArgs:\n    run_id: Ingestion run ID\n\nReturns:\n    IngestionRun object",
        "operationId": "get_run_ingestion_runs__run_id__get",
        "parameters": [
          {
            "in": "path",
            "name": "run_id",
            "required": true,
            "schema": {
              "title": "Run Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IngestionRun"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Run",
        "tags": [
          "ingestion"
        ]
      }
    },
    "/ingestion/runs/{run_id}/changes": {
      "get": {
        "description": "Get a change manifest for an ingestion run.\n\nReturns concepts created/updated, resources created, and relationships proposed by this run.\n\nArgs:\n    run_id: Ingestion run ID\n\nReturns:\n    Dict with run info and lists of changes",
        "operationId": "get_run_changes_ingestion_runs__run_id__changes_get",
        "parameters": [
          {
            "in": "path",
            "name": "run_id",
            "required": true,
            "schema": {
              "title": "Run Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Run Changes",
        "tags": [
          "ingestion"
        ]
      }
    },
    "/ingestion/runs/{run_id}/restore": {
      "post": {
        "description": "Restore archived items from an ingestion run.\n\nArgs:\n    run_id: Ingestion run ID\n\nReturns:\n    Dict with restored counts and skipped items",
        "operationId": "restore_run_ingestion_runs__run_id__restore_post",
        "parameters": [
          {
            "in": "path",
            "name": "run_id",
            "required": true,
            "schema": {
              "title": "Run Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Restore Run",
        "tags": [
          "ingestion"
        ]
      }
    },
    "/ingestion/runs/{run_id}/undo": {
      "post": {
        "description": "Undo an ingestion run by archiving its outputs.\n\nArgs:\n    run_id: Ingestion run ID\n    request: UndoRequest with mode (\"SAFE\" | \"RELATIONSHIPS_ONLY\")\n\nReturns:\n    Dict with archived counts and skipped items",
        "operationId": "undo_run_ingestion_runs__run_id__undo_post",
        "parameters": [
          {
            "in": "path",
            "name": "run_id",
            "required": true,
            "schema": {
              "title": "Run Id",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UndoRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Undo Run",
        "tags": [
          "ingestion"
        ]
      }
    },
    "/lecture-links": {
      "get": {
        "operationId": "list_lecture_links_endpoint_lecture_links_get",
        "parameters": [
          {
            "in": "query",
            "name": "chat_id",
            "required": true,
            "schema": {
              "title": "Chat Id",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "source_type",
            "required": true,
            "schema": {
              "title": "Source Type",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "source_id",
            "required": true,
            "schema": {
              "title": "Source Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/LectureLink"
                  },
                  "title": "Response List Lecture Links Endpoint Lecture Links Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "List Lecture Links Endpoint",
        "tags": [
          "lecture-links"
        ]
      }
    },
    "/lecture-links/resolve": {
      "post": {
        "operationId": "resolve_lecture_links_endpoint_lecture_links_resolve_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LectureLinkResolveRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LectureLinkResolveResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Resolve Lecture Links Endpoint",
        "tags": [
          "lecture-links"
        ]
      }
    },
    "/lecture-links/{link_id}/feedback": {
      "post": {
        "operationId": "lecture_link_feedback_endpoint_lecture_links__link_id__feedback_post",
        "parameters": [
          {
            "in": "path",
            "name": "link_id",
            "required": true,
            "schema": {
              "title": "Link Id",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LectureLinkFeedbackRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Lecture Link Feedback Endpoint",
        "tags": [
          "lecture-links"
        ]
      }
    },
    "/lectures/": {
      "get": {
        "description": "List all lectures in the active graph + branch.",
        "operationId": "list_lectures_endpoint_lectures__get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/Lecture"
                  },
                  "title": "Response List Lectures Endpoint Lectures  Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "List Lectures Endpoint",
        "tags": [
          "lectures"
        ]
      },
      "post": {
        "operationId": "create_lecture_endpoint_lectures__post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LectureCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Lecture"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Create Lecture Endpoint",
        "tags": [
          "lectures"
        ]
      }
    },
    "/lectures/draft-next": {
      "post": {
        "description": "Draft a follow-up lecture outline based on seed concepts and teaching style.\n\nRequest body:\n{\n    \"seed_concepts\": [\"Concept Name 1\", \"Concept Name 2\"],\n    \"source_lecture_id\": \"LECTURE_ABC123\" (optional),\n    \"target_level\": \"intro\" | \"intermediate\" | \"advanced\"\n}\n\nResponse:\n{\n    \"outline\": [\"1. Section title\", ...],\n    \"sections\": [{\"title\": \"...\", \"summary\": \"...\"}, ...],\n    \"suggested_analogies\": [{\"label\": \"...\", \"description\": \"...\", \"target_concepts\": [...]}, ...]\n}",
        "operationId": "draft_next_lecture_endpoint_lectures_draft_next_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "additionalProperties": true,
                "title": "Payload",
                "type": "object"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Draft Next Lecture Endpoint",
        "tags": [
          "lectures"
        ]
      }
    },
    "/lectures/freeform-capture": {
      "post": {
        "description": "Analyze a freeform canvas and produce a structured knowledge graph capture.\nStrokes are analyzed geometrically; enclosed shapes -> concept nodes,\narrows -> directed links, text -> notes. A Markdown transcript is produced.",
        "operationId": "freeform_canvas_capture_lectures_freeform_capture_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FreeformCanvasCaptureRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FreeformCanvasCaptureResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Freeform Canvas Capture",
        "tags": [
          "lectures"
        ]
      }
    },
    "/lectures/ingest": {
      "post": {
        "description": "Ingest a lecture by extracting concepts and relationships using LLM.\n\nThis endpoint:\n1. SAVES the lecture immediately (prioritizing data persistence)\n2. Processes AI extraction in background (non-blocking)\n3. Returns the lecture with AI processing status\n\nThe lecture is always saved, even if AI processing fails.\nAI processing extracts:\n- Concepts with name, description, domain, type, examples, tags\n- Relationships with source, target, predicate, explanation, confidence\n\nNodes are matched by name (case-insensitive) and optionally domain.\nIf a node exists, its description and tags are updated if the new ones are more detailed.",
        "operationId": "ingest_lecture_endpoint_lectures_ingest_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LectureIngestRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LectureIngestResult"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Ingest Lecture Endpoint",
        "tags": [
          "lectures"
        ]
      }
    },
    "/lectures/ingest-ink": {
      "post": {
        "description": "Ingest handwritten notes or sketches from a canvas image.\nUses GPT-4o Vision for transcription and graph extraction.",
        "operationId": "ingest_ink_endpoint_lectures_ingest_ink_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/HandwritingIngestRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LectureIngestResult"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Ingest Ink Endpoint",
        "tags": [
          "lectures"
        ]
      }
    },
    "/lectures/segments/by-concept/{concept_name}": {
      "get": {
        "description": "Find all segments that cover a specific concept.\nThis answers: \"How have I explained [concept] before?\"",
        "operationId": "get_segments_by_concept_lectures_segments_by_concept__concept_name__get",
        "parameters": [
          {
            "in": "path",
            "name": "concept_name",
            "required": true,
            "schema": {
              "title": "Concept Name",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/LectureSegment"
                  },
                  "title": "Response Get Segments By Concept Lectures Segments By Concept  Concept Name  Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Segments By Concept",
        "tags": [
          "lectures"
        ]
      }
    },
    "/lectures/segments/{segment_id}": {
      "put": {
        "description": "Update a lecture segment's text and/or other fields.\nThis endpoint is used by the segment reader for saving edited text.",
        "operationId": "update_segment_endpoint_lectures_segments__segment_id__put",
        "parameters": [
          {
            "in": "path",
            "name": "segment_id",
            "required": true,
            "schema": {
              "title": "Segment Id",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LectureSegmentUpdate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LectureSegment"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Update Segment Endpoint",
        "tags": [
          "lectures"
        ]
      }
    },
    "/lectures/{lecture_id}": {
      "get": {
        "operationId": "read_lecture_lectures__lecture_id__get",
        "parameters": [
          {
            "in": "path",
            "name": "lecture_id",
            "required": true,
            "schema": {
              "title": "Lecture Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Lecture"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Read Lecture",
        "tags": [
          "lectures"
        ]
      },
      "put": {
        "description": "Update a lecture's title, raw_text, metadata_json, and/or annotations.\nThis endpoint is used by the editor for auto-save and manual updates.",
        "operationId": "update_lecture_endpoint_lectures__lecture_id__put",
        "parameters": [
          {
            "in": "path",
            "name": "lecture_id",
            "required": true,
            "schema": {
              "title": "Lecture Id",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LectureUpdate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Lecture"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Update Lecture Endpoint",
        "tags": [
          "lectures"
        ]
      }
    },
    "/lectures/{lecture_id}/blocks": {
      "get": {
        "description": "List lecture blocks by lecture ID.",
        "operationId": "list_blocks_endpoint_lectures__lecture_id__blocks_get",
        "parameters": [
          {
            "in": "path",
            "name": "lecture_id",
            "required": true,
            "schema": {
              "title": "Lecture Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/LectureBlock"
                  },
                  "title": "Response List Blocks Endpoint Lectures  Lecture Id  Blocks Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "List Blocks Endpoint",
        "tags": [
          "lectures"
        ]
      },
      "post": {
        "description": "Upsert lecture blocks with stable block IDs.",
        "operationId": "upsert_blocks_endpoint_lectures__lecture_id__blocks_post",
        "parameters": [
          {
            "in": "path",
            "name": "lecture_id",
            "required": true,
            "schema": {
              "title": "Lecture Id",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LectureBlocksUpsertRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/LectureBlock"
                  },
                  "title": "Response Upsert Blocks Endpoint Lectures  Lecture Id  Blocks Post",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Upsert Blocks Endpoint",
        "tags": [
          "lectures"
        ]
      }
    },
    "/lectures/{lecture_id}/mentions": {
      "get": {
        "description": "List linked mentions for a lecture.",
        "operationId": "list_mentions_endpoint_lectures__lecture_id__mentions_get",
        "parameters": [
          {
            "in": "path",
            "name": "lecture_id",
            "required": true,
            "schema": {
              "title": "Lecture Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/LectureMention"
                  },
                  "title": "Response List Mentions Endpoint Lectures  Lecture Id  Mentions Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "List Mentions Endpoint",
        "tags": [
          "lectures"
        ]
      }
    },
    "/lectures/{lecture_id}/pages": {
      "get": {
        "description": "Get all notebook pages for a lecture.",
        "operationId": "read_notebook_pages_endpoint_lectures__lecture_id__pages_get",
        "parameters": [
          {
            "in": "path",
            "name": "lecture_id",
            "required": true,
            "schema": {
              "title": "Lecture Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/NotebookPage"
                  },
                  "title": "Response Read Notebook Pages Endpoint Lectures  Lecture Id  Pages Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Read Notebook Pages Endpoint",
        "tags": [
          "lectures"
        ]
      },
      "post": {
        "description": "Create or update a notebook page.",
        "operationId": "update_notebook_page_endpoint_lectures__lecture_id__pages_post",
        "parameters": [
          {
            "in": "path",
            "name": "lecture_id",
            "required": true,
            "schema": {
              "title": "Lecture Id",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NotebookPage"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotebookPage"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Update Notebook Page Endpoint",
        "tags": [
          "lectures"
        ]
      }
    },
    "/lectures/{lecture_id}/sections/{section_id}": {
      "get": {
        "operationId": "get_lecture_section_endpoint_lectures__lecture_id__sections__section_id__get",
        "parameters": [
          {
            "in": "path",
            "name": "lecture_id",
            "required": true,
            "schema": {
              "title": "Lecture Id",
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "section_id",
            "required": true,
            "schema": {
              "title": "Section Id",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "link_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Link Id"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LectureSectionResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Get Lecture Section Endpoint",
        "tags": [
          "lectures"
        ]
      }
    },
    "/lectures/{lecture_id}/segments": {
      "get": {
        "description": "Get all segments for a lecture, including their covered concepts and analogies.",
        "operationId": "get_lecture_segments_endpoint_lectures__lecture_id__segments_get",
        "parameters": [
          {
            "in": "path",
            "name": "lecture_id",
            "required": true,
            "schema": {
              "title": "Lecture Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/LectureSegment"
                  },
                  "title": "Response Get Lecture Segments Endpoint Lectures  Lecture Id  Segments Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Lecture Segments Endpoint",
        "tags": [
          "lectures"
        ]
      }
    },
    "/lectures/{lecture_id}/steps": {
      "get": {
        "operationId": "read_lecture_steps_lectures__lecture_id__steps_get",
        "parameters": [
          {
            "in": "path",
            "name": "lecture_id",
            "required": true,
            "schema": {
              "title": "Lecture Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/LectureStep"
                  },
                  "title": "Response Read Lecture Steps Lectures  Lecture Id  Steps Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Read Lecture Steps",
        "tags": [
          "lectures"
        ]
      },
      "post": {
        "operationId": "add_lecture_step_endpoint_lectures__lecture_id__steps_post",
        "parameters": [
          {
            "in": "path",
            "name": "lecture_id",
            "required": true,
            "schema": {
              "title": "Lecture Id",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LectureStepCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LectureStep"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Add Lecture Step Endpoint",
        "tags": [
          "lectures"
        ]
      }
    },
    "/mentions/": {
      "post": {
        "operationId": "create_mention_endpoint_mentions__post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LectureMentionCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LectureMention"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Create Mention Endpoint",
        "tags": [
          "mentions"
        ]
      }
    },
    "/mentions/{mention_id}": {
      "delete": {
        "operationId": "delete_mention_endpoint_mentions__mention_id__delete",
        "parameters": [
          {
            "in": "path",
            "name": "mention_id",
            "required": true,
            "schema": {
              "title": "Mention Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Delete Mention Endpoint",
        "tags": [
          "mentions"
        ]
      },
      "patch": {
        "operationId": "update_mention_endpoint_mentions__mention_id__patch",
        "parameters": [
          {
            "in": "path",
            "name": "mention_id",
            "required": true,
            "schema": {
              "title": "Mention Id",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LectureMentionUpdate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LectureMention"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Update Mention Endpoint",
        "tags": [
          "mentions"
        ]
      }
    },
    "/note-images/ingest": {
      "post": {
        "operationId": "ingest_note_image_endpoint_note_images_ingest_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NoteImageIngestRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NoteImageIngestResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Ingest Note Image Endpoint",
        "tags": [
          "note-images"
        ]
      }
    },
    "/notion/ingest-all": {
      "post": {
        "description": "Ingest everything of a given type. Start with pages-only.\n\nArgs:\n    payload: Request with mode and optional domain\n    session: Neo4j session\n\nReturns:\n    List of LectureIngestResult for each successfully ingested item",
        "operationId": "notion_ingest_all_notion_ingest_all_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NotionIngestAllRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/LectureIngestResult"
                  },
                  "title": "Response Notion Ingest All Notion Ingest All Post",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Notion Ingest All",
        "tags": [
          "notion"
        ]
      }
    },
    "/notion/ingest-all-parallel": {
      "post": {
        "description": "Ingest all Notion pages with parallel processing and progress updates.\n\nUses Server-Sent Events (SSE) to stream progress updates to the client.\nProcesses pages in parallel with configurable concurrency.\n\nArgs:\n    payload: Request with mode, domain, and parallel processing options\n    session_factory: Neo4j session factory (dependency)\n\nReturns:\n    StreamingResponse with SSE events containing progress updates",
        "operationId": "notion_ingest_all_parallel_notion_ingest_all_parallel_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NotionIngestAllParallelRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Notion Ingest All Parallel",
        "tags": [
          "notion"
        ]
      }
    },
    "/notion/ingest-pages": {
      "post": {
        "description": "Bulk-ingest specific pages into the graph.\n\nArgs:\n    payload: Request with page_ids list and optional domain\n    session: Neo4j session\n\nReturns:\n    List of LectureIngestResult for each successfully ingested page",
        "operationId": "notion_ingest_pages_notion_ingest_pages_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NotionIngestPagesRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/LectureIngestResult"
                  },
                  "title": "Response Notion Ingest Pages Notion Ingest Pages Post",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Notion Ingest Pages",
        "tags": [
          "notion"
        ]
      }
    },
    "/notion/summary": {
      "get": {
        "description": "Return a summary of what we find in Notion:\n- pages: [{id, title, url}]\n- databases: [{id, title, url}]",
        "operationId": "notion_summary_notion_summary_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Notion Summary",
        "tags": [
          "notion"
        ]
      }
    },
    "/offline/bootstrap": {
      "get": {
        "description": "Minimal offline bootstrap payload for a graph+branch.\n\nIncludes:\n- recent_artifacts: Artifact nodes (text + metadata_json)\n- pinned_concepts: Concepts that are on this branch (most recently updated)\n- recent_trails: Trails on this branch (if you have Trail model)",
        "operationId": "offline_bootstrap_offline_bootstrap_get",
        "parameters": [
          {
            "in": "query",
            "name": "graph_id",
            "required": true,
            "schema": {
              "title": "Graph Id",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "branch_id",
            "required": true,
            "schema": {
              "title": "Branch Id",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "limit_artifacts",
            "required": false,
            "schema": {
              "default": 25,
              "title": "Limit Artifacts",
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "limit_concepts",
            "required": false,
            "schema": {
              "default": 25,
              "title": "Limit Concepts",
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "limit_trails",
            "required": false,
            "schema": {
              "default": 25,
              "title": "Limit Trails",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OfflineBootstrapResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Offline Bootstrap",
        "tags": [
          "offline"
        ]
      }
    },
    "/offline/manifest": {
      "get": {
        "description": "Cheap cache invalidation signal.\nIf this changes, client should re-bootstrap.",
        "operationId": "offline_manifest_offline_manifest_get",
        "parameters": [
          {
            "in": "query",
            "name": "graph_id",
            "required": true,
            "schema": {
              "title": "Graph Id",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "branch_id",
            "required": true,
            "schema": {
              "title": "Branch Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OfflineManifestResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Offline Manifest",
        "tags": [
          "offline"
        ]
      }
    },
    "/offline/warm": {
      "post": {
        "description": "Targeted bundle warm-up.\n\nProvide ONE:\n- trail_id: warms artifacts referenced by TrailStep.page_url\n- artifact_ids: warms these artifacts\n- urls: warms artifacts by url",
        "operationId": "offline_warm_offline_warm_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OfflineWarmRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OfflineWarmResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Offline Warm",
        "tags": [
          "offline"
        ]
      }
    },
    "/paths/suggested": {
      "get": {
        "description": "Get suggested exploration paths with quality scoring.\n\nIf concept_id is provided, returns paths scoped to that concept:\n- Prerequisites path (prereqs \u2192 concept)\n- Dependents path (concept \u2192 dependents)\n- Related cluster path (concept \u2192 related neighbors)\n\nIf no concept_id, returns generic starter paths from top hubs across domains.\n\nPaths are scored and ranked based on:\n- Coverage quality (prerequisites + dependents)\n- Evidence coverage (resources)\n- Diversity (avoid near-duplicates)\n- Length (prefer 4-5 steps)\n- Lens-aware tweaks (LEARNING: boost prereqs)",
        "operationId": "get_suggested_paths_paths_suggested_get",
        "parameters": [
          {
            "description": "Graph ID",
            "in": "query",
            "name": "graph_id",
            "required": true,
            "schema": {
              "description": "Graph ID",
              "title": "Graph Id",
              "type": "string"
            }
          },
          {
            "description": "Optional concept ID to scope paths",
            "in": "query",
            "name": "concept_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Optional concept ID to scope paths",
              "title": "Concept Id"
            }
          },
          {
            "description": "Maximum number of paths to return",
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 10,
              "description": "Maximum number of paths to return",
              "maximum": 20,
              "minimum": 1,
              "title": "Limit",
              "type": "integer"
            }
          },
          {
            "description": "Lens for path prioritization",
            "in": "query",
            "name": "lens",
            "required": false,
            "schema": {
              "default": "NONE",
              "description": "Lens for path prioritization",
              "enum": [
                "NONE",
                "LEARNING"
              ],
              "title": "Lens",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "additionalProperties": true,
                    "type": "object"
                  },
                  "title": "Response Get Suggested Paths Paths Suggested Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Suggested Paths",
        "tags": [
          "paths"
        ]
      }
    },
    "/pdf/ingest": {
      "post": {
        "description": "Ingest a PDF file into the knowledge graph.\n\nThis endpoint:\n1. Extracts text and metadata from the PDF\n2. Uses LLM to extract concepts, relationships, and entities (names, dates, locations)\n3. Creates chunks and claims for evidence-based retrieval\n4. Links everything together in the graph\n5. Enables chat with the PDF content via the graph\n\nThe PDF content becomes searchable and queryable through the chat interface.\n\nArgs:\n    file: PDF file to ingest\n    domain: Optional domain/category\n    use_ocr: Enable OCR for scanned PDFs\n    extract_tables: Extract tables as structured text\n    extract_concepts: Extract concepts and relationships (default: True)\n    extract_claims: Extract claims and evidence (default: True)\n\nReturns:\n    PDFIngestResponse with ingestion results and statistics",
        "operationId": "ingest_pdf_pdf_ingest_post",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_ingest_pdf_pdf_ingest_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PDFIngestResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Ingest Pdf",
        "tags": [
          "pdf"
        ]
      }
    },
    "/pdf/ingest-stream": {
      "post": {
        "description": "Stream PDF ingestion with real-time progress updates.\n\nUses Server-Sent Events (SSE) to stream progress updates including:\n- Page-by-page extraction progress\n- Concepts as they're extracted\n- Final results\n\nProduction improvements:\n- File size validation\n- Rate limiting\n- Client disconnect handling\n- Better error handling\n- Resource cleanup",
        "operationId": "ingest_pdf_stream_pdf_ingest_stream_post",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_ingest_pdf_stream_pdf_ingest_stream_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Ingest Pdf Stream",
        "tags": [
          "pdf"
        ]
      }
    },
    "/preferences/conversation-summaries": {
      "get": {
        "description": "Get recent conversation summaries for context.",
        "operationId": "get_summaries_preferences_conversation_summaries_get",
        "parameters": [
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 10,
              "title": "Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/ConversationSummary"
                  },
                  "title": "Response Get Summaries Preferences Conversation Summaries Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Summaries",
        "tags": [
          "preferences"
        ]
      },
      "post": {
        "description": "Store a conversation summary for long-term memory.",
        "operationId": "store_summary_preferences_conversation_summaries_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConversationSummary"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConversationSummary"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Store Summary",
        "tags": [
          "preferences"
        ]
      }
    },
    "/preferences/focus-areas": {
      "get": {
        "description": "Get all focus areas.\nFocus areas represent current learning themes that bias answers.",
        "operationId": "list_focus_areas_preferences_focus_areas_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/FocusArea"
                  },
                  "title": "Response List Focus Areas Preferences Focus Areas Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "List Focus Areas",
        "tags": [
          "preferences"
        ]
      },
      "post": {
        "description": "Create or update a focus area.",
        "operationId": "create_or_update_focus_area_preferences_focus_areas_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FocusArea"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FocusArea"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Create Or Update Focus Area",
        "tags": [
          "preferences"
        ]
      }
    },
    "/preferences/focus-areas/{focus_id}/active": {
      "post": {
        "description": "Toggle the active status of a focus area.\nOnly active focus areas bias answers.",
        "operationId": "toggle_focus_area_preferences_focus_areas__focus_id__active_post",
        "parameters": [
          {
            "in": "path",
            "name": "focus_id",
            "required": true,
            "schema": {
              "title": "Focus Id",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "active",
            "required": true,
            "schema": {
              "title": "Active",
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FocusArea"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Toggle Focus Area",
        "tags": [
          "preferences"
        ]
      }
    },
    "/preferences/learning-topics": {
      "get": {
        "description": "Get active learning topics (recently mentioned).",
        "operationId": "get_topics_preferences_learning_topics_get",
        "parameters": [
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 20,
              "title": "Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/LearningTopic"
                  },
                  "title": "Response Get Topics Preferences Learning Topics Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Topics",
        "tags": [
          "preferences"
        ]
      },
      "post": {
        "description": "Create or update a learning topic.",
        "operationId": "upsert_topic_preferences_learning_topics_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LearningTopic"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LearningTopic"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Upsert Topic",
        "tags": [
          "preferences"
        ]
      }
    },
    "/preferences/response-style": {
      "get": {
        "description": "Get the current response style profile.\nThis profile shapes how Brain Web answers questions.",
        "operationId": "get_response_style_preferences_response_style_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseStyleProfileWrapper"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Get Response Style",
        "tags": [
          "preferences"
        ]
      },
      "post": {
        "description": "Update the response style profile.",
        "operationId": "set_response_style_preferences_response_style_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ResponseStyleProfileWrapper"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseStyleProfileWrapper"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Set Response Style",
        "tags": [
          "preferences"
        ]
      }
    },
    "/preferences/tutor-profile": {
      "get": {
        "description": "Get the per-user TutorProfile (Phase F).\nStored under UserProfile.learning_preferences[\"tutor_profile\"].",
        "operationId": "get_tutor_profile_preferences_tutor_profile_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TutorProfile"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Get Tutor Profile",
        "tags": [
          "preferences"
        ]
      },
      "patch": {
        "description": "Patch the per-user TutorProfile (partial update).",
        "operationId": "patch_tutor_profile_preferences_tutor_profile_patch",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TutorProfilePatch"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TutorProfile"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Patch Tutor Profile",
        "tags": [
          "preferences"
        ]
      },
      "post": {
        "description": "Set the per-user TutorProfile (overwrite).",
        "operationId": "set_tutor_profile_preferences_tutor_profile_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TutorProfile"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TutorProfile"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Set Tutor Profile",
        "tags": [
          "preferences"
        ]
      }
    },
    "/preferences/ui": {
      "get": {
        "description": "Get UI preferences (lens system, etc.).",
        "operationId": "get_ui_prefs_preferences_ui_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UIPreferences"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Get Ui Prefs",
        "tags": [
          "preferences"
        ]
      },
      "post": {
        "description": "Update UI preferences (lens system, etc.).",
        "operationId": "set_ui_prefs_preferences_ui_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UIPreferences"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UIPreferences"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Set Ui Prefs",
        "tags": [
          "preferences"
        ]
      }
    },
    "/preferences/user-profile": {
      "get": {
        "description": "Get the user profile.\nThe profile encodes background, interests, weak spots, and learning preferences.",
        "operationId": "get_profile_preferences_user_profile_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserProfile"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Get Profile",
        "tags": [
          "preferences"
        ]
      },
      "patch": {
        "description": "Partial update of the user profile.",
        "operationId": "patch_profile_preferences_user_profile_patch",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "additionalProperties": true,
                "title": "Update Dict",
                "type": "object"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserProfile"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Patch Profile",
        "tags": [
          "preferences"
        ]
      },
      "post": {
        "description": "Update the user profile.",
        "operationId": "set_profile_preferences_user_profile_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserProfile"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserProfile"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Set Profile",
        "tags": [
          "preferences"
        ]
      }
    },
    "/quality/concepts/{concept_id}": {
      "get": {
        "description": "Get quality metrics for a concept.\n\nReturns:\n    {\n        \"concept_id\": str,\n        \"coverage_score\": int (0-100),\n        \"coverage_breakdown\": {\n            \"has_description\": bool,\n            \"evidence_count\": int,\n            \"degree\": int,\n            \"reviewed_ratio\": Optional[float]\n        },\n        \"freshness\": {\n            \"level\": \"Fresh\" | \"Aging\" | \"Stale\" | \"No evidence\",\n            \"newest_evidence_at\": Optional[str]\n        }\n    }",
        "operationId": "get_concept_quality_quality_concepts__concept_id__get",
        "parameters": [
          {
            "in": "path",
            "name": "concept_id",
            "required": true,
            "schema": {
              "title": "Concept Id",
              "type": "string"
            }
          },
          {
            "description": "Graph ID (optional, uses active if not provided)",
            "in": "query",
            "name": "graph_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Graph ID (optional, uses active if not provided)",
              "title": "Graph Id"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Concept Quality",
        "tags": [
          "quality"
        ]
      }
    },
    "/quality/graphs/{graph_id}": {
      "get": {
        "description": "Get quality metrics for a graph.\n\nReturns:\n    {\n        \"graph_id\": str,\n        \"health\": \"HEALTHY\" | \"NEEDS_ATTENTION\" | \"POOR\",\n        \"stats\": {\n            \"concepts_total\": int,\n            \"missing_description_pct\": float,\n            \"no_evidence_pct\": float,\n            \"stale_evidence_pct\": float,\n            \"proposed_relationships_count\": int\n        }\n    }",
        "operationId": "get_graph_quality_quality_graphs__graph_id__get",
        "parameters": [
          {
            "in": "path",
            "name": "graph_id",
            "required": true,
            "schema": {
              "title": "Graph Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Graph Quality",
        "tags": [
          "quality"
        ]
      }
    },
    "/quality/narrative-metrics": {
      "post": {
        "description": "Get narrative metrics (recency, mention frequency, centrality) for a list of concepts.\n\nRequest body: { \"concept_ids\": [\"N001\", \"N002\", ...] }\n\nReturns:\n    {\n        \"concept_id\": {\n            \"recencyWeight\": float (0-1),\n            \"mentionFrequency\": float (0-1),\n            \"centralityDelta\": float (0-1)\n        },\n        ...\n    }",
        "operationId": "get_narrative_metrics_quality_narrative_metrics_post",
        "parameters": [
          {
            "description": "Graph ID (optional, uses active if not provided)",
            "in": "query",
            "name": "graph_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Graph ID (optional, uses active if not provided)",
              "title": "Graph Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NarrativeMetricsRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Narrative Metrics",
        "tags": [
          "quality"
        ]
      }
    },
    "/quotes/attach": {
      "post": {
        "description": "Attach a Quote to a Concept, creating (Concept)-[:HAS_QUOTE]->(Quote) relationship.\n\nArgs:\n    payload: QuoteAttachRequest with quote_id and either concept_id or concept_name\n    session: Neo4j session\n\nReturns:\n    QuoteAttachResponse with success status and concept details",
        "operationId": "attach_quote_to_concept_quotes_attach_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/QuoteAttachRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/QuoteAttachResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Attach Quote To Concept",
        "tags": [
          "quotes"
        ]
      }
    },
    "/quotes/by_source": {
      "get": {
        "description": "Get all quotes from a source document by URL.\n\nReturns quotes with their anchors, text, attached concepts, and claim counts.",
        "operationId": "get_quotes_by_source_quotes_by_source_get",
        "parameters": [
          {
            "in": "query",
            "name": "url",
            "required": true,
            "schema": {
              "title": "Url",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "graph_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Graph Id"
            }
          },
          {
            "in": "query",
            "name": "branch_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Branch Id"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/QuoteBySourceResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Quotes By Source",
        "tags": [
          "quotes"
        ]
      }
    },
    "/quotes/detach": {
      "post": {
        "description": "Detach a Quote from a Concept, removing (Concept)-[:HAS_QUOTE]->(Quote) relationship.\n\nArgs:\n    payload: QuoteDetachRequest with quote_id and concept_id\n    session: Neo4j session\n\nReturns:\n    QuoteDetachResponse with success status",
        "operationId": "detach_quote_from_concept_quotes_detach_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/QuoteDetachRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/QuoteDetachResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Detach Quote From Concept",
        "tags": [
          "quotes"
        ]
      }
    },
    "/refresh/concepts/{concept_id}": {
      "get": {
        "operationId": "get_concept_refresh_binding_endpoint_refresh_concepts__concept_id__get",
        "parameters": [
          {
            "in": "path",
            "name": "concept_id",
            "required": true,
            "schema": {
              "title": "Concept Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Get Concept Refresh Binding Endpoint",
        "tags": [
          "refresh"
        ]
      },
      "put": {
        "operationId": "update_concept_refresh_binding_endpoint_refresh_concepts__concept_id__put",
        "parameters": [
          {
            "in": "path",
            "name": "concept_id",
            "required": true,
            "schema": {
              "title": "Concept Id",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateConceptRefreshBindingRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Update Concept Refresh Binding Endpoint",
        "tags": [
          "refresh"
        ]
      }
    },
    "/refresh/concepts/{concept_id}/run": {
      "post": {
        "operationId": "run_concept_refresh_endpoint_refresh_concepts__concept_id__run_post",
        "parameters": [
          {
            "in": "path",
            "name": "concept_id",
            "required": true,
            "schema": {
              "title": "Concept Id",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RunConceptRefreshRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Run Concept Refresh Endpoint",
        "tags": [
          "refresh"
        ]
      }
    },
    "/refresh/graphs/{graph_id}": {
      "get": {
        "operationId": "get_graph_refresh_defaults_endpoint_refresh_graphs__graph_id__get",
        "parameters": [
          {
            "in": "path",
            "name": "graph_id",
            "required": true,
            "schema": {
              "title": "Graph Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Get Graph Refresh Defaults Endpoint",
        "tags": [
          "refresh"
        ]
      },
      "put": {
        "operationId": "update_graph_refresh_defaults_endpoint_refresh_graphs__graph_id__put",
        "parameters": [
          {
            "in": "path",
            "name": "graph_id",
            "required": true,
            "schema": {
              "title": "Graph Id",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateGraphRefreshDefaultsRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Update Graph Refresh Defaults Endpoint",
        "tags": [
          "refresh"
        ]
      }
    },
    "/refresh/scheduler/run-due": {
      "post": {
        "operationId": "run_due_refreshes_endpoint_refresh_scheduler_run_due_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RunDueRefreshesRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Run Due Refreshes Endpoint",
        "tags": [
          "refresh"
        ]
      }
    },
    "/resources/by-concept/{concept_id}": {
      "get": {
        "operationId": "list_resources_for_concept_resources_by_concept__concept_id__get",
        "parameters": [
          {
            "in": "path",
            "name": "concept_id",
            "required": true,
            "schema": {
              "title": "Concept Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/Resource"
                  },
                  "title": "Response List Resources For Concept Resources By Concept  Concept Id  Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "List Resources For Concept",
        "tags": [
          "resources"
        ]
      }
    },
    "/resources/fetch/confusions": {
      "post": {
        "description": "Fetch confusions and pitfalls using internal web search (Exa-backed).\nReplaces the external Browser Use skill with internal search_and_fetch.",
        "operationId": "fetch_confusions_resources_fetch_confusions_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConfusionSkillRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Resource"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Fetch Confusions",
        "tags": [
          "resources"
        ]
      }
    },
    "/resources/fetch/live-metric": {
      "post": {
        "description": "Fetch a structured live metric snapshot (stocks, crypto, FX, macro) and save it as a Resource.",
        "operationId": "fetch_live_metric_resource_resources_fetch_live_metric_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LiveMetricResourceRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Resource"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Fetch Live Metric Resource",
        "tags": [
          "resources"
        ]
      }
    },
    "/resources/fetch/stock-quote": {
      "post": {
        "description": "Fetch a structured live stock quote snapshot and save it as a Resource in the graph.\nUseful for finance/company research workspaces that need current market metrics.",
        "operationId": "fetch_stock_quote_resource_resources_fetch_stock_quote_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StockQuoteResourceRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Resource"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Fetch Stock Quote Resource",
        "tags": [
          "resources"
        ]
      }
    },
    "/resources/pdf/extract": {
      "post": {
        "description": "Enhanced PDF extraction endpoint with metadata, page-level tracking, and OCR support.\n\nReturns structured extraction result with pages and metadata.",
        "operationId": "extract_pdf_enhanced_endpoint_resources_pdf_extract_post",
        "parameters": [
          {
            "description": "Enable OCR for scanned PDFs",
            "in": "query",
            "name": "use_ocr",
            "required": false,
            "schema": {
              "default": false,
              "description": "Enable OCR for scanned PDFs",
              "title": "Use Ocr",
              "type": "boolean"
            }
          },
          {
            "description": "Extract tables as structured text",
            "in": "query",
            "name": "extract_tables",
            "required": false,
            "schema": {
              "default": true,
              "description": "Extract tables as structured text",
              "title": "Extract Tables",
              "type": "boolean"
            }
          }
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_extract_pdf_enhanced_endpoint_resources_pdf_extract_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PDFExtractionResult"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Extract Pdf Enhanced Endpoint",
        "tags": [
          "resources"
        ]
      }
    },
    "/resources/search": {
      "get": {
        "description": "Search resources in the active graph + branch by title/caption/url.",
        "operationId": "search_resources_endpoint_resources_search_get",
        "parameters": [
          {
            "in": "query",
            "name": "query",
            "required": true,
            "schema": {
              "title": "Query",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 20,
              "title": "Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/Resource"
                  },
                  "title": "Response Search Resources Endpoint Resources Search Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Search Resources Endpoint",
        "tags": [
          "resources"
        ]
      }
    },
    "/resources/upload": {
      "post": {
        "operationId": "upload_resource_resources_upload_post",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_upload_resource_resources_upload_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Resource"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Upload Resource",
        "tags": [
          "resources"
        ]
      }
    },
    "/review/merges": {
      "get": {
        "description": "List merge candidates for review.\n\nReturns candidates filtered by status.\nDefault status is PROPOSED (pending review).",
        "operationId": "list_merge_candidates_endpoint_review_merges_get",
        "parameters": [
          {
            "description": "Graph ID (required)",
            "in": "query",
            "name": "graph_id",
            "required": true,
            "schema": {
              "description": "Graph ID (required)",
              "title": "Graph Id",
              "type": "string"
            }
          },
          {
            "description": "Filter by status (PROPOSED, ACCEPTED, REJECTED)",
            "in": "query",
            "name": "status",
            "required": false,
            "schema": {
              "default": "PROPOSED",
              "description": "Filter by status (PROPOSED, ACCEPTED, REJECTED)",
              "title": "Status",
              "type": "string"
            }
          },
          {
            "description": "Maximum number of candidates to return",
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 50,
              "description": "Maximum number of candidates to return",
              "maximum": 200,
              "minimum": 1,
              "title": "Limit",
              "type": "integer"
            }
          },
          {
            "description": "Offset for pagination",
            "in": "query",
            "name": "offset",
            "required": false,
            "schema": {
              "default": 0,
              "description": "Offset for pagination",
              "minimum": 0,
              "title": "Offset",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MergeCandidateListResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "List Merge Candidates Endpoint",
        "tags": [
          "review"
        ]
      }
    },
    "/review/merges/accept": {
      "post": {
        "description": "Accept one or more merge candidates.\n\nSets status to ACCEPTED and records review metadata.\nNote: This does not execute the merge. Use /merges/execute for that.",
        "operationId": "accept_merge_candidates_endpoint_review_merges_accept_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MergeCandidateAcceptRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RelationshipReviewActionResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Accept Merge Candidates Endpoint",
        "tags": [
          "review"
        ]
      }
    },
    "/review/merges/execute": {
      "post": {
        "description": "Execute a merge of two concepts.\n\nThis performs the actual merge operation:\n- Redirects all relationships from merge node to keep node\n- Combines properties (description, tags, etc.)\n- Marks merge node as merged\n- Logs the merge action\n\nNote: This is separate from accept/reject so that acceptance can be batched\nand execution can be deliberate.",
        "operationId": "execute_merge_endpoint_review_merges_execute_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MergeExecuteRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MergeExecuteResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Execute Merge Endpoint",
        "tags": [
          "review"
        ]
      }
    },
    "/review/merges/reject": {
      "post": {
        "description": "Reject one or more merge candidates.\n\nSets status to REJECTED and records review metadata.",
        "operationId": "reject_merge_candidates_endpoint_review_merges_reject_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MergeCandidateRejectRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RelationshipReviewActionResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Reject Merge Candidates Endpoint",
        "tags": [
          "review"
        ]
      }
    },
    "/review/relationships": {
      "get": {
        "description": "List relationships for review.\n\nReturns relationships between Concepts filtered by status.\nDefault status is PROPOSED (pending review).\nOptionally filter by ingestion_run_id to see relationships from a specific run.\nArchived relationships are excluded by default.",
        "operationId": "list_proposed_relationships_review_relationships_get",
        "parameters": [
          {
            "description": "Graph ID (required)",
            "in": "query",
            "name": "graph_id",
            "required": true,
            "schema": {
              "description": "Graph ID (required)",
              "title": "Graph Id",
              "type": "string"
            }
          },
          {
            "description": "Filter by status (PROPOSED, ACCEPTED, REJECTED)",
            "in": "query",
            "name": "status",
            "required": false,
            "schema": {
              "default": "PROPOSED",
              "description": "Filter by status (PROPOSED, ACCEPTED, REJECTED)",
              "title": "Status",
              "type": "string"
            }
          },
          {
            "description": "Maximum number of relationships to return",
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 50,
              "description": "Maximum number of relationships to return",
              "maximum": 200,
              "minimum": 1,
              "title": "Limit",
              "type": "integer"
            }
          },
          {
            "description": "Offset for pagination",
            "in": "query",
            "name": "offset",
            "required": false,
            "schema": {
              "default": 0,
              "description": "Offset for pagination",
              "minimum": 0,
              "title": "Offset",
              "type": "integer"
            }
          },
          {
            "description": "Filter by ingestion run ID (optional)",
            "in": "query",
            "name": "ingestion_run_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by ingestion run ID (optional)",
              "title": "Ingestion Run Id"
            }
          },
          {
            "description": "Include archived relationships (default: false)",
            "in": "query",
            "name": "include_archived",
            "required": false,
            "schema": {
              "default": false,
              "description": "Include archived relationships (default: false)",
              "title": "Include Archived",
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RelationshipReviewListResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "List Proposed Relationships",
        "tags": [
          "review"
        ]
      }
    },
    "/review/relationships/accept": {
      "post": {
        "description": "Accept one or more proposed relationships.\n\nSets status to ACCEPTED and records review metadata.",
        "operationId": "accept_relationships_endpoint_review_relationships_accept_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RelationshipAcceptRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RelationshipReviewActionResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Accept Relationships Endpoint",
        "tags": [
          "review"
        ]
      }
    },
    "/review/relationships/edit": {
      "post": {
        "description": "Edit a relationship by changing its type.\n\nMarks the old relationship as REJECTED and creates a new one with the new type.",
        "operationId": "edit_relationship_endpoint_review_relationships_edit_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RelationshipEditRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RelationshipReviewActionResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Edit Relationship Endpoint",
        "tags": [
          "review"
        ]
      }
    },
    "/review/relationships/reject": {
      "post": {
        "description": "Reject one or more proposed relationships.\n\nSets status to REJECTED and records review metadata.",
        "operationId": "reject_relationships_endpoint_review_relationships_reject_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RelationshipRejectRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RelationshipReviewActionResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Reject Relationships Endpoint",
        "tags": [
          "review"
        ]
      }
    },
    "/schedule/free-blocks": {
      "get": {
        "description": "List free time blocks for a date range.",
        "operationId": "list_free_blocks_schedule_free_blocks_get",
        "parameters": [
          {
            "description": "Start date/time (ISO format)",
            "in": "query",
            "name": "start",
            "required": true,
            "schema": {
              "description": "Start date/time (ISO format)",
              "title": "Start",
              "type": "string"
            }
          },
          {
            "description": "End date/time (ISO format)",
            "in": "query",
            "name": "end",
            "required": true,
            "schema": {
              "description": "End date/time (ISO format)",
              "title": "End",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FreeBlocksResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "List Free Blocks",
        "tags": [
          "scheduler"
        ]
      }
    },
    "/schedule/suggestions": {
      "get": {
        "description": "List existing suggestions for a date range.",
        "operationId": "list_suggestions_schedule_suggestions_get",
        "parameters": [
          {
            "description": "Start date/time (ISO format)",
            "in": "query",
            "name": "start",
            "required": true,
            "schema": {
              "description": "Start date/time (ISO format)",
              "title": "Start",
              "type": "string"
            }
          },
          {
            "description": "End date/time (ISO format)",
            "in": "query",
            "name": "end",
            "required": true,
            "schema": {
              "description": "End date/time (ISO format)",
              "title": "End",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuggestionsResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "List Suggestions",
        "tags": [
          "scheduler"
        ]
      },
      "post": {
        "description": "Generate and persist plan suggestions for a date range.",
        "operationId": "generate_suggestions_schedule_suggestions_post",
        "parameters": [
          {
            "description": "Start date/time (ISO format)",
            "in": "query",
            "name": "start",
            "required": true,
            "schema": {
              "description": "Start date/time (ISO format)",
              "title": "Start",
              "type": "string"
            }
          },
          {
            "description": "End date/time (ISO format)",
            "in": "query",
            "name": "end",
            "required": true,
            "schema": {
              "description": "End date/time (ISO format)",
              "title": "End",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuggestionsResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Generate Suggestions",
        "tags": [
          "scheduler"
        ]
      }
    },
    "/schedule/suggestions/{suggestion_id}/accept": {
      "post": {
        "description": "Accept a suggestion (change status to 'accepted').",
        "operationId": "accept_suggestion_schedule_suggestions__suggestion_id__accept_post",
        "parameters": [
          {
            "in": "path",
            "name": "suggestion_id",
            "required": true,
            "schema": {
              "title": "Suggestion Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Accept Suggestion",
        "tags": [
          "scheduler"
        ]
      }
    },
    "/schedule/suggestions/{suggestion_id}/complete": {
      "post": {
        "description": "Mark a suggestion as completed (change status to 'completed').",
        "operationId": "complete_suggestion_schedule_suggestions__suggestion_id__complete_post",
        "parameters": [
          {
            "in": "path",
            "name": "suggestion_id",
            "required": true,
            "schema": {
              "title": "Suggestion Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Complete Suggestion",
        "tags": [
          "scheduler"
        ]
      }
    },
    "/schedule/suggestions/{suggestion_id}/reject": {
      "post": {
        "description": "Reject a suggestion (change status to 'rejected').",
        "operationId": "reject_suggestion_schedule_suggestions__suggestion_id__reject_post",
        "parameters": [
          {
            "in": "path",
            "name": "suggestion_id",
            "required": true,
            "schema": {
              "title": "Suggestion Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Reject Suggestion",
        "tags": [
          "scheduler"
        ]
      }
    },
    "/sessions/recent": {
      "get": {
        "description": "Get recent sessions grouped from activity events.\nSessions are contiguous windows of activity with no gap > 30 minutes.",
        "operationId": "get_recent_sessions_sessions_recent_get",
        "parameters": [
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 10,
              "maximum": 50,
              "minimum": 1,
              "title": "Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/api_events__SessionSummary"
                  },
                  "title": "Response Get Recent Sessions Sessions Recent Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Recent Sessions",
        "tags": [
          "sessions"
        ]
      }
    },
    "/sessions/start": {
      "post": {
        "description": "Start a new research/browsing session.\nReturns session_id for tracking artifacts and activity.",
        "operationId": "start_session_sessions_start_post",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response Start Session Sessions Start Post",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Start Session",
        "tags": [
          "sessions"
        ]
      }
    },
    "/sessions/stop": {
      "post": {
        "description": "Stop an active research/browsing session.",
        "operationId": "stop_session_sessions_stop_post",
        "parameters": [
          {
            "description": "Session ID to stop",
            "in": "query",
            "name": "session_id",
            "required": true,
            "schema": {
              "description": "Session ID to stop",
              "title": "Session Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response Stop Session Sessions Stop Post",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Stop Session",
        "tags": [
          "sessions"
        ]
      }
    },
    "/signals/": {
      "get": {
        "description": "List signals with optional filters.",
        "operationId": "list_signals_endpoint_signals__get",
        "parameters": [
          {
            "in": "query",
            "name": "signal_type",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/SignalType"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Signal Type"
            }
          },
          {
            "in": "query",
            "name": "document_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Document Id"
            }
          },
          {
            "in": "query",
            "name": "block_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Block Id"
            }
          },
          {
            "in": "query",
            "name": "concept_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Concept Id"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 100,
              "maximum": 1000,
              "minimum": 1,
              "title": "Limit",
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "offset",
            "required": false,
            "schema": {
              "default": 0,
              "minimum": 0,
              "title": "Offset",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SignalListResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "List Signals Endpoint",
        "tags": [
          "signals"
        ]
      },
      "post": {
        "description": "Create a new signal.\n\nSignals update graph state but never directly trigger teaching.",
        "operationId": "create_signal_endpoint_signals__post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SignalCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Signal"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Create Signal Endpoint",
        "tags": [
          "signals"
        ]
      }
    },
    "/signals/concept/{concept_id}": {
      "get": {
        "description": "Get all signals related to a concept.",
        "operationId": "get_signals_for_concept_endpoint_signals_concept__concept_id__get",
        "parameters": [
          {
            "in": "path",
            "name": "concept_id",
            "required": true,
            "schema": {
              "title": "Concept Id",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 50,
              "maximum": 200,
              "minimum": 1,
              "title": "Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/Signal"
                  },
                  "title": "Response Get Signals For Concept Endpoint Signals Concept  Concept Id  Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Signals For Concept Endpoint",
        "tags": [
          "signals"
        ]
      }
    },
    "/signals/tasks": {
      "get": {
        "description": "List tasks with optional filters.",
        "operationId": "list_tasks_endpoint_signals_tasks_get",
        "parameters": [
          {
            "in": "query",
            "name": "status",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/TaskStatus"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Status"
            }
          },
          {
            "in": "query",
            "name": "task_type",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/TaskType"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Task Type"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 50,
              "maximum": 200,
              "minimum": 1,
              "title": "Limit",
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "offset",
            "required": false,
            "schema": {
              "default": 0,
              "minimum": 0,
              "title": "Offset",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TaskListResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "List Tasks Endpoint",
        "tags": [
          "signals"
        ]
      },
      "post": {
        "description": "Create a new background task.\n\nTasks are queued for background processing and can be polled for status.",
        "operationId": "create_task_endpoint_signals_tasks_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TaskCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Task"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Create Task Endpoint",
        "tags": [
          "signals"
        ]
      }
    },
    "/signals/tasks/{task_id}": {
      "get": {
        "description": "Get a task by ID.",
        "operationId": "get_task_endpoint_signals_tasks__task_id__get",
        "parameters": [
          {
            "in": "path",
            "name": "task_id",
            "required": true,
            "schema": {
              "title": "Task Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Task"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Task Endpoint",
        "tags": [
          "signals"
        ]
      }
    },
    "/snapshots/": {
      "get": {
        "operationId": "list_snapshots_endpoint_snapshots__get",
        "parameters": [
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 50,
              "title": "Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SnapshotListResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "List Snapshots Endpoint",
        "tags": [
          "snapshots"
        ]
      },
      "post": {
        "operationId": "create_snapshot_endpoint_snapshots__post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SnapshotCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response Create Snapshot Endpoint Snapshots  Post",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Create Snapshot Endpoint",
        "tags": [
          "snapshots"
        ]
      }
    },
    "/snapshots/{snapshot_id}/restore": {
      "post": {
        "operationId": "restore_snapshot_endpoint_snapshots__snapshot_id__restore_post",
        "parameters": [
          {
            "in": "path",
            "name": "snapshot_id",
            "required": true,
            "schema": {
              "title": "Snapshot Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SnapshotRestoreResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Restore Snapshot Endpoint",
        "tags": [
          "snapshots"
        ]
      }
    },
    "/study/clarify": {
      "post": {
        "description": "Clarify a selection by generating a grounded explanation.\n\nPhase 1: Uses OpenAI to generate explanation from context.",
        "operationId": "clarify_selection_study_clarify_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ClarifyRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ClarifyResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Clarify Selection",
        "tags": [
          "study"
        ]
      }
    },
    "/study/context/from-selection": {
      "post": {
        "description": "Build context pack from a selection (quote or artifact).\n\nReturns grounded excerpts sorted by relevance, plus related concepts.",
        "operationId": "get_context_from_selection_study_context_from_selection_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ContextRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContextPack"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Context From Selection",
        "tags": [
          "study"
        ]
      }
    },
    "/study/session/start": {
      "post": {
        "description": "Start a new guided study session.\n\nPhase 2: Creates session and generates first task.",
        "operationId": "start_study_session_study_session_start_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StartSessionRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StartSessionResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Start Study Session",
        "tags": [
          "study"
        ]
      }
    },
    "/study/session/{session_id}": {
      "get": {
        "description": "Get current session state.\n\nPhase 2: Returns session info and task history.",
        "operationId": "get_session_state_study_session__session_id__get",
        "parameters": [
          {
            "in": "path",
            "name": "session_id",
            "required": true,
            "schema": {
              "title": "Session Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Session State",
        "tags": [
          "study"
        ]
      }
    },
    "/study/session/{session_id}/end": {
      "post": {
        "description": "End a study session and return summary.\n\nPhase 2: Marks session as complete and returns stats.",
        "operationId": "end_study_session_study_session__session_id__end_post",
        "parameters": [
          {
            "in": "path",
            "name": "session_id",
            "required": true,
            "schema": {
              "title": "Session Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/models__study__SessionSummary"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "End Study Session",
        "tags": [
          "study"
        ]
      }
    },
    "/study/session/{session_id}/next": {
      "post": {
        "description": "Get the next task for a session.\n\nPhase 2: Generates next task based on session history.",
        "operationId": "get_next_task_study_session__session_id__next_post",
        "parameters": [
          {
            "in": "path",
            "name": "session_id",
            "required": true,
            "schema": {
              "title": "Session Id",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "current_mode",
            "required": false,
            "schema": {
              "title": "Current Mode",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NextTaskResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Next Task",
        "tags": [
          "study"
        ]
      }
    },
    "/study/task/{task_id}/attempt": {
      "post": {
        "description": "Submit and evaluate a task attempt.\n\nPhase 2: Evaluates response and provides feedback.",
        "operationId": "submit_task_attempt_study_task__task_id__attempt_post",
        "parameters": [
          {
            "in": "path",
            "name": "task_id",
            "required": true,
            "schema": {
              "title": "Task Id",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AttemptRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AttemptResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Submit Task Attempt",
        "tags": [
          "study"
        ]
      }
    },
    "/suggestions": {
      "get": {
        "description": "Get rule-based suggestions for improving the graph.\n\nIf concept_id is provided, returns only suggestions relevant to that concept.\nOtherwise, returns general suggestions for the graph.\n\nReturns suggestions sorted by priority (descending).",
        "operationId": "get_suggestions_suggestions_get",
        "parameters": [
          {
            "description": "Maximum number of suggestions to return",
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 20,
              "description": "Maximum number of suggestions to return",
              "maximum": 100,
              "minimum": 1,
              "title": "Limit",
              "type": "integer"
            }
          },
          {
            "description": "Graph ID (optional, uses active if not provided)",
            "in": "query",
            "name": "graph_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Graph ID (optional, uses active if not provided)",
              "title": "Graph Id"
            }
          },
          {
            "description": "Comma-separated list of recent concept IDs",
            "in": "query",
            "name": "recent_concepts",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Comma-separated list of recent concept IDs",
              "title": "Recent Concepts"
            }
          },
          {
            "description": "Concept ID to scope suggestions to (optional)",
            "in": "query",
            "name": "concept_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Concept ID to scope suggestions to (optional)",
              "title": "Concept Id"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "additionalProperties": true,
                    "type": "object"
                  },
                  "title": "Response Get Suggestions Suggestions Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Suggestions",
        "tags": [
          "suggestions"
        ]
      }
    },
    "/suggestions/paths": {
      "get": {
        "description": "Get suggested learning paths starting from a specific concept.",
        "operationId": "get_suggested_paths_suggestions_paths_get",
        "parameters": [
          {
            "description": "Starting concept ID",
            "in": "query",
            "name": "concept_id",
            "required": true,
            "schema": {
              "description": "Starting concept ID",
              "title": "Concept Id",
              "type": "string"
            }
          },
          {
            "description": "Number of paths to return",
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 3,
              "description": "Number of paths to return",
              "maximum": 10,
              "minimum": 1,
              "title": "Limit",
              "type": "integer"
            }
          },
          {
            "description": "Graph ID",
            "in": "query",
            "name": "graph_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Graph ID",
              "title": "Graph Id"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "additionalProperties": true,
                    "type": "object"
                  },
                  "title": "Response Get Suggested Paths Suggestions Paths Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Suggested Paths",
        "tags": [
          "suggestions"
        ]
      }
    },
    "/sync/capture-selection": {
      "post": {
        "operationId": "capture_selection_endpoint_sync_capture_selection_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CaptureSelectionRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CaptureSelectionResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Capture Selection Endpoint",
        "tags": [
          "sync"
        ]
      }
    },
    "/sync/events": {
      "post": {
        "description": "Apply a batch of client-generated events (offline outbox).\n\nIdempotency:\n- Uses (:ClientEvent {graph_id, event_id}) as a dedupe gate.\n- This implementation is conservative: if an event id is seen, we treat it as duplicate.\n  (You can evolve this to exactly-once semantics by using a single write transaction and\n   flipping e.applied=true only if handler succeeds.)",
        "operationId": "sync_events_sync_events_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SyncEventsRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SyncEventsResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Sync Events",
        "tags": [
          "sync"
        ]
      }
    },
    "/tasks": {
      "get": {
        "description": "List tasks for the current session.",
        "operationId": "list_tasks_tasks_get",
        "parameters": [
          {
            "description": "Number of days to look ahead",
            "in": "query",
            "name": "range",
            "required": false,
            "schema": {
              "default": 7,
              "description": "Number of days to look ahead",
              "title": "Range",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TaskListResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "List Tasks",
        "tags": [
          "tasks"
        ]
      },
      "post": {
        "description": "Create a new task.",
        "operationId": "create_task_tasks_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TaskCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Task"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Create Task",
        "tags": [
          "tasks"
        ]
      }
    },
    "/tasks/{task_id}": {
      "delete": {
        "description": "Delete a task.",
        "operationId": "delete_task_tasks__task_id__delete",
        "parameters": [
          {
            "in": "path",
            "name": "task_id",
            "required": true,
            "schema": {
              "title": "Task Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Delete Task",
        "tags": [
          "tasks"
        ]
      },
      "patch": {
        "description": "Update a task.",
        "operationId": "update_task_tasks__task_id__patch",
        "parameters": [
          {
            "in": "path",
            "name": "task_id",
            "required": true,
            "schema": {
              "title": "Task Id",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TaskUpdate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Task"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Update Task",
        "tags": [
          "tasks"
        ]
      }
    },
    "/templates/": {
      "get": {
        "operationId": "list_templates_endpoint_templates__get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "List Templates Endpoint",
        "tags": [
          "templates"
        ]
      },
      "post": {
        "operationId": "create_template_endpoint_templates__post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TemplatePayload"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Create Template Endpoint",
        "tags": [
          "templates"
        ]
      }
    },
    "/templates/import": {
      "post": {
        "operationId": "import_template_endpoint_templates_import_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ImportTemplatePayload"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Import Template Endpoint",
        "tags": [
          "templates"
        ]
      }
    },
    "/templates/{template_id}": {
      "delete": {
        "operationId": "delete_template_endpoint_templates__template_id__delete",
        "parameters": [
          {
            "in": "path",
            "name": "template_id",
            "required": true,
            "schema": {
              "title": "Template Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Delete Template Endpoint",
        "tags": [
          "templates"
        ]
      },
      "get": {
        "operationId": "get_template_endpoint_templates__template_id__get",
        "parameters": [
          {
            "in": "path",
            "name": "template_id",
            "required": true,
            "schema": {
              "title": "Template Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Get Template Endpoint",
        "tags": [
          "templates"
        ]
      },
      "patch": {
        "operationId": "update_template_endpoint_templates__template_id__patch",
        "parameters": [
          {
            "in": "path",
            "name": "template_id",
            "required": true,
            "schema": {
              "title": "Template Id",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TemplateUpdatePayload"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Update Template Endpoint",
        "tags": [
          "templates"
        ]
      }
    },
    "/templates/{template_id}/clone": {
      "post": {
        "operationId": "clone_template_endpoint_templates__template_id__clone_post",
        "parameters": [
          {
            "in": "path",
            "name": "template_id",
            "required": true,
            "schema": {
              "title": "Template Id",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CloneTemplatePayload"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Clone Template Endpoint",
        "tags": [
          "templates"
        ]
      }
    },
    "/templates/{template_id}/export": {
      "get": {
        "operationId": "export_template_endpoint_templates__template_id__export_get",
        "parameters": [
          {
            "in": "path",
            "name": "template_id",
            "required": true,
            "schema": {
              "title": "Template Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Export Template Endpoint",
        "tags": [
          "templates"
        ]
      }
    },
    "/tests/manifest": {
      "get": {
        "description": "Return the test suites and tests metadata.\n\nReturns:\n    Dictionary with \"suites\" key containing list of test suites,\n    each with id, label, description, and list of tests.",
        "operationId": "get_tests_manifest_tests_manifest_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response Get Tests Manifest Tests Manifest Get",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Get Tests Manifest",
        "tags": [
          "tests"
        ]
      }
    },
    "/tests/run": {
      "post": {
        "description": "Run pytest on selected tests and return structured results.\n\nArgs:\n    payload: TestRunRequest with either:\n        - tests: list of specific test paths (e.g., [\"backend/tests/test_concepts_api.py::TestGetConceptById::test_get_concept_by_id_success\"])\n        - suite_ids: list of suite IDs to run all tests in those suites\n\nReturns:\n    TestRunResponse with results for each test/group",
        "operationId": "run_tests_tests_run_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TestRunRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TestRunResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Run Tests",
        "tags": [
          "tests"
        ]
      }
    },
    "/trails": {
      "get": {
        "description": "List trails, optionally filtered by status.",
        "operationId": "list_trails_endpoint_trails_get",
        "parameters": [
          {
            "description": "Filter by status (e.g., 'active')",
            "in": "query",
            "name": "status",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by status (e.g., 'active')",
              "title": "Status"
            }
          },
          {
            "description": "Maximum number of trails to return",
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 10,
              "description": "Maximum number of trails to return",
              "maximum": 100,
              "minimum": 1,
              "title": "Limit",
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "graph_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Graph Id"
            }
          },
          {
            "in": "query",
            "name": "branch_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Branch Id"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListTrailsResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "List Trails Endpoint",
        "tags": [
          "trails"
        ]
      }
    },
    "/trails/create": {
      "post": {
        "description": "Create a new trail.",
        "operationId": "create_trail_endpoint_trails_create_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateTrailRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateTrailResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Create Trail Endpoint",
        "tags": [
          "trails"
        ]
      }
    },
    "/trails/{trail_id}": {
      "get": {
        "description": "Get a trail with all its steps.",
        "operationId": "get_trail_endpoint_trails__trail_id__get",
        "parameters": [
          {
            "in": "path",
            "name": "trail_id",
            "required": true,
            "schema": {
              "title": "Trail Id",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "graph_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Graph Id"
            }
          },
          {
            "in": "query",
            "name": "branch_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Branch Id"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetTrailResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Trail Endpoint",
        "tags": [
          "trails"
        ]
      }
    },
    "/trails/{trail_id}/append": {
      "post": {
        "description": "Append a step to a trail.",
        "operationId": "append_step_endpoint_trails__trail_id__append_post",
        "parameters": [
          {
            "in": "path",
            "name": "trail_id",
            "required": true,
            "schema": {
              "title": "Trail Id",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AppendStepRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AppendStepResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Append Step Endpoint",
        "tags": [
          "trails"
        ]
      }
    },
    "/trails/{trail_id}/archive": {
      "post": {
        "description": "Archive a trail.",
        "operationId": "archive_trail_endpoint_trails__trail_id__archive_post",
        "parameters": [
          {
            "in": "path",
            "name": "trail_id",
            "required": true,
            "schema": {
              "title": "Trail Id",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "graph_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Graph Id"
            }
          },
          {
            "in": "query",
            "name": "branch_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Branch Id"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Archive Trail Endpoint",
        "tags": [
          "trails"
        ]
      }
    },
    "/trails/{trail_id}/resume": {
      "post": {
        "description": "Resume a trail (set active and return last step).",
        "operationId": "resume_trail_endpoint_trails__trail_id__resume_post",
        "parameters": [
          {
            "in": "path",
            "name": "trail_id",
            "required": true,
            "schema": {
              "title": "Trail Id",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "graph_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Graph Id"
            }
          },
          {
            "in": "query",
            "name": "branch_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Branch Id"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResumeTrailResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Resume Trail Endpoint",
        "tags": [
          "trails"
        ]
      }
    },
    "/trails/{trail_id}/to_subgraph": {
      "post": {
        "description": "Convert a trail to a subgraph (nodes and edges).",
        "operationId": "trail_to_subgraph_endpoint_trails__trail_id__to_subgraph_post",
        "parameters": [
          {
            "in": "path",
            "name": "trail_id",
            "required": true,
            "schema": {
              "title": "Trail Id",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TrailToSubgraphRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TrailToSubgraphResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Trail To Subgraph Endpoint",
        "tags": [
          "trails"
        ]
      }
    },
    "/voice-agent/interaction/context": {
      "post": {
        "description": "Get context for a voice interaction (GraphRAG + Supermemory + Commands + Fog Clearing + Continuity).",
        "operationId": "get_interaction_context_voice_agent_interaction_context_post",
        "parameters": [
          {
            "in": "query",
            "name": "graph_id",
            "required": true,
            "schema": {
              "title": "Graph Id",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "branch_id",
            "required": true,
            "schema": {
              "title": "Branch Id",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "transcript",
            "required": true,
            "schema": {
              "title": "Transcript",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "session_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Session Id"
            }
          },
          {
            "in": "query",
            "name": "is_scribe_mode",
            "required": false,
            "schema": {
              "default": false,
              "title": "Is Scribe Mode",
              "type": "boolean"
            }
          },
          {
            "description": "Client epoch ms when user started speaking",
            "in": "query",
            "name": "client_start_ms",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Client epoch ms when user started speaking",
              "title": "Client Start Ms"
            }
          },
          {
            "description": "Client epoch ms when user ended speaking",
            "in": "query",
            "name": "client_end_ms",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Client epoch ms when user ended speaking",
              "title": "Client End Ms"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Interaction Context",
        "tags": [
          "voice-agent"
        ]
      }
    },
    "/voice-agent/memories": {
      "get": {
        "description": "Fetch recent memory sync events.",
        "operationId": "get_memories_voice_agent_memories_get",
        "parameters": [
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 20,
              "maximum": 100,
              "minimum": 1,
              "title": "Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Memories",
        "tags": [
          "voice-agent"
        ]
      }
    },
    "/voice-agent/session/start": {
      "post": {
        "description": "Start a new voice session.",
        "operationId": "start_voice_session_voice_agent_session_start_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VoiceSessionCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Start Voice Session",
        "tags": [
          "voice-agent"
        ]
      }
    },
    "/voice-agent/session/stop/{session_id}": {
      "post": {
        "description": "Stop an active voice session.",
        "operationId": "stop_voice_session_voice_agent_session_stop__session_id__post",
        "parameters": [
          {
            "in": "path",
            "name": "session_id",
            "required": true,
            "schema": {
              "title": "Session Id",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "duration_seconds",
            "required": true,
            "schema": {
              "title": "Duration Seconds",
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "tokens_used",
            "required": true,
            "schema": {
              "title": "Tokens Used",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Stop Voice Session",
        "tags": [
          "voice-agent"
        ]
      }
    },
    "/voice-agent/session/{session_id}/signals": {
      "get": {
        "description": "List extracted learning signals for a voice session.",
        "operationId": "get_voice_session_signals_voice_agent_session__session_id__signals_get",
        "parameters": [
          {
            "in": "path",
            "name": "session_id",
            "required": true,
            "schema": {
              "title": "Session Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Voice Session Signals",
        "tags": [
          "voice-agent"
        ]
      }
    },
    "/voice-agent/session/{session_id}/transcript": {
      "get": {
        "description": "List transcript chunks for a voice session (as artifacts + anchors).",
        "operationId": "get_voice_session_transcript_voice_agent_session__session_id__transcript_get",
        "parameters": [
          {
            "in": "path",
            "name": "session_id",
            "required": true,
            "schema": {
              "title": "Session Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Voice Session Transcript",
        "tags": [
          "voice-agent"
        ]
      }
    },
    "/voice-agent/style-profile": {
      "get": {
        "description": "Return the learned per-account voice style profile (pause/question/humor + VAD prefs).",
        "operationId": "get_voice_style_profile_voice_agent_style_profile_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Get Voice Style Profile",
        "tags": [
          "voice-agent"
        ]
      }
    },
    "/voice-agent/usage": {
      "get": {
        "description": "Fetch daily voice usage statistics.",
        "operationId": "get_voice_usage_voice_agent_usage_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Get Voice Usage",
        "tags": [
          "voice-agent"
        ]
      }
    },
    "/voice-stream/ticket": {
      "post": {
        "description": "Issue a short-lived, one-time ticket used to authenticate a WebSocket connection.\n\nClient flow:\n1) POST /voice-stream/ticket with Authorization: Bearer <JWT>\n2) Connect to WS with ?ticket=... (no JWT in URL)",
        "operationId": "issue_voice_stream_ticket_voice_stream_ticket_post",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Issue Voice Stream Ticket",
        "tags": [
          "voice-stream"
        ]
      }
    },
    "/voice/capture": {
      "post": {
        "description": "Mode A: Voice Capture (Passive)\n\nUsed when the user is thinking or taking notes.\nExamples:\n- \"This part about Bayes feels unclear\"\n- \"This depends on conditional probability\"\n- \"I think this assumption matters later\"\n\nBehavior:\n- Transcribe\n- Attach transcript to the current Block or Concept\n- Classify as reflection / confusion / explanation\n- Update confidence or uncertainty on linked concepts\n- Do NOT interrupt or respond unless asked\n\nThis updates learning state, not conversation.",
        "operationId": "voice_capture_endpoint_voice_capture_post",
        "parameters": [
          {
            "in": "query",
            "name": "document_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Document Id"
            }
          },
          {
            "in": "query",
            "name": "block_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Block Id"
            }
          },
          {
            "in": "query",
            "name": "concept_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Concept Id"
            }
          },
          {
            "in": "query",
            "name": "session_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Session Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VoiceCaptureSignal"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Signal"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Voice Capture Endpoint",
        "tags": [
          "voice"
        ]
      }
    },
    "/voice/command": {
      "post": {
        "description": "Mode B: Voice Command (Active Control)\n\nUsed to direct the system while the user works.\nExamples:\n- \"Hey, work on generating answers to the next few problems while I take notes\"\n- \"Summarize what I just highlighted\"\n- \"What do I need to know to solve the next homework question?\"\n- \"Explain this using only what I've already written\"\n- \"Pause answers until I'm done dictating\"\n\nBehavior:\n- Parse intent\n- Queue background tasks (retrieval, draft answers, gap analysis)\n- Respect mode switching (do not interrupt note-taking)\n- Return results when explicitly requested or when the user pauses\n\nVoice commands are orchestration, not chat.",
        "operationId": "voice_command_endpoint_voice_command_post",
        "parameters": [
          {
            "in": "query",
            "name": "document_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Document Id"
            }
          },
          {
            "in": "query",
            "name": "block_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Block Id"
            }
          },
          {
            "in": "query",
            "name": "concept_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Concept Id"
            }
          },
          {
            "in": "query",
            "name": "session_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Session Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VoiceCommandSignal"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response Voice Command Endpoint Voice Command Post",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Voice Command Endpoint",
        "tags": [
          "voice"
        ]
      }
    },
    "/web-search/classify": {
      "post": {
        "description": "Classify a query focus and search requirements.",
        "operationId": "classify_endpoint_web_search_classify_post",
        "parameters": [
          {
            "description": "Query to classify",
            "in": "query",
            "name": "query",
            "required": true,
            "schema": {
              "description": "Query to classify",
              "title": "Query",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Classify Endpoint",
        "tags": [
          "web-search"
        ]
      }
    },
    "/web-search/crawl-site": {
      "get": {
        "description": "Crawl a specific site using Exa extraction.",
        "operationId": "crawl_site_endpoint_web_search_crawl_site_get",
        "parameters": [
          {
            "description": "Starting URL to crawl",
            "in": "query",
            "name": "start_url",
            "required": true,
            "schema": {
              "description": "Starting URL to crawl",
              "title": "Start Url",
              "type": "string"
            }
          },
          {
            "description": "Maximum pages to crawl",
            "in": "query",
            "name": "max_pages",
            "required": false,
            "schema": {
              "default": 20,
              "description": "Maximum pages to crawl",
              "title": "Max Pages",
              "type": "integer"
            }
          },
          {
            "description": "Exa subpage crawl target (e.g. content/path)",
            "in": "query",
            "name": "subpage_target",
            "required": false,
            "schema": {
              "default": "content",
              "description": "Exa subpage crawl target (e.g. content/path)",
              "title": "Subpage Target",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Crawl Site Endpoint",
        "tags": [
          "web-search"
        ]
      }
    },
    "/web-search/deep-research": {
      "get": {
        "description": "Perform comprehensive research across multiple queries in parallel using Exa.",
        "operationId": "deep_research_endpoint_web_search_deep_research_get",
        "parameters": [
          {
            "description": "Comma-separated list of research queries (max 10)",
            "in": "query",
            "name": "queries",
            "required": true,
            "schema": {
              "description": "Comma-separated list of research queries (max 10)",
              "title": "Queries",
              "type": "string"
            }
          },
          {
            "description": "Number of results per query (1-5)",
            "in": "query",
            "name": "breadth",
            "required": false,
            "schema": {
              "default": 3,
              "description": "Number of results per query (1-5)",
              "maximum": 5,
              "minimum": 1,
              "title": "Breadth",
              "type": "integer"
            }
          },
          {
            "description": "Time filter: day, week, month, year",
            "in": "query",
            "name": "time_range",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Time filter: day, week, month, year",
              "title": "Time Range"
            }
          },
          {
            "description": "Use Exa Research tasks instead of search-and-fetch",
            "in": "query",
            "name": "use_exa_research",
            "required": false,
            "schema": {
              "default": false,
              "description": "Use Exa Research tasks instead of search-and-fetch",
              "title": "Use Exa Research",
              "type": "boolean"
            }
          },
          {
            "description": "Wait for Exa research task completion before returning",
            "in": "query",
            "name": "exa_research_wait",
            "required": false,
            "schema": {
              "default": true,
              "description": "Wait for Exa research task completion before returning",
              "title": "Exa Research Wait",
              "type": "boolean"
            }
          },
          {
            "description": "Max time to wait for each Exa research task",
            "in": "query",
            "name": "exa_research_timeout_seconds",
            "required": false,
            "schema": {
              "default": 240,
              "description": "Max time to wait for each Exa research task",
              "maximum": 1800,
              "minimum": 5,
              "title": "Exa Research Timeout Seconds",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Deep Research Endpoint",
        "tags": [
          "web-search"
        ]
      }
    },
    "/web-search/discover-news": {
      "get": {
        "description": "Fetch top news across multiple categories for the Discover feed.",
        "operationId": "discover_news_endpoint_web_search_discover_news_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Discover News Endpoint",
        "tags": [
          "web-search"
        ]
      }
    },
    "/web-search/exa/answer": {
      "post": {
        "description": "Exa-backed answer endpoint with policy-driven controls.\nStrict metric queries may be answered by structured providers for deterministic values.",
        "operationId": "exa_answer_endpoint_web_search_exa_answer_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ExaAnswerRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Exa Answer Endpoint",
        "tags": [
          "web-search"
        ]
      }
    },
    "/web-search/exa/research/tasks": {
      "get": {
        "description": "List Exa research tasks.",
        "operationId": "exa_research_list_tasks_endpoint_web_search_exa_research_tasks_get",
        "parameters": [
          {
            "description": "Number of tasks to return",
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 20,
              "description": "Number of tasks to return",
              "maximum": 100,
              "minimum": 1,
              "title": "Limit",
              "type": "integer"
            }
          },
          {
            "description": "Pagination cursor",
            "in": "query",
            "name": "cursor",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Pagination cursor",
              "title": "Cursor"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Exa Research List Tasks Endpoint",
        "tags": [
          "web-search"
        ]
      },
      "post": {
        "description": "Create an Exa research task. Optionally poll until completion.",
        "operationId": "exa_research_create_task_endpoint_web_search_exa_research_tasks_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ExaResearchTaskCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Exa Research Create Task Endpoint",
        "tags": [
          "web-search"
        ]
      }
    },
    "/web-search/exa/research/tasks/{task_id}": {
      "get": {
        "description": "Get an Exa research task (or wait for completion).",
        "operationId": "exa_research_get_task_endpoint_web_search_exa_research_tasks__task_id__get",
        "parameters": [
          {
            "in": "path",
            "name": "task_id",
            "required": true,
            "schema": {
              "title": "Task Id",
              "type": "string"
            }
          },
          {
            "description": "Include task events",
            "in": "query",
            "name": "include_events",
            "required": false,
            "schema": {
              "default": false,
              "description": "Include task events",
              "title": "Include Events",
              "type": "boolean"
            }
          },
          {
            "description": "Poll until terminal task status",
            "in": "query",
            "name": "wait",
            "required": false,
            "schema": {
              "default": false,
              "description": "Poll until terminal task status",
              "title": "Wait",
              "type": "boolean"
            }
          },
          {
            "in": "query",
            "name": "timeout_seconds",
            "required": false,
            "schema": {
              "default": 180,
              "maximum": 1800,
              "minimum": 1,
              "title": "Timeout Seconds",
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "poll_interval_seconds",
            "required": false,
            "schema": {
              "default": 2.0,
              "maximum": 30.0,
              "minimum": 0.5,
              "title": "Poll Interval Seconds",
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Exa Research Get Task Endpoint",
        "tags": [
          "web-search"
        ]
      }
    },
    "/web-search/fetch": {
      "get": {
        "description": "Fetch and extract clean content from a webpage using Exa.",
        "operationId": "fetch_endpoint_web_search_fetch_get",
        "parameters": [
          {
            "description": "URL to fetch content from",
            "in": "query",
            "name": "url",
            "required": true,
            "schema": {
              "description": "URL to fetch content from",
              "title": "Url",
              "type": "string"
            }
          },
          {
            "description": "Maximum content length",
            "in": "query",
            "name": "max_length",
            "required": false,
            "schema": {
              "default": 20000,
              "description": "Maximum content length",
              "title": "Max Length",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Fetch Endpoint",
        "tags": [
          "web-search"
        ]
      }
    },
    "/web-search/health": {
      "get": {
        "description": "Health check endpoint.",
        "operationId": "health_check_web_search_health_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Health Check",
        "tags": [
          "web-search"
        ]
      }
    },
    "/web-search/live-metric": {
      "get": {
        "description": "Resolve structured live metrics (stocks, crypto, FX, macro indicators) using the provider router.",
        "operationId": "live_metric_endpoint_web_search_live_metric_get",
        "parameters": [
          {
            "description": "Natural-language live metric query, e.g. 'BTC price', 'USD to EUR exchange rate', 'US inflation rate'",
            "in": "query",
            "name": "query",
            "required": true,
            "schema": {
              "description": "Natural-language live metric query, e.g. 'BTC price', 'USD to EUR exchange rate', 'US inflation rate'",
              "title": "Query",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Live Metric Endpoint",
        "tags": [
          "web-search"
        ]
      }
    },
    "/web-search/news-category": {
      "get": {
        "description": "Fetch news for a specific category.",
        "operationId": "news_category_endpoint_web_search_news_category_get",
        "parameters": [
          {
            "description": "Category: tech, science, culture, sports, entertainment",
            "in": "query",
            "name": "category",
            "required": true,
            "schema": {
              "description": "Category: tech, science, culture, sports, entertainment",
              "title": "Category",
              "type": "string"
            }
          },
          {
            "description": "Number of results",
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 10,
              "description": "Number of results",
              "title": "Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "News Category Endpoint",
        "tags": [
          "web-search"
        ]
      }
    },
    "/web-search/research": {
      "post": {
        "description": "Perform native, graph-aware research using the ResearcherAgent.\nIteratively searches the web and your knowledge graph to provide high-fidelity answers.",
        "operationId": "research_endpoint_web_search_research_post",
        "parameters": [
          {
            "description": "Research query",
            "in": "query",
            "name": "query",
            "required": true,
            "schema": {
              "description": "Research query",
              "title": "Query",
              "type": "string"
            }
          },
          {
            "description": "Active graph space ID",
            "in": "query",
            "name": "active_graph_id",
            "required": false,
            "schema": {
              "default": "default",
              "description": "Active graph space ID",
              "title": "Active Graph Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Research Endpoint",
        "tags": [
          "web-search"
        ]
      }
    },
    "/web-search/search": {
      "get": {
        "description": "Unified real-time search:\n- Exa for web/document search and extraction\n- Structured live market quotes for stock price/metric queries",
        "operationId": "search_endpoint_web_search_search_get",
        "parameters": [
          {
            "description": "Search query",
            "in": "query",
            "name": "query",
            "required": true,
            "schema": {
              "description": "Search query",
              "title": "Query",
              "type": "string"
            }
          },
          {
            "description": "Time filter: day, week, month, year",
            "in": "query",
            "name": "time_range",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Time filter: day, week, month, year",
              "title": "Time Range"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Search Endpoint",
        "tags": [
          "web-search"
        ]
      }
    },
    "/web-search/search-and-fetch": {
      "get": {
        "description": "Search and fetch top results using the unified real-time retrieval layer.\nWeb/document queries use Exa; supported stock metric queries return structured live quotes.",
        "operationId": "search_and_fetch_endpoint_web_search_search_and_fetch_get",
        "parameters": [
          {
            "description": "Search query",
            "in": "query",
            "name": "query",
            "required": true,
            "schema": {
              "description": "Search query",
              "title": "Query",
              "type": "string"
            }
          },
          {
            "description": "Number of results to fetch (1-5)",
            "in": "query",
            "name": "num_results",
            "required": false,
            "schema": {
              "default": 3,
              "description": "Number of results to fetch (1-5)",
              "maximum": 5,
              "minimum": 1,
              "title": "Num Results",
              "type": "integer"
            }
          },
          {
            "description": "Time filter: day, week, month, year",
            "in": "query",
            "name": "time_range",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Time filter: day, week, month, year",
              "title": "Time Range"
            }
          },
          {
            "description": "Maximum content length per page",
            "in": "query",
            "name": "max_content_length",
            "required": false,
            "schema": {
              "default": 15000,
              "description": "Maximum content length per page",
              "title": "Max Content Length",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Search And Fetch Endpoint",
        "tags": [
          "web-search"
        ]
      }
    },
    "/web-search/stock-quote": {
      "get": {
        "description": "Fetch a structured live stock quote snapshot (price, change, market cap, volume).",
        "operationId": "stock_quote_endpoint_web_search_stock_quote_get",
        "parameters": [
          {
            "description": "Ticker symbol, e.g. NVDA",
            "in": "query",
            "name": "symbol",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Ticker symbol, e.g. NVDA",
              "title": "Symbol"
            }
          },
          {
            "description": "Natural language query, e.g. 'current stock price of nvidia'",
            "in": "query",
            "name": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Natural language query, e.g. 'current stock price of nvidia'",
              "title": "Query"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Stock Quote Endpoint",
        "tags": [
          "web-search"
        ]
      }
    },
    "/web-search/translate": {
      "get": {
        "description": "Translate text using LLM.",
        "operationId": "translate_endpoint_web_search_translate_get",
        "parameters": [
          {
            "description": "Text to translate",
            "in": "query",
            "name": "text",
            "required": true,
            "schema": {
              "description": "Text to translate",
              "title": "Text",
              "type": "string"
            }
          },
          {
            "description": "Target language code (e.g., 'en', 'es', 'fr')",
            "in": "query",
            "name": "target_language",
            "required": true,
            "schema": {
              "description": "Target language code (e.g., 'en', 'es', 'fr')",
              "title": "Target Language",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Translate Endpoint",
        "tags": [
          "web-search"
        ]
      }
    },
    "/web-search/youtube-transcript": {
      "get": {
        "description": "Fetch YouTube video transcript.",
        "operationId": "youtube_transcript_endpoint_web_search_youtube_transcript_get",
        "parameters": [
          {
            "description": "YouTube URL or video ID",
            "in": "query",
            "name": "video",
            "required": true,
            "schema": {
              "description": "YouTube URL or video ID",
              "title": "Video",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Youtube Transcript Endpoint",
        "tags": [
          "web-search"
        ]
      }
    },
    "/web/ingest": {
      "post": {
        "description": "Ingest a webpage from the browser extension.\n\nThis endpoint:\n1. Requires authentication (Bearer token)\n2. Validates extension origin (CORS allowlist)\n3. Delegates to shared ingestion service\n\nArgs:\n    payload: WebIngestRequest with webpage details\n    request: FastAPI request (for origin check)\n    auth: Authentication context (dependency)\n    session: Neo4j session (dependency)\n\nReturns:\n    WebIngestResponse with status, artifact_id, run_id, and counts",
        "operationId": "ingest_web_web_ingest_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WebIngestRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WebIngestResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Ingest Web",
        "tags": [
          "web"
        ]
      }
    },
    "/workflows/capture": {
      "post": {
        "description": "Capture workflow: Add content to the knowledge graph.\n\nSupports:\n- Text selection from web pages\n- URL ingestion\n- File uploads",
        "operationId": "capture_workflow_workflows_capture_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CaptureRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CaptureResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Capture Workflow",
        "tags": [
          "workflows"
        ]
      }
    },
    "/workflows/explore": {
      "post": {
        "description": "Explore workflow: Discover and navigate the knowledge graph.\n\nSupports:\n- Semantic search queries\n- Concept exploration\n- Community browsing\n- Graph overview",
        "operationId": "explore_workflow_workflows_explore_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ExploreRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExploreResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Explore Workflow",
        "tags": [
          "workflows"
        ]
      }
    },
    "/workflows/status": {
      "get": {
        "description": "Get status and capabilities of each workflow.",
        "operationId": "get_workflow_status_workflows_status_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WorkflowStatusResponse"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Get Workflow Status",
        "tags": [
          "workflows"
        ]
      }
    },
    "/workflows/synthesize": {
      "post": {
        "description": "Synthesize workflow: Generate insights, summaries, and answers.\n\nSupports:\n- AI-powered answers\n- Research memos\n- Concept summaries\n- Claim generation",
        "operationId": "synthesize_workflow_workflows_synthesize_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SynthesizeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SynthesizeResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "summary": "Synthesize Workflow",
        "tags": [
          "workflows"
        ]
      }
    }
  }
}